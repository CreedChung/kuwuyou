import{d,a as l,r as m,j as e}from"./main-DK-6tAy6.js";function u({children:c,redirectTo:i="/auth/login",requireAdmin:r=!1}){const s=d(),{user:t,loading:n,initialized:a}=l();return m.useEffect(()=>{if(!(!a||n)){if(!t){s.navigate({to:i});return}r&&t.role!=="admin"&&s.navigate({to:"/chat"})}},[t,n,a,s,i,r]),!a||n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"加载中..."})]})}):t?r&&t.role!=="admin"?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"无权限访问"})})}):e.jsx(e.Fragment,{children:c}):e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"正在跳转..."})]})})}export{u as P};
