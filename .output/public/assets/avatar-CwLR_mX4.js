import{h as b,r as s,j as u,i as j,b as f,e as m}from"./main-Cueo9Gmc.js";import{c as C}from"./index-DOUzLCEu.js";import{P as v}from"./input-DtfU5s6Y.js";var _=b();function k(){return _.useSyncExternalStore(F,()=>!0,()=>!1)}function F(){return()=>{}}var p="Avatar",[M]=C(p),[P,x]=M(p),S=s.forwardRef((a,e)=>{const{__scopeAvatar:r,...n}=a,[o,t]=s.useState("idle");return u.jsx(P,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:t,children:u.jsx(v.span,{...n,ref:e})})});S.displayName=p;var L="AvatarImage",h=s.forwardRef((a,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...t}=a,l=x(L,r),i=T(n,t),d=j(c=>{o(c),l.onImageLoadingStatusChange(c)});return f(()=>{i!=="idle"&&d(i)},[i,d]),i==="loaded"?u.jsx(v.img,{...t,ref:e,src:n}):null});h.displayName=L;var w="AvatarFallback",y=s.forwardRef((a,e)=>{const{__scopeAvatar:r,delayMs:n,...o}=a,t=x(w,r),[l,i]=s.useState(n===void 0);return s.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>i(!0),n);return()=>window.clearTimeout(d)}},[n]),l&&t.imageLoadingStatus!=="loaded"?u.jsx(v.span,{...o,ref:e}):null});y.displayName=w;function A(a,e){return a?e?(a.src!==e&&(a.src=e),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function T(a,{referrerPolicy:e,crossOrigin:r}){const n=k(),o=s.useRef(null),t=n?(o.current||(o.current=new window.Image),o.current):null,[l,i]=s.useState(()=>A(t,a));return f(()=>{i(A(t,a))},[t,a]),f(()=>{const d=I=>()=>{i(I)};if(!t)return;const c=d("loaded"),g=d("error");return t.addEventListener("load",c),t.addEventListener("error",g),e&&(t.referrerPolicy=e),typeof r=="string"&&(t.crossOrigin=r),()=>{t.removeEventListener("load",c),t.removeEventListener("error",g)}},[t,r,e]),l}var E=S,N=h,R=y;const $=s.forwardRef(({className:a,interactive:e,...r},n)=>u.jsx(E,{ref:n,className:m("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e&&"cursor-pointer transition-transform duration-150 ease-in-out active:scale-95",a),...r}));$.displayName=E.displayName;const q=s.forwardRef(({className:a,...e},r)=>u.jsx(N,{ref:r,className:m("aspect-square h-full w-full",a),...e}));q.displayName=N.displayName;const H=s.forwardRef(({className:a,...e},r)=>u.jsx(R,{ref:r,className:m("flex h-full w-full items-center justify-center rounded-[inherit] bg-secondary text-xs",a),...e}));H.displayName=R.displayName;export{$ as A,H as a};
