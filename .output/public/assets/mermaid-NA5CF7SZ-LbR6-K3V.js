const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mermaid.core-CGnUM3Pf.js","assets/main-Cueo9Gmc.js","assets/code-block-QI2IAROF-BmmL84nz.js","assets/button-r6mHSpo9.js","assets/input-DtfU5s6Y.js","assets/separator-CkqvZLcF.js","assets/dialog-CemJiPxP.js","assets/index-CZGrV-Ob.js","assets/react-icons.esm-Oflcc6fQ.js","assets/tooltip-DczS4KSX.js","assets/index-D2MWPP6r.js","assets/index-DWpIDjon.js","assets/tutorialManager-CBRURvBH.js","assets/trash-2-D_yKYRpA.js","assets/book-open-STSHqvFR.js","assets/brain-D4UtYFKR.js","assets/useAuth-C84NQqcP.js","assets/file-text-xKl8a3dw.js","assets/circle-alert-BnIKkVLL.js","assets/loader-circle-Cbks1rAA.js","assets/avatar-CwLR_mX4.js","assets/index-DOUzLCEu.js","assets/index-CuHsL6Sm.js","assets/index-B_YAqH_L.js","assets/search-c6_-r4tE.js","assets/user-Du091hZZ.js","assets/ProtectedRoute-AJQc2QAr.js","assets/katex-DvXFAOB1.css"])))=>i.map(i=>d[i]);
import{B as o_,c as sa,j as v,e as ht,X as Q4,r as E,f as u_,C as dl,t as Pa,_ as o0,E as l_,F as c_,g as Sa,v as Lo,i as e3,P as u0,o as d_,k as h_,m as Nu,l as Mt,D as f_,n as p_,d as m_,x as qe,w as zl,s as g_}from"./main-Cueo9Gmc.js";import{S as y_,B as er}from"./button-r6mHSpo9.js";import{C as b_,P as di}from"./input-DtfU5s6Y.js";import{a as v_}from"./separator-CkqvZLcF.js";import{f as t3,C as r3,g as x_,T as w_,i as T_,P as n3,O as a3,D as Lh,c as Fh,d as Bh,a as jh,h as E_,u as k_,R as __,F as S_,b as X1,e as J1}from"./dialog-CemJiPxP.js";import{T as A_,a as C_,b as I_,c as N_}from"./tooltip-DczS4KSX.js";import{a as R_,S as O_,h as M_,m as P_}from"./tutorialManager-CBRURvBH.js";import{G as $h,b as J0,a as Q0,R as D_,M as L_,C as F_,d as B_,c as Q1,T as eg}from"./trash-2-D_yKYRpA.js";import{B as _p}from"./book-open-STSHqvFR.js";import{B as j_}from"./brain-D4UtYFKR.js";import{u as i3}from"./useAuth-C84NQqcP.js";import{F as zh}from"./file-text-xKl8a3dw.js";import{C as rc}from"./circle-alert-BnIKkVLL.js";import{L as tg}from"./loader-circle-Cbks1rAA.js";import{M as $_}from"./react-icons.esm-Oflcc6fQ.js";import{u as Ja}from"./index-CZGrV-Ob.js";import{A as rg,a as ng}from"./avatar-CwLR_mX4.js";import{u as z_}from"./index-CuHsL6Sm.js";import{c as s3,R as U_,A as H_,C as V_,a as q_}from"./index-D2MWPP6r.js";import{c as o3,I as W_,R as Z_}from"./index-B_YAqH_L.js";import{S as G_}from"./search-c6_-r4tE.js";import{U as Y_}from"./user-Du091hZZ.js";import{P as K_}from"./ProtectedRoute-AJQc2QAr.js";function X_(e){return o_({select:t=>t.location})}const J_=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],ja=sa("check-check",J_);const Q_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$a=sa("copy",Q_);const eS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tS=sa("external-link",eS);const rS=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],u3=sa("lightbulb",rS);const nS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]],ag=sa("message-square-plus",nS);const aS=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],iS=sa("mic-off",aS);const sS=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],oS=sa("mic",sS);const uS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],lS=sa("panel-left",uS);const cS=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],ig=sa("paperclip",cS);const dS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],hS=sa("square",dS);function fS({...e}){return v.jsx(t3,{"data-slot":"sheet",...e})}function pS({...e}){return v.jsx(n3,{"data-slot":"sheet-portal",...e})}function mS({className:e,...t}){return v.jsx(a3,{"data-slot":"sheet-overlay",className:ht("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function gS({className:e,children:t,side:r="right",...n}){return v.jsxs(pS,{children:[v.jsx(mS,{}),v.jsxs(r3,{"data-slot":"sheet-content",className:ht("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[t,v.jsxs(x_,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[v.jsx(Q4,{className:"size-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function yS({className:e,...t}){return v.jsx("div",{"data-slot":"sheet-header",className:ht("flex flex-col gap-1.5 p-4",e),...t})}function bS({className:e,...t}){return v.jsx(w_,{"data-slot":"sheet-title",className:ht("text-foreground font-semibold",e),...t})}function vS({className:e,...t}){return v.jsx(T_,{"data-slot":"sheet-description",className:ht("text-muted-foreground text-sm",e),...t})}const ed=768;function xS(){const[e,t]=E.useState(void 0);return E.useEffect(()=>{const r=window.matchMedia(`(max-width: ${ed-1}px)`),n=()=>{t(window.innerWidth<ed)};return r.addEventListener("change",n),t(window.innerWidth<ed),()=>r.removeEventListener("change",n)},[]),!!e}const wS="sidebar_state",TS=3600*24*7,ES="16rem",kS="18rem",_S="3rem",SS="b";function AS(e,t,r){const n=`${e}=${t}; path=/; max-age=${r}`;document.cookie=n}const l3=E.createContext(null);function l0(){const e=E.useContext(l3);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function CS({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:i,...s}){const o=xS(),[u,l]=E.useState(!1),[c,d]=E.useState(e),h=t??c,f=E.useCallback(y=>{const x=typeof y=="function"?y(h):y;r?r(x):d(x),AS(wS,String(x),TS)},[r,h]),p=E.useCallback(()=>o?l(y=>!y):f(y=>!y),[o,f]);E.useEffect(()=>{const y=x=>{x.key===SS&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),p())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[p]);const g=h?"expanded":"collapsed",T=E.useMemo(()=>({state:g,open:h,setOpen:f,isMobile:o,openMobile:u,setOpenMobile:l,toggleSidebar:p}),[g,h,f,o,u,p]);return v.jsx(l3.Provider,{value:T,children:v.jsx(A_,{delayDuration:0,children:v.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":ES,"--sidebar-width-icon":_S,...a},className:ht("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...s,children:i})})})}function IS({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...i}){const{isMobile:s,state:o,openMobile:u,setOpenMobile:l}=l0();return r==="none"?v.jsx("div",{"data-slot":"sidebar",className:ht("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",n),...i,children:a}):s?v.jsx(fS,{open:u,onOpenChange:l,...i,children:v.jsxs(gS,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":kS},side:e,children:[v.jsxs(yS,{className:"sr-only",children:[v.jsx(bS,{children:"Sidebar"}),v.jsx(vS,{children:"Displays the mobile sidebar."})]}),v.jsx("div",{className:"flex h-full w-full flex-col",children:a})]})}):v.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":o,"data-collapsible":o==="collapsed"?r:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[v.jsx("div",{"data-slot":"sidebar-gap",className:ht("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),v.jsx("div",{"data-slot":"sidebar-container",className:ht("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:v.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:a})})]})}function NS({className:e,onClick:t,...r}){const{toggleSidebar:n}=l0();return v.jsxs(er,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:ht("size-7",e),onClick:a=>{t?.(a),n()},...r,children:[v.jsx(lS,{}),v.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function RS({className:e,...t}){return v.jsx("main",{"data-slot":"sidebar-inset",className:ht("bg-blue-500 relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...t})}function OS({className:e,...t}){return v.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:ht("flex flex-col gap-2 p-2",e),...t})}function MS({className:e,...t}){return v.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:ht("flex flex-col gap-2 p-2",e),...t})}function PS({className:e,...t}){return v.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:ht("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function DS({className:e,...t}){return v.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:ht("relative flex w-full min-w-0 flex-col p-2",e),...t})}function LS({className:e,...t}){return v.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:ht("w-full text-sm",e),...t})}function sg({className:e,...t}){return v.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:ht("flex w-full min-w-0 flex-col gap-1",e),...t})}function og({className:e,...t}){return v.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:ht("group/menu-item relative",e),...t})}const FS=u_("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function BS({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:i,...s}){const o=e?y_:"button",{isMobile:u,state:l}=l0(),c=v.jsx(o,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":t,className:ht(FS({variant:r,size:n}),i),...s});return a?(typeof a=="string"&&(a={children:a}),v.jsxs(C_,{children:[v.jsx(I_,{asChild:!0,children:c}),v.jsx(N_,{side:"right",align:"center",hidden:l!=="collapsed"||u,...a})]})):c}const Sp=E.createContext({});function Ap(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const Cp=typeof window<"u",c3=Cp?E.useLayoutEffect:E.useEffect,c0=E.createContext(null);function Ip(e,t){e.indexOf(t)===-1&&e.push(t)}function Np(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Aa=(e,t,r)=>r>t?t:r<e?e:r;let Rp=()=>{};const Ca={},d3=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function h3(e){return typeof e=="object"&&e!==null}const f3=e=>/^0[^.\s]+$/u.test(e);function Op(e){let t;return()=>(t===void 0&&(t=e()),t)}const mn=e=>e,jS=(e,t)=>r=>t(e(r)),Ru=(...e)=>e.reduce(jS),tu=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Mp{constructor(){this.subscriptions=[]}add(t){return Ip(this.subscriptions,t),()=>Np(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qn=e=>e*1e3,dn=e=>e/1e3;function p3(e,t){return t?e*(1e3/t):0}const m3=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,$S=1e-7,zS=12;function US(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=m3(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>$S&&++o<zS);return s}function Ou(e,t,r,n){if(e===t&&r===n)return mn;const a=i=>US(i,0,1,e,r);return i=>i===0||i===1?i:m3(a(i),t,n)}const g3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,y3=e=>t=>1-e(1-t),b3=Ou(.33,1.53,.69,.99),Pp=y3(b3),v3=g3(Pp),x3=e=>(e*=2)<1?.5*Pp(e):.5*(2-Math.pow(2,-10*(e-1))),Dp=e=>1-Math.sin(Math.acos(e)),w3=y3(Dp),T3=g3(Dp),HS=Ou(.42,0,1,1),VS=Ou(0,0,.58,1),E3=Ou(.42,0,.58,1),qS=e=>Array.isArray(e)&&typeof e[0]!="number",k3=e=>Array.isArray(e)&&typeof e[0]=="number",WS={linear:mn,easeIn:HS,easeInOut:E3,easeOut:VS,circIn:Dp,circInOut:T3,circOut:w3,backIn:Pp,backInOut:v3,backOut:b3,anticipate:x3},ZS=e=>typeof e=="string",ug=e=>{if(k3(e)){Rp(e.length===4);const[t,r,n,a]=e;return Ou(t,r,n,a)}else if(ZS(e))return WS[e];return e},hl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function GS(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function u(c){s.has(c)&&(l.schedule(c),e()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const p=h&&a?r:n;return d&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(u),r.clear(),a=!1,i&&(i=!1,l.process(c))}};return l}const YS=40;function _3(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=hl.reduce((_,k)=>(_[k]=GS(i),_),{}),{setup:o,read:u,resolveKeyframes:l,preUpdate:c,update:d,preRender:h,render:f,postRender:p}=s,g=()=>{const _=Ca.useManualTiming?a.timestamp:performance.now();r=!1,Ca.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(_-a.timestamp,YS),1)),a.timestamp=_,a.isProcessing=!0,o.process(a),u.process(a),l.process(a),c.process(a),d.process(a),h.process(a),f.process(a),p.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(g))},T=()=>{r=!0,n=!0,a.isProcessing||e(g)};return{schedule:hl.reduce((_,k)=>{const C=s[k];return _[k]=(A,P=!1,D=!1)=>(r||T(),C.schedule(A,P,D)),_},{}),cancel:_=>{for(let k=0;k<hl.length;k++)s[hl[k]].cancel(_)},state:a,steps:s}}const{schedule:Ft,cancel:Qa,state:dr,steps:td}=_3(typeof requestAnimationFrame<"u"?requestAnimationFrame:mn,!0);let Ul;function KS(){Ul=void 0}const jr={now:()=>(Ul===void 0&&jr.set(dr.isProcessing||Ca.useManualTiming?dr.timestamp:performance.now()),Ul),set:e=>{Ul=e,queueMicrotask(KS)}},S3=e=>t=>typeof t=="string"&&t.startsWith(e),A3=S3("--"),XS=S3("var(--"),Lp=e=>XS(e)?JS.test(e.split("/*")[0].trim()):!1,JS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ru={...Hs,transform:e=>Aa(0,1,e)},fl={...Hs,default:1},Fo=e=>Math.round(e*1e5)/1e5,Fp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QS(e){return e==null}const eA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bp=(e,t)=>r=>!!(typeof r=="string"&&eA.test(r)&&r.startsWith(e)||t&&!QS(r)&&Object.prototype.hasOwnProperty.call(r,t)),C3=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(Fp);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},tA=e=>Aa(0,255,e),rd={...Hs,transform:e=>Math.round(tA(e))},ki={test:Bp("rgb","red"),parse:C3("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+rd.transform(e)+", "+rd.transform(t)+", "+rd.transform(r)+", "+Fo(ru.transform(n))+")"};function rA(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Uh={test:Bp("#"),parse:rA,transform:ki.transform},Mu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Va=Mu("deg"),ea=Mu("%"),je=Mu("px"),nA=Mu("vh"),aA=Mu("vw"),lg={...ea,parse:e=>ea.parse(e)/100,transform:e=>ea.transform(e*100)},cs={test:Bp("hsl","hue"),parse:C3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ea.transform(Fo(t))+", "+ea.transform(Fo(r))+", "+Fo(ru.transform(n))+")"},Jt={test:e=>ki.test(e)||Uh.test(e)||cs.test(e),parse:e=>ki.test(e)?ki.parse(e):cs.test(e)?cs.parse(e):Uh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ki.transform(e):cs.transform(e),getAnimatableNone:e=>{const t=Jt.parse(e);return t.alpha=0,Jt.transform(t)}},iA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sA(e){return isNaN(e)&&typeof e=="string"&&(e.match(Fp)?.length||0)+(e.match(iA)?.length||0)>0}const I3="number",N3="color",oA="var",uA="var(",cg="${}",lA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nu(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(lA,u=>(Jt.test(u)?(n.color.push(i),a.push(N3),r.push(Jt.parse(u))):u.startsWith(uA)?(n.var.push(i),a.push(oA),r.push(u)):(n.number.push(i),a.push(I3),r.push(parseFloat(u))),++i,cg)).split(cg);return{values:r,split:o,indexes:n,types:a}}function R3(e){return nu(e).values}function O3(e){const{split:t,types:r}=nu(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===I3?i+=Fo(a[s]):o===N3?i+=Jt.transform(a[s]):i+=a[s]}return i}}const cA=e=>typeof e=="number"?0:Jt.test(e)?Jt.getAnimatableNone(e):e;function dA(e){const t=R3(e);return O3(e)(t.map(cA))}const ei={test:sA,parse:R3,createTransformer:O3,getAnimatableNone:dA};function nd(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hA({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,u=2*r-o;a=nd(u,o,e+1/3),i=nd(u,o,e),s=nd(u,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function nc(e,t){return r=>r>0?t:e}const Ut=(e,t,r)=>e+(t-e)*r,ad=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},fA=[Uh,ki,cs],pA=e=>fA.find(t=>t.test(e));function dg(e){const t=pA(e);if(!t)return!1;let r=t.parse(e);return t===cs&&(r=hA(r)),r}const hg=(e,t)=>{const r=dg(e),n=dg(t);if(!r||!n)return nc(e,t);const a={...r};return i=>(a.red=ad(r.red,n.red,i),a.green=ad(r.green,n.green,i),a.blue=ad(r.blue,n.blue,i),a.alpha=Ut(r.alpha,n.alpha,i),ki.transform(a))},Hh=new Set(["none","hidden"]);function mA(e,t){return Hh.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function gA(e,t){return r=>Ut(e,t,r)}function jp(e){return typeof e=="number"?gA:typeof e=="string"?Lp(e)?nc:Jt.test(e)?hg:vA:Array.isArray(e)?M3:typeof e=="object"?Jt.test(e)?hg:yA:nc}function M3(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>jp(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function yA(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=jp(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function bA(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const vA=(e,t)=>{const r=ei.createTransformer(t),n=nu(e),a=nu(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?Hh.has(e)&&!a.values.length||Hh.has(t)&&!n.values.length?mA(e,t):Ru(M3(bA(n,a),a.values),r):nc(e,t)};function P3(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ut(e,t,r):jp(e)(e,t)}const xA=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Ft.update(t,r),stop:()=>Qa(t),now:()=>dr.isProcessing?dr.timestamp:jr.now()}},D3=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},ac=2e4;function $p(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<ac;)t+=r,n=e.next(t);return t>=ac?1/0:t}function wA(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min($p(n),ac);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:dn(a)}}const TA=5;function L3(e,t,r){const n=Math.max(t-TA,0);return p3(r-e(n),t-n)}const Wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},id=.001;function EA({duration:e=Wt.duration,bounce:t=Wt.bounce,velocity:r=Wt.velocity,mass:n=Wt.mass}){let a,i,s=1-t;s=Aa(Wt.minDamping,Wt.maxDamping,s),e=Aa(Wt.minDuration,Wt.maxDuration,dn(e)),s<1?(a=l=>{const c=l*s,d=c*e,h=c-r,f=Vh(l,s),p=Math.exp(-d);return id-h/f*p},i=l=>{const d=l*s*e,h=d*r+r,f=Math.pow(s,2)*Math.pow(l,2)*e,p=Math.exp(-d),g=Vh(Math.pow(l,2),s);return(-a(l)+id>0?-1:1)*((h-f)*p)/g}):(a=l=>{const c=Math.exp(-l*e),d=(l-r)*e+1;return-id+c*d},i=l=>{const c=Math.exp(-l*e),d=(r-l)*(e*e);return c*d});const o=5/e,u=_A(a,i,o);if(e=Qn(e),isNaN(u))return{stiffness:Wt.stiffness,damping:Wt.damping,duration:e};{const l=Math.pow(u,2)*n;return{stiffness:l,damping:s*2*Math.sqrt(n*l),duration:e}}}const kA=12;function _A(e,t,r){let n=r;for(let a=1;a<kA;a++)n=n-e(n)/t(n);return n}function Vh(e,t){return e*Math.sqrt(1-t*t)}const SA=["duration","bounce"],AA=["stiffness","damping","mass"];function fg(e,t){return t.some(r=>e[r]!==void 0)}function CA(e){let t={velocity:Wt.velocity,stiffness:Wt.stiffness,damping:Wt.damping,mass:Wt.mass,isResolvedFromDuration:!1,...e};if(!fg(e,AA)&&fg(e,SA))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Aa(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Wt.mass,stiffness:a,damping:i}}else{const r=EA(e);t={...t,...r,mass:Wt.mass},t.isResolvedFromDuration=!0}return t}function ic(e=Wt.visualDuration,t=Wt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:u,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=CA({...r,velocity:-dn(r.velocity||0)}),p=h||0,g=l/(2*Math.sqrt(u*c)),T=s-i,y=dn(Math.sqrt(u/c)),x=Math.abs(T)<5;n||(n=x?Wt.restSpeed.granular:Wt.restSpeed.default),a||(a=x?Wt.restDelta.granular:Wt.restDelta.default);let _;if(g<1){const C=Vh(y,g);_=A=>{const P=Math.exp(-g*y*A);return s-P*((p+g*y*T)/C*Math.sin(C*A)+T*Math.cos(C*A))}}else if(g===1)_=C=>s-Math.exp(-y*C)*(T+(p+y*T)*C);else{const C=y*Math.sqrt(g*g-1);_=A=>{const P=Math.exp(-g*y*A),D=Math.min(C*A,300);return s-P*((p+g*y*T)*Math.sinh(D)+C*T*Math.cosh(D))/C}}const k={calculatedDuration:f&&d||null,next:C=>{const A=_(C);if(f)o.done=C>=d;else{let P=C===0?p:0;g<1&&(P=C===0?Qn(p):L3(_,C,A));const D=Math.abs(P)<=n,$=Math.abs(s-A)<=a;o.done=D&&$}return o.value=o.done?s:A,o},toString:()=>{const C=Math.min($p(k),ac),A=D3(P=>k.next(C*P).value,C,30);return C+"ms "+A},toTransition:()=>{}};return k}ic.applyToOptions=e=>{const t=wA(e,100,ic);return e.ease=t.ease,e.duration=Qn(t.duration),e.type="keyframes",e};function qh({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:u,restDelta:l=.5,restSpeed:c}){const d=e[0],h={done:!1,value:d},f=D=>o!==void 0&&D<o||u!==void 0&&D>u,p=D=>o===void 0?u:u===void 0||Math.abs(o-D)<Math.abs(u-D)?o:u;let g=r*t;const T=d+g,y=s===void 0?T:s(T);y!==T&&(g=y-d);const x=D=>-g*Math.exp(-D/n),_=D=>y+x(D),k=D=>{const $=x(D),F=_(D);h.done=Math.abs($)<=l,h.value=h.done?y:F};let C,A;const P=D=>{f(h.value)&&(C=D,A=ic({keyframes:[h.value,p(h.value)],velocity:L3(_,D,h.value),damping:a,stiffness:i,restDelta:l,restSpeed:c}))};return P(0),{calculatedDuration:null,next:D=>{let $=!1;return!A&&C===void 0&&($=!0,k(D),P(D)),C!==void 0&&D>=C?A.next(D-C):(!$&&k(D),h)}}}function IA(e,t,r){const n=[],a=r||Ca.mix||P3,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const u=Array.isArray(t)?t[s]||mn:t;o=Ru(u,o)}n.push(o)}return n}function NA(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(Rp(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=IA(t,n,a),u=o.length,l=c=>{if(s&&c<e[0])return t[0];let d=0;if(u>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const h=tu(e[d],e[d+1],c);return o[d](h)};return r?c=>l(Aa(e[0],e[i-1],c)):l}function RA(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=tu(0,t,n);e.push(Ut(r,1,a))}}function OA(e){const t=[0];return RA(t,e.length-1),t}function MA(e,t){return e.map(r=>r*t)}function PA(e,t){return e.map(()=>t||E3).splice(0,e.length-1)}function Bo({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=qS(n)?n.map(ug):ug(n),i={done:!1,value:t[0]},s=MA(r&&r.length===t.length?r:OA(t),e),o=NA(s,t,{ease:Array.isArray(a)?a:PA(t,a)});return{calculatedDuration:e,next:u=>(i.value=o(u),i.done=u>=e,i)}}const DA=e=>e!==null;function zp(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(DA),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const LA={decay:qh,inertia:qh,tween:Bo,keyframes:Bo,spring:ic};function F3(e){typeof e.type=="string"&&(e.type=LA[e.type])}class Up{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const FA=e=>e/100;class Hp extends Up{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==jr.now()&&this.tick(jr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;F3(t);const{type:r=Bo,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const u=r||Bo;u!==Bo&&typeof o[0]!="number"&&(this.mixKeyframes=Ru(FA,P3(o[0],o[1])),o=[0,100]);const l=u({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...o].reverse(),velocity:-s})),l.calculatedDuration===null&&(l.calculatedDuration=$p(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=l}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:h,repeatDelay:f,type:p,onUpdate:g,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-l*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let _=this.currentTime,k=n;if(d){const D=Math.min(this.currentTime,a)/o;let $=Math.floor(D),F=D%1;!F&&D>=1&&(F=1),F===1&&$--,$=Math.min($,d+1),$%2&&(h==="reverse"?(F=1-F,f&&(F-=f/o)):h==="mirror"&&(k=s)),_=Aa(0,1,F)*o}const C=x?{done:!1,value:c[0]}:k.next(_);i&&(C.value=i(C.value));let{done:A}=C;!x&&u!==null&&(A=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return P&&p!==qh&&(C.value=zp(c,this.options,T,this.speed)),g&&g(C.value),P&&this.finish(),C}then(t,r){return this.finished.then(t,r)}get duration(){return dn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dn(t)}get time(){return dn(this.currentTime)}set time(t){t=Qn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(jr.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=dn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=xA,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(jr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function BA(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const _i=e=>e*180/Math.PI,Wh=e=>{const t=_i(Math.atan2(e[1],e[0]));return Zh(t)},jA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Wh,rotateZ:Wh,skewX:e=>_i(Math.atan(e[1])),skewY:e=>_i(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Zh=e=>(e=e%360,e<0&&(e+=360),e),pg=Wh,mg=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),gg=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),$A={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mg,scaleY:gg,scale:e=>(mg(e)+gg(e))/2,rotateX:e=>Zh(_i(Math.atan2(e[6],e[5]))),rotateY:e=>Zh(_i(Math.atan2(-e[2],e[0]))),rotateZ:pg,rotate:pg,skewX:e=>_i(Math.atan(e[4])),skewY:e=>_i(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Gh(e){return e.includes("scale")?1:0}function Yh(e,t){if(!e||e==="none")return Gh(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=$A,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=jA,a=o}if(!a)return Gh(t);const i=n[t],s=a[1].split(",").map(UA);return typeof i=="function"?i(s):s[i]}const zA=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Yh(r,t)};function UA(e){return parseFloat(e.trim())}const Vs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qs=new Set(Vs),yg=e=>e===Hs||e===je,HA=new Set(["x","y","z"]),VA=Vs.filter(e=>!HA.has(e));function qA(e){const t=[];return VA.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Ri={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Yh(t,"x"),y:(e,{transform:t})=>Yh(t,"y")};Ri.translateX=Ri.x;Ri.translateY=Ri.y;const Oi=new Set;let Kh=!1,Xh=!1,Jh=!1;function B3(){if(Xh){const e=Array.from(Oi).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=qA(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{n.getValue(i)?.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Xh=!1,Kh=!1,Oi.forEach(e=>e.complete(Jh)),Oi.clear()}function j3(){Oi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Xh=!0)})}function WA(){Jh=!0,j3(),B3(),Jh=!1}class Vp{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Oi.add(this),Kh||(Kh=!0,Ft.read(j3),Ft.resolveKeyframes(B3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a?.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}BA(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Oi.delete(this)}cancel(){this.state==="scheduled"&&(Oi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ZA=e=>e.startsWith("--");function GA(e,t,r){ZA(t)?e.style.setProperty(t,r):e.style[t]=r}const YA=Op(()=>window.ScrollTimeline!==void 0),KA={};function XA(e,t){const r=Op(e);return()=>KA[t]??r()}const $3=XA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Co=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,bg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Co([0,.65,.55,1]),circOut:Co([.55,0,1,.45]),backIn:Co([.31,.01,.66,-.59]),backOut:Co([.33,1.53,.69,.99])};function z3(e,t){if(e)return typeof e=="function"?$3()?D3(e,t):"ease-out":k3(e)?Co(e):Array.isArray(e)?e.map(r=>z3(r,t)||bg.easeOut):bg[e]}function JA(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:u}={},l=void 0){const c={[t]:r};u&&(c.offset=u);const d=z3(o,a);Array.isArray(d)&&(c.easing=d);const h={delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return l&&(h.pseudoElement=l),e.animate(c,h)}function U3(e){return typeof e=="function"&&"applyToOptions"in e}function QA({type:e,...t}){return U3(e)&&$3()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class eC extends Up{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:u}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,Rp(typeof t.type!="string");const l=QA(t);this.animation=JA(r,n,a,l,i),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=zp(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):GA(r,n,c),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return dn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dn(t)}get time(){return dn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Qn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&YA()?(this.animation.timeline=t,mn):r(this)}}const H3={anticipate:x3,backInOut:v3,circInOut:T3};function tC(e){return e in H3}function rC(e){typeof e.ease=="string"&&tC(e.ease)&&(e.ease=H3[e.ease])}const vg=10;class nC extends eC{constructor(t){rC(t),F3(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new Hp({...s,autoplay:!1}),u=Qn(this.finishedTime??this.time);r.setWithVelocity(o.sample(u-vg).value,o.sample(u).value,vg),o.stop()}}const xg=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ei.test(e)||e==="0")&&!e.startsWith("url("));function aC(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function iC(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=xg(a,t),o=xg(i,t);return!s||!o?!1:aC(e)||(r==="spring"||U3(r))&&n}function Qh(e){e.duration=0,e.type="keyframes"}const sC=new Set(["opacity","clipPath","filter","transform"]),oC=Op(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uC(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:l}=t.owner.getProps();return oC()&&r&&sC.has(r)&&(r!=="transform"||!l)&&!u&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const lC=40;class cC extends Up{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:u,motionValue:l,element:c,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=jr.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:u,motionValue:l,element:c,...d},f=c?.KeyframeResolver||Vp;this.keyframeResolver=new f(o,(p,g,T)=>this.onKeyframesResolved(p,g,h,!T),u,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:u,isHandoff:l,onUpdate:c}=n;this.resolvedAt=jr.now(),iC(t,i,s,o)||((Ca.instantAnimations||!u)&&c?.(zp(t,n,r)),t[0]=t[t.length-1],Qh(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>lC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},f=!l&&uC(h)?new nC({...h,element:h.motionValue.owner.current}):new Hp(h);f.finished.then(()=>this.notifyFinished()).catch(mn),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),WA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const dC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hC(e){const t=dC.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function V3(e,t,r=1){const[n,a]=hC(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return d3(s)?parseFloat(s):s}return Lp(a)?V3(a,t,r+1):a}function qp(e,t){return e?.[t]??e?.default??e}const q3=new Set(["width","height","top","left","right","bottom",...Vs]),fC={test:e=>e==="auto",parse:e=>e},W3=e=>t=>t.test(e),Z3=[Hs,je,ea,Va,aA,nA,fC],wg=e=>Z3.find(W3(e));function pC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||f3(e):!0}const mC=new Set(["brightness","contrast","saturate","opacity"]);function gC(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Fp)||[];if(!n)return e;const a=r.replace(n,"");let i=mC.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const yC=/\b([a-z-]*)\(.*?\)/gu,ef={...ei,getAnimatableNone:e=>{const t=e.match(yC);return t?t.map(gC).join(" "):e}},Tg={...Hs,transform:Math.round},bC={rotate:Va,rotateX:Va,rotateY:Va,rotateZ:Va,scale:fl,scaleX:fl,scaleY:fl,scaleZ:fl,skew:Va,skewX:Va,skewY:Va,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:ru,originX:lg,originY:lg,originZ:je},Wp={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...bC,zIndex:Tg,fillOpacity:ru,strokeOpacity:ru,numOctaves:Tg},vC={...Wp,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:ef,WebkitFilter:ef},G3=e=>vC[e];function Y3(e,t){let r=G3(e);return r!==ef&&(r=ei),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const xC=new Set(["auto","none","0"]);function wC(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!xC.has(i)&&nu(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=Y3(r,a)}class TC extends Vp{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let l=t[u];if(typeof l=="string"&&(l=l.trim(),Lp(l))){const c=V3(l,r.current);c!==void 0&&(t[u]=c),u===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!q3.has(n)||t.length!==2)return;const[a,i]=t,s=wg(a),o=wg(i);if(s!==o)if(yg(s)&&yg(o))for(let u=0;u<t.length;u++){const l=t[u];typeof l=="string"&&(t[u]=parseFloat(l))}else Ri[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||pC(t[a]))&&n.push(a);n.length&&wC(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ri[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=Ri[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,u])=>{t.getValue(o).set(u)}),this.resolveNoneKeyframes()}}function EC(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=r?.[e]??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const K3=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function X3(e){return h3(e)&&"offsetHeight"in e}const Eg=30,kC=e=>!isNaN(parseFloat(e));class _C{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=jr.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=jr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Mp);const n=this.events[t].add(r);return t==="change"?()=>{n(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=jr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Eg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Eg);return p3(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ks(e,t){return new _C(e,t)}const{schedule:Zp}=_3(queueMicrotask,!1),An={x:!1,y:!1};function J3(){return An.x||An.y}function SC(e){return e==="x"||e==="y"?An[e]?null:(An[e]=!0,()=>{An[e]=!1}):An.x||An.y?null:(An.x=An.y=!0,()=>{An.x=An.y=!1})}function Q3(e,t){const r=EC(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function kg(e){return!(e.pointerType==="touch"||J3())}function AC(e,t,r={}){const[n,a,i]=Q3(e,r),s=o=>{if(!kg(o))return;const{target:u}=o,l=t(u,o);if(typeof l!="function"||!u)return;const c=d=>{kg(d)&&(l(d),u.removeEventListener("pointerleave",c))};u.addEventListener("pointerleave",c,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const e6=(e,t)=>t?e===t?!0:e6(e,t.parentElement):!1,Gp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,CC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IC(e){return CC.has(e.tagName)||e.tabIndex!==-1}const Hl=new WeakSet;function _g(e){return t=>{t.key==="Enter"&&e(t)}}function sd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const NC=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=_g(()=>{if(Hl.has(r))return;sd(r,"down");const a=_g(()=>{sd(r,"up")}),i=()=>sd(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Sg(e){return Gp(e)&&!J3()}function RC(e,t,r={}){const[n,a,i]=Q3(e,r),s=o=>{const u=o.currentTarget;if(!Sg(o))return;Hl.add(u);const l=t(u,o),c=(f,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),Hl.has(u)&&Hl.delete(u),Sg(f)&&typeof l=="function"&&l(f,{success:p})},d=f=>{c(f,u===window||u===document||r.useGlobalTarget||e6(u,f.target))},h=f=>{c(f,!1)};window.addEventListener("pointerup",d,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),X3(o)&&(o.addEventListener("focus",l=>NC(l,a)),!IC(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function t6(e){return h3(e)&&"ownerSVGElement"in e}function OC(e){return t6(e)&&e.tagName==="svg"}const yr=e=>!!(e&&e.getVelocity),MC=[...Z3,Jt,ei],PC=e=>MC.find(W3(e)),Yp=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Ag(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function DC(...e){return t=>{let r=!1;const n=e.map(a=>{const i=Ag(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Ag(e[a],null)}}}}function LC(...e){return E.useCallback(DC(...e),e)}class FC extends E.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=X3(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function BC({children:e,isPresent:t,anchorX:r,root:n}){const a=E.useId(),i=E.useRef(null),s=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=E.useContext(Yp),u=LC(i,e?.ref);return E.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:h,right:f}=s.current;if(t||!i.current||!l||!c)return;const p=r==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=a;const g=document.createElement("style");o&&(g.nonce=o);const T=n??document.head;return T.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${p}px !important;
            top: ${d}px !important;
          }
        `),()=>{T.contains(g)&&T.removeChild(g)}},[t]),v.jsx(FC,{isPresent:t,childRef:i,sizeRef:s,children:E.cloneElement(e,{ref:u})})}const jC=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o,root:u})=>{const l=Ap($C),c=E.useId();let d=!0,h=E.useMemo(()=>(d=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:f=>{l.set(f,!0);for(const p of l.values())if(!p)return;n&&n()},register:f=>(l.set(f,!1),()=>l.delete(f))}),[r,l,n]);return i&&d&&(h={...h}),E.useMemo(()=>{l.forEach((f,p)=>l.set(p,!1))},[r]),E.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=v.jsx(BC,{isPresent:r,anchorX:o,root:u,children:e})),v.jsx(c0.Provider,{value:h,children:e})};function $C(){return new Map}function r6(e=!0){const t=E.useContext(c0);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=E.useId();E.useEffect(()=>{if(e)return a(i)},[e]);const s=E.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const pl=e=>e.key||"";function Cg(e){const t=[];return E.Children.forEach(e,r=>{E.isValidElement(r)&&t.push(r)}),t}const tf=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left",root:u})=>{const[l,c]=r6(s),d=E.useMemo(()=>Cg(e),[e]),h=s&&!l?[]:d.map(pl),f=E.useRef(!0),p=E.useRef(d),g=Ap(()=>new Map),[T,y]=E.useState(d),[x,_]=E.useState(d);c3(()=>{f.current=!1,p.current=d;for(let A=0;A<x.length;A++){const P=pl(x[A]);h.includes(P)?g.delete(P):g.get(P)!==!0&&g.set(P,!1)}},[x,h.length,h.join("-")]);const k=[];if(d!==T){let A=[...d];for(let P=0;P<x.length;P++){const D=x[P],$=pl(D);h.includes($)||(A.splice(P,0,D),k.push(D))}return i==="wait"&&k.length&&(A=k),_(Cg(A)),y(d),null}const{forceRender:C}=E.useContext(Sp);return v.jsx(v.Fragment,{children:x.map(A=>{const P=pl(A),D=s&&!l?!1:d===x||h.includes(P),$=()=>{if(g.has(P))g.set(P,!0);else return;let F=!0;g.forEach(q=>{q||(F=!1)}),F&&(C?.(),_(p.current),s&&c?.(),n&&n())};return v.jsx(jC,{isPresent:D,initial:!f.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:u,onExitComplete:D?void 0:$,anchorX:o,children:A},P)})})},n6=E.createContext({strict:!1}),Ig={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_s={};for(const e in Ig)_s[e]={isEnabled:t=>Ig[e].some(r=>!!t[r])};function zC(e){for(const t in e)_s[t]={..._s[t],...e[t]}}const UC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||UC.has(e)}let a6=e=>!sc(e);function HC(e){typeof e=="function"&&(a6=t=>t.startsWith("on")?!sc(t):e(t))}try{HC(require("@emotion/is-prop-valid").default)}catch{}function VC(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(a6(a)||r===!0&&sc(a)||!t&&!sc(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const d0=E.createContext({});function h0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function au(e){return typeof e=="string"||Array.isArray(e)}const Kp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xp=["initial",...Kp];function f0(e){return h0(e.animate)||Xp.some(t=>au(e[t]))}function i6(e){return!!(f0(e)||e.variants)}function qC(e,t){if(f0(e)){const{initial:r,animate:n}=e;return{initial:r===!1||au(r)?r:void 0,animate:au(n)?n:void 0}}return e.inherit!==!1?t:{}}function WC(e){const{initial:t,animate:r}=qC(e,E.useContext(d0));return E.useMemo(()=>({initial:t,animate:r}),[Ng(t),Ng(r)])}function Ng(e){return Array.isArray(e)?e.join(" "):e}function Rg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const lo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(je.test(e))e=parseFloat(e);else return e;const r=Rg(e,t.target.x),n=Rg(e,t.target.y);return`${r}% ${n}%`}},ZC={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=ei.parse(e);if(a.length>5)return n;const i=ei.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,u=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=u;const l=Ut(o,u,.5);return typeof a[2+s]=="number"&&(a[2+s]/=l),typeof a[3+s]=="number"&&(a[3+s]/=l),i(a)}},rf={borderRadius:{...lo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lo,borderTopRightRadius:lo,borderBottomLeftRadius:lo,borderBottomRightRadius:lo,boxShadow:ZC};function s6(e,{layout:t,layoutId:r}){return qs.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!rf[e]||e==="opacity")}const GC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YC=Vs.length;function KC(e,t,r){let n="",a=!0;for(let i=0;i<YC;i++){const s=Vs[i],o=e[s];if(o===void 0)continue;let u=!0;if(typeof o=="number"?u=o===(s.startsWith("scale")?1:0):u=parseFloat(o)===0,!u||r){const l=K3(o,Wp[s]);if(!u){a=!1;const c=GC[s]||s;n+=`${c}(${l}) `}r&&(t[s]=l)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function Jp(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const u in t){const l=t[u];if(qs.has(u)){s=!0;continue}else if(A3(u)){a[u]=l;continue}else{const c=K3(l,Wp[u]);u.startsWith("origin")?(o=!0,i[u]=c):n[u]=c}}if(t.transform||(s||r?n.transform=KC(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:u="50%",originY:l="50%",originZ:c=0}=i;n.transformOrigin=`${u} ${l} ${c}`}}const Qp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function o6(e,t,r){for(const n in t)!yr(t[n])&&!s6(n,r)&&(e[n]=t[n])}function XC({transformTemplate:e},t){return E.useMemo(()=>{const r=Qp();return Jp(r,t,e),Object.assign({},r.vars,r.style)},[t])}function JC(e,t){const r=e.style||{},n={};return o6(n,r,e),Object.assign(n,XC(e,t)),n}function QC(e,t){const r={},n=JC(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const eI={offset:"stroke-dashoffset",array:"stroke-dasharray"},tI={offset:"strokeDashoffset",array:"strokeDasharray"};function rI(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?eI:tI;e[i.offset]=je.transform(-n);const s=je.transform(t),o=je.transform(r);e[i.array]=`${s} ${o}`}function u6(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},u,l,c){if(Jp(e,o,l),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=c?.transformBox??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),a!==void 0&&rI(d,a,i,s,!1)}const l6=()=>({...Qp(),attrs:{}}),c6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function nI(e,t,r,n){const a=E.useMemo(()=>{const i=l6();return u6(i,t,c6(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};o6(i,e.style,e),a.style={...i,...a.style}}return a}const aI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function em(e){return typeof e!="string"||e.includes("-")?!1:!!(aI.indexOf(e)>-1||/[A-Z]/u.test(e))}function iI(e,t,r,{latestValues:n},a,i=!1){const o=(em(e)?nI:QC)(t,n,a,e),u=VC(t,typeof e=="string",i),l=e!==E.Fragment?{...u,...o,ref:r}:{},{children:c}=t,d=E.useMemo(()=>yr(c)?c.get():c,[c]);return E.createElement(e,{...l,children:d})}function Og(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function tm(e,t,r,n){if(typeof t=="function"){const[a,i]=Og(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=Og(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function Vl(e){return yr(e)?e.get():e}function sI({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:oI(r,n,a,e),renderState:t()}}function oI(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=Vl(i[h]);let{initial:s,animate:o}=e;const u=f0(e),l=i6(e);t&&l&&!u&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let c=r?r.initial===!1:!1;c=c||s===!1;const d=c?o:s;if(d&&typeof d!="boolean"&&!h0(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const p=tm(e,h[f]);if(p){const{transitionEnd:g,transition:T,...y}=p;for(const x in y){let _=y[x];if(Array.isArray(_)){const k=c?_.length-1:0;_=_[k]}_!==null&&(a[x]=_)}for(const x in g)a[x]=g[x]}}}return a}const d6=e=>(t,r)=>{const n=E.useContext(d0),a=E.useContext(c0),i=()=>sI(e,t,n,a);return r?i():Ap(i)};function rm(e,t,r){const{style:n}=e,a={};for(const i in n)(yr(n[i])||t.style&&yr(t.style[i])||s6(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=n[i]);return a}const uI=d6({scrapeMotionValuesFromProps:rm,createRenderState:Qp});function h6(e,t,r){const n=rm(e,t,r);for(const a in e)if(yr(e[a])||yr(t[a])){const i=Vs.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const lI=d6({scrapeMotionValuesFromProps:h6,createRenderState:l6}),cI=Symbol.for("motionComponentSymbol");function ds(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function dI(e,t,r){return E.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):ds(r)&&(r.current=n))},[t])}const nm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hI="framerAppearId",f6="data-"+nm(hI),p6=E.createContext({});function fI(e,t,r,n,a){const{visualElement:i}=E.useContext(d0),s=E.useContext(n6),o=E.useContext(c0),u=E.useContext(Yp).reducedMotion,l=E.useRef(null);n=n||s.renderer,!l.current&&n&&(l.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:u}));const c=l.current,d=E.useContext(p6);c&&!c.projection&&a&&(c.type==="html"||c.type==="svg")&&pI(l.current,r,a,d);const h=E.useRef(!1);E.useInsertionEffect(()=>{c&&h.current&&c.update(r,o)});const f=r[f6],p=E.useRef(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return c3(()=>{c&&(h.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),p.current&&c.animationState&&c.animationState.animateChanges())}),E.useEffect(()=>{c&&(!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),p.current=!1),c.enteringChildren=void 0)}),c}function pI(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:u,layoutRoot:l,layoutCrossfade:c}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:m6(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&ds(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:c,layoutScroll:u,layoutRoot:l})}function m6(e){if(e)return e.options.allowProjection!==!1?e.projection:m6(e.parent)}function od(e,{forwardMotionProps:t=!1}={},r,n){r&&zC(r);const a=em(e)?lI:uI;function i(o,u){let l;const c={...E.useContext(Yp),...o,layoutId:mI(o)},{isStatic:d}=c,h=WC(o),f=a(o,d);if(!d&&Cp){gI();const p=yI(c);l=p.MeasureLayout,h.visualElement=fI(e,f,c,n,p.ProjectionNode)}return v.jsxs(d0.Provider,{value:h,children:[l&&h.visualElement?v.jsx(l,{visualElement:h.visualElement,...c}):null,iI(e,o,dI(f,h.visualElement,u),f,d,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=E.forwardRef(i);return s[cI]=e,s}function mI({layoutId:e}){const t=E.useContext(Sp).id;return t&&e!==void 0?t+"-"+e:e}function gI(e,t){E.useContext(n6).strict}function yI(e){const{drag:t,layout:r}=_s;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function bI(e,t){if(typeof Proxy>"u")return od;const r=new Map,n=(i,s)=>od(i,s,e,t),a=(i,s)=>n(i,s);return new Proxy(a,{get:(i,s)=>s==="create"?n:(r.has(s)||r.set(s,od(s,void 0,e,t)),r.get(s))})}function g6({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function vI({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function xI(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function ud(e){return e===void 0||e===1}function nf({scale:e,scaleX:t,scaleY:r}){return!ud(e)||!ud(t)||!ud(r)}function Ti(e){return nf(e)||y6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function y6(e){return Mg(e.x)||Mg(e.y)}function Mg(e){return e&&e!=="0%"}function oc(e,t,r){const n=e-r,a=t*n;return r+a}function Pg(e,t,r,n,a){return a!==void 0&&(e=oc(e,a,n)),oc(e,r,n)+t}function af(e,t=0,r=1,n,a){e.min=Pg(e.min,t,r,n,a),e.max=Pg(e.max,t,r,n,a)}function b6(e,{x:t,y:r}){af(e.x,t.translate,t.scale,t.originPoint),af(e.y,r.translate,r.scale,r.originPoint)}const Dg=.999999999999,Lg=1.0000000000001;function wI(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fs(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,b6(e,s)),n&&Ti(i.latestValues)&&fs(e,i.latestValues))}t.x<Lg&&t.x>Dg&&(t.x=1),t.y<Lg&&t.y>Dg&&(t.y=1)}function hs(e,t){e.min=e.min+t,e.max=e.max+t}function Fg(e,t,r,n,a=.5){const i=Ut(e.min,e.max,a);af(e,t,r,i,n)}function fs(e,t){Fg(e.x,t.x,t.scaleX,t.scale,t.originX),Fg(e.y,t.y,t.scaleY,t.scale,t.originY)}function v6(e,t){return g6(xI(e.getBoundingClientRect(),t))}function TI(e,t,r){const n=v6(e,r),{scroll:a}=t;return a&&(hs(n.x,a.offset.x),hs(n.y,a.offset.y)),n}const Bg=()=>({translate:0,scale:1,origin:0,originPoint:0}),ps=()=>({x:Bg(),y:Bg()}),jg=()=>({min:0,max:0}),ar=()=>({x:jg(),y:jg()}),sf={current:null},x6={current:!1};function EI(){if(x6.current=!0,!!Cp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sf.current=e.matches;e.addEventListener("change",t),t()}else sf.current=!1}const kI=new WeakMap;function _I(e,t,r){for(const n in t){const a=t[n],i=r[n];if(yr(a))e.addValue(n,a);else if(yr(i))e.addValue(n,ks(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,ks(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const $g=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SI{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=jr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Ft.render(this.render,!1,!0))};const{latestValues:u,renderState:l}=s;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=l,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=f0(r),this.isVariantNode=i6(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in d){const f=d[h];u[h]!==void 0&&yr(f)&&f.set(u[h])}}mount(t){this.current=t,kI.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),x6.current||EI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sf.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qa(this.notifyUpdate),Qa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=qs.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _s){const r=_s[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ar()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<$g.length;n++){const a=$g[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=_I(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=ks(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(d3(n)||f3(n))?n=parseFloat(n):!PC(n)&&ei.test(r)&&(n=Y3(t,r)),this.setBaseTarget(t,yr(n)?n.get():n)),yr(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=tm(this.props,r,this.presenceContext?.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!yr(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Mp),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Zp.render(this.render)}}class w6 extends SI{constructor(){super(...arguments),this.KeyframeResolver=TC}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function T6(e,{style:t,vars:r},n,a){const i=e.style;let s;for(s in t)i[s]=t[s];a?.applyProjectionStyles(i,n);for(s in r)i.setProperty(s,r[s])}function AI(e){return window.getComputedStyle(e)}class CI extends w6{constructor(){super(...arguments),this.type="html",this.renderInstance=T6}readValueFromInstance(t,r){if(qs.has(r))return this.projection?.isProjecting?Gh(r):zA(t,r);{const n=AI(t),a=(A3(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return v6(t,r)}build(t,r,n){Jp(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return rm(t,r,n)}}const E6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function II(e,t,r,n){T6(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(E6.has(a)?a:nm(a),t.attrs[a])}class NI extends w6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ar}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(qs.has(r)){const n=G3(r);return n&&n.default||0}return r=E6.has(r)?r:nm(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return h6(t,r,n)}build(t,r,n){u6(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){II(t,r,n,a)}mount(t){this.isSVGTag=c6(t.tagName),super.mount(t)}}const RI=(e,t)=>em(e)?new NI(t):new CI(t,{allowProjection:e!==E.Fragment});function bs(e,t,r){const n=e.getProps();return tm(n,t,r!==void 0?r:n.custom,e)}const of=e=>Array.isArray(e);function OI(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,ks(r))}function MI(e){return of(e)?e[e.length-1]||0:e}function PI(e,t){const r=bs(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=MI(i[s]);OI(e,s,o)}}function DI(e){return!!(yr(e)&&e.add)}function uf(e,t){const r=e.getValue("willChange");if(DI(r))return r.add(t);if(!r&&Ca.WillChange){const n=new Ca.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function k6(e){return e.props[f6]}const LI=e=>e!==null;function FI(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(LI),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const BI={type:"spring",stiffness:500,damping:25,restSpeed:10},jI=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$I={type:"keyframes",duration:.8},zI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UI=(e,{keyframes:t})=>t.length>2?$I:qs.has(e)?e.startsWith("scale")?jI(t[1]):BI:zI;function HI({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:u,elapsed:l,...c}){return!!Object.keys(c).length}const am=(e,t,r,n={},a,i)=>s=>{const o=qp(n,e)||{},u=o.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Qn(u);const c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-l,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};HI(o)||Object.assign(c,UI(e,c)),c.duration&&(c.duration=Qn(c.duration)),c.repeatDelay&&(c.repeatDelay=Qn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Qh(c),c.delay===0&&(d=!0)),(Ca.instantAnimations||Ca.skipAnimations)&&(d=!0,Qh(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,d&&!i&&t.get()!==void 0){const h=FI(c.keyframes,o);if(h!==void 0){Ft.update(()=>{c.onUpdate(h),c.onComplete()});return}}return o.isSync?new Hp(c):new cC(c)};function VI({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function _6(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const u=[],l=a&&e.animationState&&e.animationState.getState()[a];for(const c in o){const d=e.getValue(c,e.latestValues[c]??null),h=o[c];if(h===void 0||l&&VI(l,c))continue;const f={delay:r,...qp(i||{},c)},p=d.get();if(p!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===p&&!f.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=k6(e);if(y){const x=window.MotionHandoffAnimation(y,c,Ft);x!==null&&(f.startTime=x,g=!0)}}uf(e,c),d.start(am(c,d,h,e.shouldReduceMotion&&q3.has(c)?{type:!1}:f,e,g));const T=d.animation;T&&u.push(T)}return s&&Promise.all(u).then(()=>{Ft.update(()=>{s&&PI(e,s)})}),u}function S6(e,t,r,n=0,a=1){const i=Array.from(e).sort((l,c)=>l.sortNodePosition(c)).indexOf(t),s=e.size,o=(s-1)*n;return typeof r=="function"?r(i,s):a===1?i*n:o-i*n}function lf(e,t,r={}){const n=bs(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(_6(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:l=0,staggerChildren:c,staggerDirection:d}=a;return qI(e,t,u,l,c,d,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[u,l]=o==="beforeChildren"?[i,s]:[s,i];return u().then(()=>l())}else return Promise.all([i(),s(r.delay)])}function qI(e,t,r=0,n=0,a=0,i=1,s){const o=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),o.push(lf(u,t,{...s,delay:r+(typeof n=="function"?0:n)+S6(e.variantChildren,u,n,a,i)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(o)}function WI(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>lf(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=lf(e,t,r);else{const a=typeof t=="function"?bs(e,t,r.custom):t;n=Promise.all(_6(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function A6(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const ZI=Xp.length;function C6(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?C6(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<ZI;r++){const n=Xp[r],a=e.props[n];(au(a)||a===!1)&&(t[n]=a)}return t}const GI=[...Kp].reverse(),YI=Kp.length;function KI(e){return t=>Promise.all(t.map(({animation:r,options:n})=>WI(e,r,n)))}function XI(e){let t=KI(e),r=zg(),n=!0;const a=u=>(l,c)=>{const d=bs(e,c,u==="exit"?e.presenceContext?.custom:void 0);if(d){const{transition:h,transitionEnd:f,...p}=d;l={...l,...p,...f}}return l};function i(u){t=u(e)}function s(u){const{props:l}=e,c=C6(e.parent)||{},d=[],h=new Set;let f={},p=1/0;for(let T=0;T<YI;T++){const y=GI[T],x=r[y],_=l[y]!==void 0?l[y]:c[y],k=au(_),C=y===u?x.isActive:null;C===!1&&(p=T);let A=_===c[y]&&_!==l[y]&&k;if(A&&n&&e.manuallyAnimateOnMount&&(A=!1),x.protectedKeys={...f},!x.isActive&&C===null||!_&&!x.prevProp||h0(_)||typeof _=="boolean")continue;const P=JI(x.prevProp,_);let D=P||y===u&&x.isActive&&!A&&k||T>p&&k,$=!1;const F=Array.isArray(_)?_:[_];let q=F.reduce(a(y),{});C===!1&&(q={});const{prevResolvedValues:U={}}=x,ee={...U,...q},Z=Te=>{D=!0,h.has(Te)&&($=!0,h.delete(Te)),x.needsAnimating[Te]=!0;const ye=e.getValue(Te);ye&&(ye.liveStyle=!1)};for(const Te in ee){const ye=q[Te],ne=U[Te];if(f.hasOwnProperty(Te))continue;let R=!1;of(ye)&&of(ne)?R=!A6(ye,ne):R=ye!==ne,R?ye!=null?Z(Te):h.add(Te):ye!==void 0&&h.has(Te)?Z(Te):x.protectedKeys[Te]=!0}x.prevProp=_,x.prevResolvedValues=q,x.isActive&&(f={...f,...q}),n&&e.blockInitialAnimation&&(D=!1);const J=A&&P;D&&(!J||$)&&d.push(...F.map(Te=>{const ye={type:y};if(typeof Te=="string"&&n&&!J&&e.manuallyAnimateOnMount&&e.parent){const{parent:ne}=e,R=bs(ne,Te);if(ne.enteringChildren&&R){const{delayChildren:pe}=R.transition||{};ye.delay=S6(ne.enteringChildren,e,pe)}}return{animation:Te,options:ye}}))}if(h.size){const T={};if(typeof l.initial!="boolean"){const y=bs(e,Array.isArray(l.initial)?l.initial[0]:l.initial);y&&y.transition&&(T.transition=y.transition)}h.forEach(y=>{const x=e.getBaseTarget(y),_=e.getValue(y);_&&(_.liveStyle=!0),T[y]=x??null}),d.push({animation:T})}let g=!!d.length;return n&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(d):Promise.resolve()}function o(u,l){if(r[u].isActive===l)return Promise.resolve();e.variantChildren?.forEach(d=>d.animationState?.setActive(u,l)),r[u].isActive=l;const c=s(u);for(const d in r)r[d].protectedKeys={};return c}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=zg()}}}function JI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!A6(t,e):!1}function yi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zg(){return{animate:yi(!0),whileInView:yi(),whileHover:yi(),whileTap:yi(),whileDrag:yi(),whileFocus:yi(),exit:yi()}}class hi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class QI extends hi{constructor(t){super(t),t.animationState||(t.animationState=XI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();h0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let eN=0;class tN extends hi{constructor(){super(...arguments),this.id=eN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rN={animation:{Feature:QI},exit:{Feature:tN}};function iu(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Pu(e){return{point:{x:e.pageX,y:e.pageY}}}const nN=e=>t=>Gp(t)&&e(t,Pu(t));function jo(e,t,r,n){return iu(e,t,nN(r),n)}const I6=1e-4,aN=1-I6,iN=1+I6,N6=.01,sN=0-N6,oN=0+N6;function Cr(e){return e.max-e.min}function uN(e,t,r){return Math.abs(e-t)<=r}function Ug(e,t,r,n=.5){e.origin=n,e.originPoint=Ut(t.min,t.max,e.origin),e.scale=Cr(r)/Cr(t),e.translate=Ut(r.min,r.max,e.origin)-e.originPoint,(e.scale>=aN&&e.scale<=iN||isNaN(e.scale))&&(e.scale=1),(e.translate>=sN&&e.translate<=oN||isNaN(e.translate))&&(e.translate=0)}function $o(e,t,r,n){Ug(e.x,t.x,r.x,n?n.originX:void 0),Ug(e.y,t.y,r.y,n?n.originY:void 0)}function Hg(e,t,r){e.min=r.min+t.min,e.max=e.min+Cr(t)}function lN(e,t,r){Hg(e.x,t.x,r.x),Hg(e.y,t.y,r.y)}function Vg(e,t,r){e.min=t.min-r.min,e.max=e.min+Cr(t)}function uc(e,t,r){Vg(e.x,t.x,r.x),Vg(e.y,t.y,r.y)}function on(e){return[e("x"),e("y")]}const R6=({current:e})=>e?e.ownerDocument.defaultView:null,qg=(e,t)=>Math.abs(e-t);function cN(e,t){const r=qg(e.x,t.x),n=qg(e.y,t.y);return Math.sqrt(r**2+n**2)}class O6{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=cd(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=cN(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!p)return;const{point:g}=h,{timestamp:T}=dr;this.history.push({...g,timestamp:T});const{onStart:y,onMove:x}=this.handlers;f||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=ld(f,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=cd(h.type==="pointercancel"?this.lastMoveEventInfo:ld(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,y),g&&g(h,y)},!Gp(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=a||window;const o=Pu(t),u=ld(o,this.transformPagePoint),{point:l}=u,{timestamp:c}=dr;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=r;d&&d(t,cd(u,this.history)),this.removeListeners=Ru(jo(this.contextWindow,"pointermove",this.handlePointerMove),jo(this.contextWindow,"pointerup",this.handlePointerUp),jo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Qa(this.updatePoint)}}function ld(e,t){return t?{point:t(e.point)}:e}function Wg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cd({point:e},t){return{point:e,delta:Wg(e,M6(t)),offset:Wg(e,dN(t)),velocity:hN(t,.1)}}function dN(e){return e[0]}function M6(e){return e[e.length-1]}function hN(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=M6(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Qn(t)));)r--;if(!n)return{x:0,y:0};const i=dn(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function fN(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ut(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ut(r,e,n.max):Math.min(e,r)),e}function Zg(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function pN(e,{top:t,left:r,bottom:n,right:a}){return{x:Zg(e.x,r,a),y:Zg(e.y,t,n)}}function Gg(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function mN(e,t){return{x:Gg(e.x,t.x),y:Gg(e.y,t.y)}}function gN(e,t){let r=.5;const n=Cr(e),a=Cr(t);return a>n?r=tu(t.min,t.max-n,e.min):n>a&&(r=tu(e.min,e.max-a,t.min)),Aa(0,1,r)}function yN(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const cf=.35;function bN(e=cf){return e===!1?e=0:e===!0&&(e=cf),{x:Yg(e,"left","right"),y:Yg(e,"top","bottom")}}function Yg(e,t,r){return{min:Kg(e,t),max:Kg(e,r)}}function Kg(e,t){return typeof e=="number"?e:e[t]||0}const vN=new WeakMap;class xN{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ar(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Pu(d).point)},s=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SC(f),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),on(y=>{let x=this.getAxisMotionValue(y).get()||0;if(ea.test(x)){const{projection:_}=this.visualElement;if(_&&_.layout){const k=_.layout.layoutBox[y];k&&(x=Cr(k)*(parseFloat(x)/100))}}this.originPoint[y]=x}),g&&Ft.postRender(()=>g(d,h)),uf(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:T}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:y}=h;if(p&&this.currentDirection===null){this.currentDirection=wN(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),T&&T(d,h)},u=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>on(d=>this.getAnimationState(d)==="paused"&&this.getAxisMotionValue(d).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new O6(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:u,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:n,contextWindow:R6(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ft.postRender(()=>o(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!ml(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=fN(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&ds(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=pN(n.layoutBox,t):this.constraints=!1,this.elastic=bN(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&on(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=yN(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ds(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=TI(n,a.root,this.visualElement.getTransformPagePoint());let s=mN(a.layout.layoutBox,i);if(r){const o=r(vI(s));this.hasMutatedConstraints=!!o,o&&(s=g6(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),u=this.constraints||{},l=on(c=>{if(!ml(c,r,this.currentDirection))return;let d=u&&u[c]||{};s&&(d={min:0,max:0});const h=a?200:1e6,f=a?40:1e7,p={type:"inertia",velocity:n?t[c]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,p)});return Promise.all(l).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return uf(this.visualElement,t),n.start(am(t,n,0,r,this.visualElement,!1))}stopAnimation(){on(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){on(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){on(r=>{const{drag:n}=this.getProps();if(!ml(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-Ut(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ds(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};on(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const u=o.get();a[s]=gN({min:u,max:u},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),on(s=>{if(!ml(s,t,null))return;const o=this.getAxisMotionValue(s),{min:u,max:l}=this.constraints[s];o.set(Ut(u,l,a[s]))})}addListeners(){if(!this.visualElement.current)return;vN.set(this.visualElement,this);const t=this.visualElement.current,r=jo(t,"pointerdown",u=>{const{drag:l,dragListener:c=!0}=this.getProps();l&&c&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();ds(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ft.read(n);const s=iu(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:l})=>{this.isDragging&&l&&(on(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=u[c].translate,d.set(d.get()+u[c].translate))}),this.visualElement.render())}));return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=cf,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function ml(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function wN(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class TN extends hi{constructor(t){super(t),this.removeGroupControls=mn,this.removeListeners=mn,this.controls=new xN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xg=e=>(t,r)=>{e&&Ft.postRender(()=>e(t,r))};class EN extends hi{constructor(){super(...arguments),this.removePointerDownListener=mn}onPointerDown(t){this.session=new O6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:R6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Xg(t),onStart:Xg(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&Ft.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=jo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ql={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let dd=!1;class kN extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),dd&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ql.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,dd=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Ft.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Zp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;dd=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function P6(e){const[t,r]=r6(),n=E.useContext(Sp);return v.jsx(kN,{...e,layoutGroup:n,switchLayoutGroup:E.useContext(p6),isPresent:t,safeToRemove:r})}function _N(e,t,r){const n=yr(e)?e:ks(e);return n.start(am("",n,t,r)),n.animation}const SN=(e,t)=>e.depth-t.depth;class AN{constructor(){this.children=[],this.isDirty=!1}add(t){Ip(this.children,t),this.isDirty=!0}remove(t){Np(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(SN),this.isDirty=!1,this.children.forEach(t)}}function CN(e,t){const r=jr.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Qa(n),e(i-t))};return Ft.setup(n,!0),()=>Qa(n)}const D6=["TopLeft","TopRight","BottomLeft","BottomRight"],IN=D6.length,Jg=e=>typeof e=="string"?parseFloat(e):e,Qg=e=>typeof e=="number"||je.test(e);function NN(e,t,r,n,a,i){a?(e.opacity=Ut(0,r.opacity??1,RN(n)),e.opacityExit=Ut(t.opacity??1,0,ON(n))):i&&(e.opacity=Ut(t.opacity??1,r.opacity??1,n));for(let s=0;s<IN;s++){const o=`border${D6[s]}Radius`;let u=ey(t,o),l=ey(r,o);if(u===void 0&&l===void 0)continue;u||(u=0),l||(l=0),u===0||l===0||Qg(u)===Qg(l)?(e[o]=Math.max(Ut(Jg(u),Jg(l),n),0),(ea.test(l)||ea.test(u))&&(e[o]+="%")):e[o]=l}(t.rotate||r.rotate)&&(e.rotate=Ut(t.rotate||0,r.rotate||0,n))}function ey(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const RN=L6(0,.5,w3),ON=L6(.5,.95,mn);function L6(e,t,r){return n=>n<e?0:n>t?1:r(tu(e,t,n))}function ty(e,t){e.min=t.min,e.max=t.max}function Tn(e,t){ty(e.x,t.x),ty(e.y,t.y)}function ry(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ny(e,t,r,n,a){return e-=t,e=oc(e,1/r,n),a!==void 0&&(e=oc(e,1/a,n)),e}function MN(e,t=0,r=1,n=.5,a,i=e,s=e){if(ea.test(t)&&(t=parseFloat(t),t=Ut(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Ut(i.min,i.max,n);e===i&&(o-=t),e.min=ny(e.min,t,r,o,a),e.max=ny(e.max,t,r,o,a)}function ay(e,t,[r,n,a],i,s){MN(e,t[r],t[n],t[a],t.scale,i,s)}const PN=["x","scaleX","originX"],DN=["y","scaleY","originY"];function iy(e,t,r,n){ay(e.x,t,PN,r?r.x:void 0,n?n.x:void 0),ay(e.y,t,DN,r?r.y:void 0,n?n.y:void 0)}function sy(e){return e.translate===0&&e.scale===1}function F6(e){return sy(e.x)&&sy(e.y)}function oy(e,t){return e.min===t.min&&e.max===t.max}function LN(e,t){return oy(e.x,t.x)&&oy(e.y,t.y)}function uy(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function B6(e,t){return uy(e.x,t.x)&&uy(e.y,t.y)}function ly(e){return Cr(e.x)/Cr(e.y)}function cy(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class FN{constructor(){this.members=[]}add(t){Ip(this.members,t),t.scheduleRender()}remove(t){if(Np(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BN(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=r?.z||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:l,rotate:c,rotateX:d,rotateY:h,skewX:f,skewY:p}=r;l&&(n=`perspective(${l}px) ${n}`),c&&(n+=`rotate(${c}deg) `),d&&(n+=`rotateX(${d}deg) `),h&&(n+=`rotateY(${h}deg) `),f&&(n+=`skewX(${f}deg) `),p&&(n+=`skewY(${p}deg) `)}const o=e.x.scale*t.x,u=e.y.scale*t.y;return(o!==1||u!==1)&&(n+=`scale(${o}, ${u})`),n||"none"}const hd=["","X","Y","Z"],jN=1e3;let $N=0;function fd(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function j6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=k6(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Ft,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&j6(n)}function $6({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t?.()){this.id=$N++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HN),this.nodes.forEach(ZN),this.nodes.forEach(GN),this.nodes.forEach(VN)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new AN)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Mp),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const u=this.eventHandlers.get(s);u&&u.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=t6(s)&&!OC(s),this.instance=s;const{layoutId:o,layout:u,visualElement:l}=this.options;if(l&&!l.current&&l.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),e){let c,d=0;const h=()=>this.root.updateBlockedByResize=!1;Ft.read(()=>{d=window.innerWidth}),e(s,()=>{const f=window.innerWidth;f!==d&&(d=f,this.root.updateBlockedByResize=!0,c&&c(),c=CN(h,250),ql.hasAnimatedSinceResize&&(ql.hasAnimatedSinceResize=!1,this.nodes.forEach(fy)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&l&&(o||u)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||l.getDefaultTransition()||QN,{onLayoutAnimationStart:g,onLayoutAnimationComplete:T}=l.getProps(),y=!this.targetLayout||!B6(this.targetLayout,f),x=!d&&h;if(this.options.layoutRoot||this.resumeFrom||x||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...qp(p,"layout"),onPlay:g,onComplete:T};(l.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(c,x)}else d||fy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YN),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&j6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(WN),this.nodes.forEach(zN),this.nodes.forEach(UN)):this.nodes.forEach(hy),this.clearAllSnapshots();const o=jr.now();dr.delta=Aa(0,1e3/60,o-dr.timestamp),dr.timestamp=o,dr.isProcessing=!0,td.update.process(dr),td.preRender.process(dr),td.render.process(dr),dr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qN),this.sharedNodes.forEach(KN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cr(this.snapshot.measuredBox.x)&&!Cr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ar(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!F6(this.projectionDelta),u=this.getTransformTemplate(),l=u?u(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;s&&this.instance&&(o||Ti(this.latestValues)||c)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return s&&(u=this.removeTransform(u)),eR(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return ar();const o=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(tR))){const{scroll:l}=this.root;l&&(hs(o.x,l.offset.x),hs(o.y,l.offset.y))}return o}removeElementScroll(s){const o=ar();if(Tn(o,s),this.scroll?.wasRoot)return o;for(let u=0;u<this.path.length;u++){const l=this.path[u],{scroll:c,options:d}=l;l!==this.root&&c&&d.layoutScroll&&(c.wasRoot&&Tn(o,s),hs(o.x,c.offset.x),hs(o.y,c.offset.y))}return o}applyTransform(s,o=!1){const u=ar();Tn(u,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&fs(u,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ti(c.latestValues)&&fs(u,c.latestValues)}return Ti(this.latestValues)&&fs(u,this.latestValues),u}removeTransform(s){const o=ar();Tn(o,s);for(let u=0;u<this.path.length;u++){const l=this.path[u];if(!l.instance||!Ti(l.latestValues))continue;nf(l.latestValues)&&l.updateSnapshot();const c=ar(),d=l.measurePageBox();Tn(c,d),iy(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Ti(this.latestValues)&&iy(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==o;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!this.layout||!(c||d))return;this.resolvedRelativeTargetAt=dr.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ar(),this.targetWithTransforms=ar()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tn(this.target,this.layout.layoutBox),b6(this.target,this.targetDelta)):Tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||nf(this.parent.latestValues)||y6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,o,u){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ar(),this.relativeTargetOrigin=ar(),uc(this.relativeTargetOrigin,o,u),Tn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const s=this.getLead(),o=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===dr.timestamp&&(u=!1),u)return;const{layout:l,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||c))return;Tn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;wI(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ar());const{target:f}=s;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ry(this.prevProjectionDelta.x,this.projectionDelta.x),ry(this.prevProjectionDelta.y,this.projectionDelta.y)),$o(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!cy(this.projectionDelta.x,this.prevProjectionDelta.x)||!cy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ps(),this.projectionDelta=ps(),this.projectionDeltaWithTransform=ps()}setAnimationOrigin(s,o=!1){const u=this.snapshot,l=u?u.latestValues:{},c={...this.latestValues},d=ps();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=ar(),f=u?u.source:void 0,p=this.layout?this.layout.source:void 0,g=f!==p,T=this.getStack(),y=!T||T.members.length<=1,x=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(JN));this.animationProgress=0;let _;this.mixTargetDelta=k=>{const C=k/1e3;py(d.x,s.x,C),py(d.y,s.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XN(this.relativeTarget,this.relativeTargetOrigin,h,C),_&&LN(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=ar()),Tn(_,this.relativeTarget)),g&&(this.animationValues=c,NN(c,l,this.latestValues,C,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{ql.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ks(0)),this.currentAnimation=_N(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:u,layout:l,latestValues:c}=s;if(!(!o||!u||!l)){if(this!==s&&this.layout&&l&&z6(this.options.animationType,this.layout.layoutBox,l.layoutBox)){u=this.target||ar();const d=Cr(this.layout.layoutBox.x);u.x.min=s.target.x.min,u.x.max=u.x.min+d;const h=Cr(this.layout.layoutBox.y);u.y.min=s.target.y.min,u.y.max=u.y.min+h}Tn(o,u),fs(o,c),$o(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new FN),this.sharedNodes.get(s).add(o);const l=o.options.initialPromotionConfig;o.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:u}={}){const l=this.getStack();l&&l.promote(this,u),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:u}=s;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const l={};u.z&&fd("z",s,l,this.animationValues);for(let c=0;c<hd.length;c++)fd(`rotate${hd[c]}`,s,l,this.animationValues),fd(`skew${hd[c]}`,s,l,this.animationValues);s.render();for(const c in l)s.setStaticValue(c,l[c]),this.animationValues&&(this.animationValues[c]=l[c]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Vl(o?.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Vl(o?.pointerEvents)||""),this.hasProjected&&!Ti(this.latestValues)&&(s.transform=u?u({},""):"none",this.hasProjected=!1);return}s.visibility="";const c=l.animationValues||l.latestValues;this.applyTransformsToTarget();let d=BN(this.projectionDeltaWithTransform,this.treeScale,c);u&&(d=u(c,d)),s.transform=d;const{x:h,y:f}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,l.animationValues?s.opacity=l===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:s.opacity=l===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const p in rf){if(c[p]===void 0)continue;const{correct:g,applyTo:T,isCSSVariable:y}=rf[p],x=d==="none"?c[p]:g(c[p],l);if(T){const _=T.length;for(let k=0;k<_;k++)s[T[k]]=x}else y?this.options.visualElement.renderState.vars[p]=x:s[p]=x}this.options.layoutId&&(s.pointerEvents=l===this?Vl(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(dy),this.root.sharedNodes.clear()}}}function zN(e){e.updateLayout()}function UN(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?on(c=>{const d=i?t.measuredBox[c]:t.layoutBox[c],h=Cr(d);d.min=r[c].min,d.max=d.min+h}):z6(a,t.layoutBox,r)&&on(c=>{const d=i?t.measuredBox[c]:t.layoutBox[c],h=Cr(r[c]);d.max=d.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[c].max=e.relativeTarget[c].min+h)});const s=ps();$o(s,r,t.layoutBox);const o=ps();i?$o(o,e.applyTransform(n,!0),t.measuredBox):$o(o,r,t.layoutBox);const u=!F6(s);let l=!1;if(!e.resumeFrom){const c=e.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:d,layout:h}=c;if(d&&h){const f=ar();uc(f,t.layoutBox,d.layoutBox);const p=ar();uc(p,r,h.layoutBox),B6(f,p)||(l=!0),c.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=f,e.relativeParent=c)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:o,layoutDelta:s,hasLayoutChanged:u,hasRelativeLayoutChanged:l})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function HN(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function VN(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qN(e){e.clearSnapshot()}function dy(e){e.clearMeasurements()}function hy(e){e.isLayoutDirty=!1}function WN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function fy(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ZN(e){e.resolveTargetDelta()}function GN(e){e.calcProjection()}function YN(e){e.resetSkewAndRotation()}function KN(e){e.removeLeadSnapshot()}function py(e,t,r){e.translate=Ut(t.translate,0,r),e.scale=Ut(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function my(e,t,r,n){e.min=Ut(t.min,r.min,n),e.max=Ut(t.max,r.max,n)}function XN(e,t,r,n){my(e.x,t.x,r.x,n),my(e.y,t.y,r.y,n)}function JN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const QN={duration:.45,ease:[.4,0,.1,1]},gy=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yy=gy("applewebkit/")&&!gy("chrome/")?Math.round:mn;function by(e){e.min=yy(e.min),e.max=yy(e.max)}function eR(e){by(e.x),by(e.y)}function z6(e,t,r){return e==="position"||e==="preserve-aspect"&&!uN(ly(t),ly(r),.2)}function tR(e){return e!==e.root&&e.scroll?.wasRoot}const rR=$6({attachResizeListener:(e,t)=>iu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pd={current:void 0},U6=$6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pd.current){const e=new rR({});e.mount(window),e.setOptions({layoutScroll:!0}),pd.current=e}return pd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nR={pan:{Feature:EN},drag:{Feature:TN,ProjectionNode:U6,MeasureLayout:P6}};function vy(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Ft.postRender(()=>i(t,Pu(t)))}class aR extends hi{mount(){const{current:t}=this.node;t&&(this.unmount=AC(t,(r,n)=>(vy(this.node,n,"Start"),a=>vy(this.node,a,"End"))))}unmount(){}}class iR extends hi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ru(iu(this.node.current,"focus",()=>this.onFocus()),iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xy(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Ft.postRender(()=>i(t,Pu(t)))}class sR extends hi{mount(){const{current:t}=this.node;t&&(this.unmount=RC(t,(r,n)=>(xy(this.node,n,"Start"),(a,{success:i})=>xy(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const df=new WeakMap,md=new WeakMap,oR=e=>{const t=df.get(e.target);t&&t(e)},uR=e=>{e.forEach(oR)};function lR({root:e,...t}){const r=e||document;md.has(r)||md.set(r,{});const n=md.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(uR,{root:e,...t})),n[a]}function cR(e,t,r){const n=lR(t);return df.set(e,r),n.observe(e),()=>{df.delete(e),n.unobserve(e)}}const dR={some:0,all:1};class hR extends hi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:dR[a]},o=u=>{const{isIntersecting:l}=u;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=l?c:d;h&&h(u)};return cR(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(fR(t,r))&&this.startObserver()}unmount(){}}function fR({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const pR={inView:{Feature:hR},tap:{Feature:sR},focus:{Feature:iR},hover:{Feature:aR}},mR={layout:{ProjectionNode:U6,MeasureLayout:P6}},gR={...rN,...pR,...nR,...mR},vs=bI(gR,RI);function wy(e,t,r,n,a,i,s){try{var o=e[i](s),u=o.value}catch(l){r(l);return}o.done?t(u):Promise.resolve(u).then(n,a)}function Si(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function s(u){wy(i,n,a,s,o,"next",u)}function o(u){wy(i,n,a,s,o,"throw",u)}s(void 0)})}}var gd,Ty;function yR(){if(Ty)return gd;Ty=1;var e="Expected a function",t=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,u=typeof dl=="object"&&dl&&dl.Object===Object&&dl,l=typeof self=="object"&&self&&self.Object===Object&&self,c=u||l||Function("return this")(),d=Object.prototype,h=d.toString,f=Math.max,p=Math.min,g=function(){return c.Date.now()};function T(C,A,P){var D,$,F,q,U,ee,Z=0,J=!1,be=!1,Te=!0;if(typeof C!="function")throw new TypeError(e);A=k(A)||0,y(P)&&(J=!!P.leading,be="maxWait"in P,F=be?f(k(P.maxWait)||0,A):F,Te="trailing"in P?!!P.trailing:Te);function ye(ae){var Me=D,Ue=$;return D=$=void 0,Z=ae,q=C.apply(Ue,Me),q}function ne(ae){return Z=ae,U=setTimeout(W,A),J?ye(ae):q}function R(ae){var Me=ae-ee,Ue=ae-Z,at=A-Me;return be?p(at,F-Ue):at}function pe(ae){var Me=ae-ee,Ue=ae-Z;return ee===void 0||Me>=A||Me<0||be&&Ue>=F}function W(){var ae=g();if(pe(ae))return O(ae);U=setTimeout(W,R(ae))}function O(ae){return U=void 0,Te&&D?ye(ae):(D=$=void 0,q)}function Ie(){U!==void 0&&clearTimeout(U),Z=0,D=ee=$=U=void 0}function me(){return U===void 0?q:O(g())}function ge(){var ae=g(),Me=pe(ae);if(D=arguments,$=this,ee=ae,Me){if(U===void 0)return ne(ee);if(be)return U=setTimeout(W,A),ye(ee)}return U===void 0&&(U=setTimeout(W,A)),q}return ge.cancel=Ie,ge.flush=me,ge}function y(C){var A=typeof C;return!!C&&(A=="object"||A=="function")}function x(C){return!!C&&typeof C=="object"}function _(C){return typeof C=="symbol"||x(C)&&h.call(C)==r}function k(C){if(typeof C=="number")return C;if(_(C))return t;if(y(C)){var A=typeof C.valueOf=="function"?C.valueOf():C;C=y(A)?A+"":A}if(typeof C!="string")return C===0?C:+C;C=C.replace(n,"");var P=i.test(C);return P||s.test(C)?o(C.slice(2),P?2:8):a.test(C)?t:+C}return gd=T,gd}var bR=yR();const vR=Pa(bR),ms=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),xR=e=>e===ms;var lc=(()=>/(android)/i.test(typeof navigator<"u"?navigator.userAgent:""));const cc=(...e)=>e.map(t=>t.trim()).join(" ").trim(),wR=/\s*\((.*?)\)\s*/g,TR=/(\(\?:[^)]+\))\?/g,ER=/(\(\?)?:\w+/g,kR=/\*/g,_R=/[-{}[\]+?.,\\^$|#]/g,SR=e=>e instanceof RegExp?new RegExp(e.source,"i"):(e=e.replace(_R,"\\$&").replace(wR,"(?:$1)?").replace(ER,(t,r)=>r?t:"([^\\s]+)").replace(kR,"(.*?)").replace(TR,"\\s*$1?\\s*"),new RegExp("^"+e+"$","i")),AR=(e,t)=>{if(e=e.replace(/\s+/g,"").toLowerCase(),t=t.replace(/\s+/g,"").toLowerCase(),!e.length&&!t.length)return 1;if(!e.length||!t.length)return 0;if(e===t)return 1;if(e.length===1&&t.length===1||e.length<2||t.length<2)return 0;const r=new Map;for(let a=0;a<e.length-1;a++){const i=e.substring(a,a+2),s=r.has(i)?r.get(i)+1:1;r.set(i,s)}let n=0;for(let a=0;a<t.length-1;a++){const i=t.substring(a,a+2),s=r.has(i)?r.get(i):0;s>0&&(r.set(i,s-1),n++)}return 2*n/(e.length+t.length-2)},H6=()=>typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0);class yd{setSpeechRecognition(t){const r=!!t&&(xR(t)||H6());r&&(this.disableRecognition(),this.recognition=new t,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(r)}subscribe(t,r){this.subscribers[t]=r}unsubscribe(t){delete this.subscribers[t]}emitListeningChange(t){this.listening=t,Object.keys(this.subscribers).forEach(r=>{const{onListeningChange:n}=this.subscribers[r];n(t)})}emitMicrophoneAvailabilityChange(t){this.isMicrophoneAvailable=t,Object.keys(this.subscribers).forEach(r=>{const{onMicrophoneAvailabilityChange:n}=this.subscribers[r];n(t)})}emitTranscriptChange(t,r){Object.keys(this.subscribers).forEach(n=>{const{onTranscriptChange:a}=this.subscribers[n];a(t,r)})}emitClearTranscript(){Object.keys(this.subscribers).forEach(t=>{const{onClearTranscript:r}=this.subscribers[t];r()})}emitBrowserSupportsSpeechRecognitionChange(t){Object.keys(this.subscribers).forEach(r=>{const{onBrowserSupportsSpeechRecognitionChange:n,onBrowserSupportsContinuousListeningChange:a}=this.subscribers[r];n(t),a(t)})}disconnect(t){if(this.recognition&&this.listening)switch(t){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;default:this.pauseAfterDisconnect=!0,this.stop()}}disableRecognition(){this.recognition&&(this.recognition.onresult=()=>{},this.recognition.onend=()=>{},this.recognition.onerror=()=>{},this.listening&&this.stopListening())}onError(t){t&&t.error&&t.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}onRecognitionDisconnect(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}updateTranscript({results:t,resultIndex:r}){const n=r===void 0?t.length-1:r;this.interimTranscript="",this.finalTranscript="";for(let i=n;i<t.length;++i)t[i].isFinal&&(!lc()||t[i][0].confidence>0)?this.updateFinalTranscript(t[i][0].transcript):this.interimTranscript=cc(this.interimTranscript,t[i][0].transcript);let a=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(a=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,a||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}updateFinalTranscript(t){this.finalTranscript=cc(this.finalTranscript,t)}resetTranscript(){this.disconnect("RESET")}startListening(){return Si(function*({continuous:t=!1,language:r}={}){if(!this.recognition)return;const n=t!==this.recognition.continuous,a=r&&r!==this.recognition.lang;if((n||a)&&(this.listening&&(yield this.stopListening()),this.recognition.continuous=n?t:this.recognition.continuous,this.recognition.lang=a?r:this.recognition.lang),!this.listening){this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript());try{yield this.start(),this.emitListeningChange(!0)}catch(i){i instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1)}}}).apply(this,arguments)}abortListening(){return Si(function*(){this.disconnect("ABORT"),this.emitListeningChange(!1),yield new Promise(t=>{this.onStopListening=t})}).call(this)}stopListening(){return Si(function*(){this.disconnect("STOP"),this.emitListeningChange(!1),yield new Promise(t=>{this.onStopListening=t})}).call(this)}getRecognition(){return this.recognition}start(){return Si(function*(){this.recognition&&!this.listening&&(yield this.recognition.start(),this.listening=!0)}).call(this)}stop(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}abort(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}constructor(t){this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=()=>{},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(t),lc()&&(this.updateFinalTranscript=vR(this.updateFinalTranscript,250,{leading:!0}))}}const V6="CLEAR_TRANSCRIPT",q6="APPEND_TRANSCRIPT",CR=()=>({type:V6}),IR=(e,t)=>({type:q6,payload:{interimTranscript:e,finalTranscript:t}}),NR=(e,t)=>{switch(t.type){case V6:return{interimTranscript:"",finalTranscript:""};case q6:return{interimTranscript:t.payload.interimTranscript,finalTranscript:cc(e.finalTranscript,t.payload.finalTranscript)};default:throw new Error}};let gs=!!ms,Wl=gs&&!lc(),pa;const RR=({transcribing:e=!0,clearTranscriptOnListen:t=!0,commands:r=[]}={})=>{const[n]=E.useState(Ai.getRecognitionManager()),[a,i]=E.useState(gs),[s,o]=E.useState(Wl),[{interimTranscript:u,finalTranscript:l},c]=E.useReducer(NR,{interimTranscript:n.interimTranscript,finalTranscript:""}),[d,h]=E.useState(n.listening),[f,p]=E.useState(n.isMicrophoneAvailable),g=E.useRef(r);g.current=r;const T=()=>{c(CR())},y=E.useCallback(()=>{n.resetTranscript(),T()},[n]),x=(D,$,F)=>{const U=(typeof D=="object"?D.toString():D).replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),ee=AR(U,$);return ee>=F?{command:D,commandWithoutSpecials:U,howSimilar:ee,isFuzzyMatch:!0}:null},_=(D,$)=>{const q=SR(D).exec($);return q?{command:D,parameters:q.slice(1)}:null},k=E.useCallback((D,$)=>{g.current.forEach(({command:F,callback:q,matchInterim:U=!1,isFuzzyMatch:ee=!1,fuzzyMatchingThreshold:Z=.8,bestMatchOnly:J=!1})=>{const be=!$&&U?D.trim():$.trim(),ye=(Array.isArray(F)?F:[F]).map(ne=>ee?x(ne,be,Z):_(ne,be)).filter(ne=>ne);if(ee&&J&&ye.length>=2){ye.sort((W,O)=>O.howSimilar-W.howSimilar);const{command:ne,commandWithoutSpecials:R,howSimilar:pe}=ye[0];q(R,be,pe,{command:ne,resetTranscript:y})}else ye.forEach(ne=>{if(ne.isFuzzyMatch){const{command:R,commandWithoutSpecials:pe,howSimilar:W}=ne;q(pe,be,W,{command:R,resetTranscript:y})}else{const{command:R,parameters:pe}=ne;q(...pe,{command:R,resetTranscript:y})}})})},[y]),C=E.useCallback((D,$)=>{e&&c(IR(D,$)),k(D,$)},[k,e]),A=E.useCallback(()=>{t&&T()},[t]);return E.useEffect(()=>{const D=Ai.counter;Ai.counter+=1;const $={onListeningChange:h,onMicrophoneAvailabilityChange:p,onTranscriptChange:C,onClearTranscript:A,onBrowserSupportsSpeechRecognitionChange:i,onBrowserSupportsContinuousListeningChange:o};return n.subscribe(D,$),()=>{n.unsubscribe(D)}},[e,t,n,C,A]),{transcript:cc(l,u),interimTranscript:u,finalTranscript:l,listening:d,isMicrophoneAvailable:f,resetTranscript:y,browserSupportsSpeechRecognition:a,browserSupportsContinuousListening:s}},Ai={counter:0,applyPolyfill:e=>{pa?pa.setSpeechRecognition(e):pa=new yd(e);const t=!!e&&H6();gs=t,Wl=t},removePolyfill:()=>{pa?pa.setSpeechRecognition(ms):pa=new yd(ms),gs=!!ms,Wl=gs&&!lc()},getRecognitionManager:()=>(pa||(pa=new yd(ms)),pa),getRecognition:()=>Ai.getRecognitionManager().getRecognition(),startListening:({continuous:e,language:t}={})=>Si(function*(){yield Ai.getRecognitionManager().startListening({continuous:e,language:t})})(),stopListening:()=>Si(function*(){yield Ai.getRecognitionManager().stopListening()})(),abortListening:()=>Si(function*(){yield Ai.getRecognitionManager().abortListening()})(),browserSupportsSpeechRecognition:()=>gs,browserSupportsContinuousListening:()=>Wl};function OR({onTranscriptChange:e,language:t="zh-CN",continuous:r=!0}={}){const{transcript:n,listening:a,resetTranscript:i,browserSupportsSpeechRecognition:s,isMicrophoneAvailable:o}=RR();E.useEffect(()=>{n&&e&&e(n)},[n,e]);const u=()=>{if(!s)throw new Error("");if(!o)throw new Error("");i()};return{transcript:n,listening:a,resetTranscript:i,startListening:u,stopListening:()=>{},toggleListening:()=>{a||u()},browserSupportsSpeechRecognition:s,isMicrophoneAvailable:o}}function MR(e,t=5e3){return e.length<=t?e:e.substring(0,t)}function PR(e){if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]}const Ey=["...","...","...","...","...","..."];function DR({onSendMessage:e,isGenerating:t=!1,onStopGenerating:r}){const[n,a]=E.useState(0),[i,s]=E.useState(!0),[o,u]=E.useState(!1),[l,c]=E.useState(!0),[d,h]=E.useState(!0),[f,p]=E.useState(!0),[g,T]=E.useState(""),[y,x]=E.useState(null),[_,k]=E.useState(""),[C,A]=E.useState(!1),[P,D]=E.useState(!1),[$,F]=E.useState(!1),q=E.useRef(null),U=E.useRef(null),{listening:ee,resetTranscript:Z,toggleListening:J,browserSupportsSpeechRecognition:be,isMicrophoneAvailable:Te}=OR({onTranscriptChange:ae=>{T(ae),u(!0)},language:"zh-CN",continuous:!0});E.useEffect(()=>{if(o||g)return;const ae=setInterval(()=>{s(!1),setTimeout(()=>{a(Me=>(Me+1)%Ey.length),s(!0)},400)},3e3);return()=>clearInterval(ae)},[o,g]);const ye=E.useCallback(ae=>{q.current&&!q.current.contains(ae.target)&&(g||u(!1))},[g]);E.useEffect(()=>(document.addEventListener("mousedown",ye),()=>document.removeEventListener("mousedown",ye)),[ye]);const ne=E.useCallback(()=>u(!0),[]),R=E.useCallback(async ae=>{if(ae.preventDefault(),!g.trim()&&!y||t||P)return;D(!0);let Me=_;if(y&&!_){A(!0);try{const Ue=await new Promise(kt=>{const We=new FileReader;We.onload=()=>kt(We.result.split(",")[1]),We.readAsDataURL(y)}),at=await fetch("/api/file-parser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileName:y.name,fileData:Ue,fileType:y.name.split(".").pop()})}),Ot=await at.text();let Wr;try{Wr=JSON.parse(Ot)}catch{throw console.error("JSON:",Ot),new Error("")}if(!at.ok)throw new Error(Wr.error||"");Me=MR(Wr.content,5e3)}catch(Ue){console.error(":",Ue),alert(Ue instanceof Error?Ue.message:""),A(!1),D(!1);return}A(!1)}e(g.trim(),{showThinking:l,showReferences:d,useWebSearch:f,uploadedFile:y||void 0,fileContent:Me||void 0}),T(""),x(null),k(""),D(!1),Z()},[g,t,P,l,d,f,y,_,e,Z]),pe=E.useCallback(ae=>{const Me=ae.target.files?.[0];if(Me){if(Me.size>100*1024*1024){alert("100MB");return}x(Me),k(""),u(!0),U.current&&(U.current.value="")}},[]),W=E.useCallback(()=>{x(null),k("")},[]),O=E.useCallback(()=>{U.current?.click()},[]),Ie=E.useCallback(()=>{if(!be){alert(" ChromeEdge  Safari ");return}if(!Te){alert("");return}try{ee||T(""),J()}catch(ae){alert(ae instanceof Error?ae.message:"")}},[be,Te,ee,J]),me=E.useCallback(ae=>{ae.key==="Enter"&&!ae.shiftKey&&(ae.preventDefault(),R(ae))},[R]),ge={default:{height:68,boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)",transition:{type:"spring",stiffness:120,damping:18}},focused:{height:68,boxShadow:"0 8px 32px 0 rgba(0,0,0,0.16)",transition:{type:"spring",stiffness:120,damping:18}}};return v.jsx("div",{className:"border-t border-border bg-background","data-tutorial":"input-area",children:v.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-6",children:[v.jsx(tf,{children:y&&v.jsx(vs.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mb-3",children:v.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 px-4 py-3 rounded-2xl border border-border shadow-sm",children:[v.jsx(ig,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"text-sm font-medium truncate",children:y.name}),v.jsx("p",{className:"text-xs text-muted-foreground",children:PR(y.size)})]}),v.jsx("button",{type:"button",onClick:W,className:"p-1.5 hover:bg-muted rounded-lg transition-colors flex-shrink-0",title:"",children:v.jsx(Q4,{className:"h-4 w-4"})})]})})}),v.jsx(vs.div,{ref:q,className:"w-full",variants:ge,animate:o||g?"focused":"default",initial:"default",style:{overflow:"hidden",borderRadius:32,background:"hsl(var(--background))"},onClick:ne,children:v.jsx("form",{onSubmit:R,children:v.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-full bg-background w-full",children:[v.jsx("input",{ref:U,type:"file",accept:".txt,.md,.doc,.docx,.pdf",onChange:pe,className:"hidden",disabled:t||C}),v.jsx("button",{className:`p-3 rounded-full hover:bg-accent transition ${C?"opacity-50 cursor-not-allowed":""} ${y?"text-primary":""}`,title:"",type:"button",tabIndex:-1,onClick:O,disabled:t||C,"data-tutorial":"file-upload",children:v.jsx(ig,{size:20})}),v.jsxs("div",{className:"relative flex-1",children:[v.jsx("input",{type:"text",value:g,onChange:ae=>T(ae.target.value),onKeyDown:me,className:"flex-1 border-0 outline-0 rounded-md py-2 text-base bg-transparent w-full font-normal text-foreground",style:{position:"relative",zIndex:1},onFocus:ne,disabled:t}),v.jsx("div",{className:"absolute left-0 top-0 w-full h-full pointer-events-none flex items-center px-3 py-2",children:v.jsx(tf,{mode:"wait",children:i&&!o&&!g&&v.jsx(vs.span,{className:"absolute left-0 top-1/2 -translate-y-1/2 text-muted-foreground select-none pointer-events-none",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",zIndex:0},initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.3},children:Ey[n]},n)})})]}),v.jsx("button",{className:`p-3 rounded-full transition ${ee?"bg-red-500 hover:bg-red-600 text-white animate-pulse":"hover:bg-accent"}`,title:ee?"":"",type:"button",tabIndex:-1,onClick:Ie,disabled:t,"data-tutorial":"voice-input",children:ee?v.jsx(iS,{size:20}):v.jsx(oS,{size:20})}),t?v.jsx("button",{type:"button",onClick:r,className:"flex items-center gap-1 bg-destructive hover:bg-destructive/90 text-white p-3 rounded-full font-medium justify-center",title:"",children:v.jsx(hS,{size:18,className:"text-white"})}):v.jsx("button",{type:"submit",disabled:!g.trim()&&!y||t||C||P,className:"flex items-center gap-1 bg-primary hover:bg-primary/90 text-primary-foreground p-3 rounded-full font-medium justify-center disabled:opacity-40 disabled:cursor-not-allowed",title:"",children:v.jsx(R_,{size:18})})]})})}),v.jsx("div",{className:"mt-3",children:v.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[v.jsxs("button",{type:"button",onClick:()=>p(!f),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-all ${f?"bg-primary text-primary-foreground shadow-sm":"bg-muted text-muted-foreground hover:bg-muted/80"}`,title:f?"":"","data-tutorial":"web-search",children:[v.jsx($h,{size:14}),v.jsx("span",{children:""})]}),v.jsxs("button",{type:"button",onClick:()=>h(!d),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-all ${d?"bg-primary text-primary-foreground shadow-sm":"bg-muted text-muted-foreground hover:bg-muted/80"}`,title:d?"":"","data-tutorial":"knowledge-search",children:[v.jsx(_p,{size:14}),v.jsx("span",{children:""})]}),v.jsxs("button",{type:"button",onClick:()=>c(!l),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-all ${l?"bg-primary text-primary-foreground shadow-sm":"bg-muted text-muted-foreground hover:bg-muted/80"}`,title:l?"":"","data-tutorial":"deep-thinking",children:[v.jsx(j_,{size:14}),v.jsx("span",{children:""})]})]})}),v.jsx("div",{className:"mt-3 flex items-center justify-center gap-2",children:v.jsx("span",{className:"text-xs text-muted-foreground",children:""})})]})})}const Du=(function(e){if(e==null)return jR;if(typeof e=="function")return p0(e);if(typeof e=="object")return Array.isArray(e)?LR(e):FR(e);if(typeof e=="string")return BR(e);throw new Error("Expected function, string, or object as test")});function LR(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Du(e[r]);return p0(n);function n(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function FR(e){const t=e;return p0(r);function r(n){const a=n;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function BR(e){return p0(t);function t(r){return r&&r.type===e}}function p0(e){return t;function t(r,n,a){return!!($R(r)&&e.call(this,r,typeof n=="number"?n:void 0,a||void 0))}}function jR(){return!0}function $R(e){return e!==null&&typeof e=="object"&&"type"in e}const W6=[],Io=!0,hf=!1,dc="skip";function im(e,t,r,n){let a;typeof t=="function"&&typeof r!="function"?(n=r,r=t):a=t;const i=Du(a),s=n?-1:1;o(e,void 0,[])();function o(u,l,c){const d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(u.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=W6,p,g,T;if((!t||i(u,l,c[c.length-1]||void 0))&&(f=zR(r(u,c)),f[0]===hf))return f;if("children"in u&&u.children){const y=u;if(y.children&&f[0]!==dc)for(g=(n?y.children.length:-1)+s,T=c.concat(y);g>-1&&g<y.children.length;){const x=y.children[g];if(p=o(x,g,T)(),p[0]===hf)return p;g=typeof p[1]=="number"?p[1]:g+s}}return f}}}function zR(e){return Array.isArray(e)?e:typeof e=="number"?[Io,e]:e==null?W6:[e]}function Ss(e,t,r,n){let a,i,s;typeof t=="function"&&typeof r!="function"?(i=void 0,s=t,a=r):(i=t,s=r,a=n),im(e,i,o,a);function o(u,l){const c=l[l.length-1],d=c?c.children.indexOf(u):void 0;return s(u,d,c)}}function UR({defaultOrigin:e="",allowedLinkPrefixes:t=[],allowedImagePrefixes:r=[],allowDataImages:n=!1,allowedProtocols:a=[],blockedImageClass:i="inline-block bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-3 py-1 rounded text-sm",blockedLinkClass:s="text-gray-500"}){const o=t.length&&!t.every(l=>l==="*"),u=r.length&&!r.every(l=>l==="*");if(!e&&(o||u))throw new Error("defaultOrigin is required when allowedLinkPrefixes or allowedImagePrefixes are provided");return l=>{const c=WR(e,t,r,n,a,i,s);Ss(l,c)}}function ky(e,t){if(typeof e!="string")return null;try{return new URL(e)}catch{if(t)try{return new URL(e,t)}catch{return null}if(e.startsWith("/")||e.startsWith("./")||e.startsWith("../"))try{return new URL(e,"http://example.com")}catch{return null}return null}}function HR(e){return typeof e!="string"?!1:e.startsWith("/")||e.startsWith("./")||e.startsWith("../")}const VR=new Set(["https:","http:","irc:","ircs:","mailto:","xmpp:","blob:"]),qR=new Set(["javascript:","data:","file:","vbscript:"]);function _y(e,t,r,n=!1,a=!1,i=[]){if(!e)return null;if(typeof e=="string"&&e.startsWith("#")&&!a)try{if(new URL(e,"http://example.com").hash===e)return e}catch{}if(typeof e=="string"&&e.startsWith("data:"))return a&&n&&e.startsWith("data:image/")?e:null;if(typeof e=="string"&&e.startsWith("blob:")){try{if(new URL(e).protocol==="blob:"&&e.length>5){const c=e.substring(5);if(c&&c.length>0&&c!=="invalid")return e}}catch{return null}return null}const s=ky(e,r);if(!s||qR.has(s.protocol)||!(VR.has(s.protocol)||i.includes(s.protocol)||i.includes("*")))return null;if(s.protocol==="mailto:"||!s.protocol.match(/^https?:$/))return s.href;const u=HR(e);return s&&t.some(l=>{const c=ky(l,r);return!c||c.origin!==s.origin?!1:s.href.startsWith(c.href)})?u?s.pathname+s.search+s.hash:s.href:t.includes("*")?s.protocol!=="https:"&&s.protocol!=="http:"?null:u?s.pathname+s.search+s.hash:s.href:null}const bd=Symbol("node-seen"),WR=(e,t,r,n,a,i,s)=>{const o=(u,l,c)=>{if(u.type!=="element"||u[bd])return Io;if(u.tagName==="a"){const d=_y(u.properties.href,t,e,!1,!1,a);return d===null?(u[bd]=!0,Ss(u,o),c&&typeof l=="number"&&(c.children[l]={type:"element",tagName:"span",properties:{title:"Blocked URL: "+String(u.properties.href),class:s},children:[...u.children,{type:"text",value:" [blocked]"}]}),dc):(u.properties.href=d,u.properties.target="_blank",u.properties.rel="noopener noreferrer",Io)}if(u.tagName==="img"){const d=_y(u.properties.src,r,e,n,!0,a);return d===null?(u[bd]=!0,Ss(u,o),c&&typeof l=="number"&&(c.children[l]={type:"element",tagName:"span",properties:{class:i},children:[{type:"text",value:"[Image blocked: "+String(u.properties.alt||"No description")+"]"}]}),dc):(u.properties.src=d,Io)}return Io};return o};class Lu{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Lu.prototype.normal={};Lu.prototype.property={};Lu.prototype.space=void 0;function Z6(e,t){const r={},n={};for(const a of e)Object.assign(r,a.property),Object.assign(n,a.normal);return new Lu(r,n,t)}function su(e){return e.toLowerCase()}class Ur{constructor(t,r){this.attribute=r,this.property=t}}Ur.prototype.attribute="";Ur.prototype.booleanish=!1;Ur.prototype.boolean=!1;Ur.prototype.commaOrSpaceSeparated=!1;Ur.prototype.commaSeparated=!1;Ur.prototype.defined=!1;Ur.prototype.mustUseProperty=!1;Ur.prototype.number=!1;Ur.prototype.overloadedBoolean=!1;Ur.prototype.property="";Ur.prototype.spaceSeparated=!1;Ur.prototype.space=void 0;let ZR=0;const Ye=Hi(),Xt=Hi(),ff=Hi(),le=Hi(),Ct=Hi(),xs=Hi(),Zr=Hi();function Hi(){return 2**++ZR}const pf=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ye,booleanish:Xt,commaOrSpaceSeparated:Zr,commaSeparated:xs,number:le,overloadedBoolean:ff,spaceSeparated:Ct},Symbol.toStringTag,{value:"Module"})),vd=Object.keys(pf);class sm extends Ur{constructor(t,r,n,a){let i=-1;if(super(t,r),Sy(this,"space",a),typeof n=="number")for(;++i<vd.length;){const s=vd[i];Sy(this,vd[i],(n&pf[s])===pf[s])}}}sm.prototype.defined=!0;function Sy(e,t,r){r&&(e[t]=r)}function Ws(e){const t={},r={};for(const[n,a]of Object.entries(e.properties)){const i=new sm(n,e.transform(e.attributes||{},n),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(i.mustUseProperty=!0),t[n]=i,r[su(n)]=n,r[su(i.attribute)]=n}return new Lu(t,r,e.space)}const G6=Ws({properties:{ariaActiveDescendant:null,ariaAtomic:Xt,ariaAutoComplete:null,ariaBusy:Xt,ariaChecked:Xt,ariaColCount:le,ariaColIndex:le,ariaColSpan:le,ariaControls:Ct,ariaCurrent:null,ariaDescribedBy:Ct,ariaDetails:null,ariaDisabled:Xt,ariaDropEffect:Ct,ariaErrorMessage:null,ariaExpanded:Xt,ariaFlowTo:Ct,ariaGrabbed:Xt,ariaHasPopup:null,ariaHidden:Xt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ct,ariaLevel:le,ariaLive:null,ariaModal:Xt,ariaMultiLine:Xt,ariaMultiSelectable:Xt,ariaOrientation:null,ariaOwns:Ct,ariaPlaceholder:null,ariaPosInSet:le,ariaPressed:Xt,ariaReadOnly:Xt,ariaRelevant:null,ariaRequired:Xt,ariaRoleDescription:Ct,ariaRowCount:le,ariaRowIndex:le,ariaRowSpan:le,ariaSelected:Xt,ariaSetSize:le,ariaSort:null,ariaValueMax:le,ariaValueMin:le,ariaValueNow:le,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Y6(e,t){return t in e?e[t]:t}function K6(e,t){return Y6(e,t.toLowerCase())}const GR=Ws({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xs,acceptCharset:Ct,accessKey:Ct,action:null,allow:null,allowFullScreen:Ye,allowPaymentRequest:Ye,allowUserMedia:Ye,alt:null,as:null,async:Ye,autoCapitalize:null,autoComplete:Ct,autoFocus:Ye,autoPlay:Ye,blocking:Ct,capture:null,charSet:null,checked:Ye,cite:null,className:Ct,cols:le,colSpan:null,content:null,contentEditable:Xt,controls:Ye,controlsList:Ct,coords:le|xs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ye,defer:Ye,dir:null,dirName:null,disabled:Ye,download:ff,draggable:Xt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ye,formTarget:null,headers:Ct,height:le,hidden:ff,high:le,href:null,hrefLang:null,htmlFor:Ct,httpEquiv:Ct,id:null,imageSizes:null,imageSrcSet:null,inert:Ye,inputMode:null,integrity:null,is:null,isMap:Ye,itemId:null,itemProp:Ct,itemRef:Ct,itemScope:Ye,itemType:Ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ye,low:le,manifest:null,max:null,maxLength:le,media:null,method:null,min:null,minLength:le,multiple:Ye,muted:Ye,name:null,nonce:null,noModule:Ye,noValidate:Ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ye,optimum:le,pattern:null,ping:Ct,placeholder:null,playsInline:Ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ye,referrerPolicy:null,rel:Ct,required:Ye,reversed:Ye,rows:le,rowSpan:le,sandbox:Ct,scope:null,scoped:Ye,seamless:Ye,selected:Ye,shadowRootClonable:Ye,shadowRootDelegatesFocus:Ye,shadowRootMode:null,shape:null,size:le,sizes:null,slot:null,span:le,spellCheck:Xt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:le,step:null,style:null,tabIndex:le,target:null,title:null,translate:null,type:null,typeMustMatch:Ye,useMap:null,value:Xt,width:le,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ct,axis:null,background:null,bgColor:null,border:le,borderColor:null,bottomMargin:le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ye,declare:Ye,event:null,face:null,frame:null,frameBorder:null,hSpace:le,leftMargin:le,link:null,longDesc:null,lowSrc:null,marginHeight:le,marginWidth:le,noResize:Ye,noHref:Ye,noShade:Ye,noWrap:Ye,object:null,profile:null,prompt:null,rev:null,rightMargin:le,rules:null,scheme:null,scrolling:Xt,standby:null,summary:null,text:null,topMargin:le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ye,disableRemotePlayback:Ye,prefix:null,property:null,results:le,security:null,unselectable:null},space:"html",transform:K6}),YR=Ws({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Zr,accentHeight:le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:le,amplitude:le,arabicForm:null,ascent:le,attributeName:null,attributeType:null,azimuth:le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:le,by:null,calcMode:null,capHeight:le,className:Ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:le,diffuseConstant:le,direction:null,display:null,dur:null,divisor:le,dominantBaseline:null,download:Ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:le,enableBackground:null,end:null,event:null,exponent:le,externalResourcesRequired:null,fill:null,fillOpacity:le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xs,g2:xs,glyphName:xs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:le,horizOriginX:le,horizOriginY:le,id:null,ideographic:le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:le,k:le,k1:le,k2:le,k3:le,k4:le,kernelMatrix:Zr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:le,overlineThickness:le,paintOrder:null,panose1:null,path:null,pathLength:le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:le,pointsAtY:le,pointsAtZ:le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zr,rev:Zr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zr,requiredFeatures:Zr,requiredFonts:Zr,requiredFormats:Zr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:le,specularExponent:le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:le,strikethroughThickness:le,string:null,stroke:null,strokeDashArray:Zr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:le,strokeOpacity:le,strokeWidth:null,style:null,surfaceScale:le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zr,tabIndex:le,tableValues:null,target:null,targetX:le,targetY:le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:le,underlineThickness:le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:le,values:null,vAlphabetic:le,vMathematical:le,vectorEffect:null,vHanging:le,vIdeographic:le,version:null,vertAdvY:le,vertOriginX:le,vertOriginY:le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Y6}),X6=Ws({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),J6=Ws({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:K6}),Q6=Ws({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),KR={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},XR=/[A-Z]/g,Ay=/-[a-z]/g,JR=/^data[-\w.:]+$/i;function m0(e,t){const r=su(t);let n=t,a=Ur;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&JR.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(Ay,eO);n="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!Ay.test(i)){let s=i.replace(XR,QR);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}a=sm}return new a(n,t)}function QR(e){return"-"+e.toLowerCase()}function eO(e){return e.charAt(1).toUpperCase()}const Fu=Z6([G6,GR,X6,J6,Q6],"html"),fi=Z6([G6,YR,X6,J6,Q6],"svg");function Cy(e){const t=[],r=String(e||"");let n=r.indexOf(","),a=0,i=!1;for(;!i;){n===-1&&(n=r.length,i=!0);const s=r.slice(a,n).trim();(s||!i)&&t.push(s),a=n+1,n=r.indexOf(",",a)}return t}function ex(e,t){const r=t||{};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const Iy=/[#.]/g;function tO(e,t){const r=e||"",n={};let a=0,i,s;for(;a<r.length;){Iy.lastIndex=a;const o=Iy.exec(r),u=r.slice(a,o?o.index:r.length);u&&(i?i==="#"?n.id=u:Array.isArray(n.className)?n.className.push(u):n.className=[u]:s=u,a+=u.length),o&&(i=o[0],a++)}return{type:"element",tagName:s||t||"div",properties:n,children:[]}}function Ny(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function tx(e){return e.join(" ").trim()}function rx(e,t,r){const n=r?iO(r):void 0;function a(i,s,...o){let u;if(i==null){u={type:"root",children:[]};const l=s;o.unshift(l)}else{u=tO(i,t);const l=u.tagName.toLowerCase(),c=n?n.get(l):void 0;if(u.tagName=c||l,rO(s))o.unshift(s);else for(const[d,h]of Object.entries(s))nO(e,u.properties,d,h)}for(const l of o)mf(u.children,l);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return a}function rO(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const a=t[n];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const i=a;for(const s of i)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function nO(e,t,r,n){const a=m0(e,r);let i;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;i=n}else typeof n=="boolean"?i=n:typeof n=="string"?a.spaceSeparated?i=Ny(n):a.commaSeparated?i=Cy(n):a.commaOrSpaceSeparated?i=Ny(Cy(n).join(" ")):i=Ry(a,a.property,n):Array.isArray(n)?i=[...n]:i=a.property==="style"?aO(n):String(n);if(Array.isArray(i)){const s=[];for(const o of i)s.push(Ry(a,a.property,o));i=s}a.property==="className"&&Array.isArray(t.className)&&(i=t.className.concat(i)),t[a.property]=i}}function mf(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)mf(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?mf(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Ry(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||su(r)===su(t)))return!0}return r}function aO(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}function iO(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}const sO=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],nx=rx(Fu,"div"),ax=rx(fi,"g",sO),Zn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function oO(e,t){return ix(e,{})||{type:"root",children:[]}}function ix(e,t){const r=uO(e,t);return r&&t.afterTransform&&t.afterTransform(e,r),r}function uO(e,t){switch(e.nodeType){case 1:return hO(e,t);case 3:return cO(e);case 8:return dO(e);case 9:return Oy(e,t);case 10:return lO();case 11:return Oy(e,t);default:return}}function Oy(e,t){return{type:"root",children:sx(e,t)}}function lO(){return{type:"doctype"}}function cO(e){return{type:"text",value:e.nodeValue||""}}function dO(e){return{type:"comment",value:e.nodeValue||""}}function hO(e,t){const r=e.namespaceURI,n=r===Zn.svg?ax:nx,a=r===Zn.html?e.tagName.toLowerCase():e.tagName,i=r===Zn.html&&a==="template"?e.content:e,s=e.getAttributeNames(),o={};let u=-1;for(;++u<s.length;)o[s[u]]=e.getAttribute(s[u])||"";return n(a,o,sx(i,t))}function sx(e,t){const r=e.childNodes,n=[];let a=-1;for(;++a<r.length;){const i=ix(r[a],t);i!==void 0&&n.push(i)}return n}new DOMParser;function fO(e,t){const r=pO(e);return oO(r)}function pO(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const My=(function(e,t,r){const n=Du(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]}),Vi=(function(e){if(e==null)return yO;if(typeof e=="string")return gO(e);if(typeof e=="object")return mO(e);if(typeof e=="function")return om(e);throw new Error("Expected function, string, or array as `test`")});function mO(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Vi(e[r]);return om(n);function n(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function gO(e){return om(t);function t(r){return r.tagName===e}}function om(e){return t;function t(r,n,a){return!!(bO(r)&&e.call(this,r,typeof n=="number"?n:void 0,a||void 0))}}function yO(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function bO(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const Py=/\n/g,Dy=/[\t ]+/g,gf=Vi("br"),Ly=Vi(SO),vO=Vi("p"),Fy=Vi("tr"),xO=Vi(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",_O,AO]),ox=Vi(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function wO(e,t){const r=t||{},n="children"in e?e.children:[],a=ox(e),i=cx(e,{whitespace:r.whitespace||"normal"}),s=[];(e.type==="text"||e.type==="comment")&&s.push(...lx(e,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<n.length;)s.push(...ux(n[o],e,{whitespace:i,breakBefore:o?void 0:a,breakAfter:o<n.length-1?gf(n[o+1]):a}));const u=[];let l;for(o=-1;++o<s.length;){const c=s[o];typeof c=="number"?l!==void 0&&c>l&&(l=c):c&&(l!==void 0&&l>-1&&u.push(`
`.repeat(l)||" "),l=-1,u.push(c))}return u.join("")}function ux(e,t,r){return e.type==="element"?TO(e,t,r):e.type==="text"?r.whitespace==="normal"?lx(e,r):EO(e):[]}function TO(e,t,r){const n=cx(e,r),a=e.children||[];let i=-1,s=[];if(xO(e))return s;let o,u;for(gf(e)||Fy(e)&&My(t,e,Fy)?u=`
`:vO(e)?(o=2,u=2):ox(e)&&(o=1,u=1);++i<a.length;)s=s.concat(ux(a[i],e,{whitespace:n,breakBefore:i?void 0:o,breakAfter:i<a.length-1?gf(a[i+1]):u}));return Ly(e)&&My(t,e,Ly)&&s.push("	"),o&&s.unshift(o),u&&s.push(u),s}function lx(e,t){const r=String(e.value),n=[],a=[];let i=0;for(;i<=r.length;){Py.lastIndex=i;const u=Py.exec(r),l=u&&"index"in u?u.index:r.length;n.push(kO(r.slice(i,l).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),i===0?t.breakBefore:!0,l===r.length?t.breakAfter:!0)),i=l+1}let s=-1,o;for(;++s<n.length;)n[s].charCodeAt(n[s].length-1)===8203||s<n.length-1&&n[s+1].charCodeAt(0)===8203?(a.push(n[s]),o=void 0):n[s]?(typeof o=="number"&&a.push(o),a.push(n[s]),o=0):(s===0||s===n.length-1)&&a.push(0);return a}function EO(e){return[String(e.value)]}function kO(e,t,r){const n=[];let a=0,i;for(;a<e.length;){Dy.lastIndex=a;const s=Dy.exec(e);i=s?s.index:e.length,!a&&!i&&s&&!t&&n.push(""),a!==i&&n.push(e.slice(a,i)),a=s?i+s[0].length:i}return a!==i&&!r&&n.push(""),n.join(" ")}function cx(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function _O(e){return!!(e.properties||{}).hidden}function SO(e){return e.tagName==="td"||e.tagName==="th"}function AO(e){return e.tagName==="dialog"&&!(e.properties||{}).open}class Br{constructor(t,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=n}static range(t,r){return r?!t||!t.loc||!r.loc||t.loc.lexer!==r.loc.lexer?null:new Br(t.loc.lexer,t.loc.start,r.loc.end):t&&t.loc}}class Kr{constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new Kr(r,Br.range(this,t))}}let ue=class dx{constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+t,a,i,s=r&&r.loc;if(s&&s.start<=s.end){var o=s.lexer.input;a=s.start,i=s.end,a===o.length?n+=" at end of input: ":n+=" at position "+(a+1)+": ";var u=o.slice(a,i).replace(/[^]/g,"$&"),l;a>15?l=""+o.slice(a-15,a):l=o.slice(0,a);var c;i+15<o.length?c=o.slice(i,i+15)+"":c=o.slice(i),n+=l+u+c}var d=new Error(n);return d.name="ParseError",d.__proto__=dx.prototype,d.position=a,a!=null&&i!=null&&(d.length=i-a),d.rawMessage=t,d}};ue.prototype.__proto__=Error.prototype;var CO=function(t,r){return t===void 0?r:t},IO=/([A-Z])/g,NO=function(t){return t.replace(IO,"-$1").toLowerCase()},RO={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},OO=/[&><"']/g;function MO(e){return String(e).replace(OO,t=>RO[t])}var hx=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},PO=function(t){var r=hx(t);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},DO=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},LO=function(t){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},dt={deflt:CO,escape:MO,hyphenate:NO,getBaseElem:hx,isCharacterBox:PO,protocolFromUrl:LO},zo={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function FO(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class um{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var r in zo)if(zo.hasOwnProperty(r)){var n=zo[r];this[r]=t[r]!==void 0?n.processor?n.processor(t[r]):t[r]:FO(n)}}reportNonstrict(t,r,n){var a=this.strict;if(typeof a=="function"&&(a=a(t,r,n)),!(!a||a==="ignore")){if(a===!0||a==="error")throw new ue("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+t+"]"),n);a==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+r+" ["+t+"]"))}}useStrictBehavior(t,r,n){var a=this.strict;if(typeof a=="function")try{a=a(t,r,n)}catch{a="error"}return!a||a==="ignore"?!1:a===!0||a==="error"?!0:a==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+r+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var r=dt.protocolFromUrl(t.url);if(r==null)return!1;t.protocol=r}var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}}class za{constructor(t,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=r,this.cramped=n}sup(){return Hn[BO[this.id]]}sub(){return Hn[jO[this.id]]}fracNum(){return Hn[$O[this.id]]}fracDen(){return Hn[zO[this.id]]}cramp(){return Hn[UO[this.id]]}text(){return Hn[HO[this.id]]}isTight(){return this.size>=2}}var lm=0,hc=1,ws=2,Ea=3,ou=4,hn=5,As=6,Ir=7,Hn=[new za(lm,0,!1),new za(hc,0,!0),new za(ws,1,!1),new za(Ea,1,!0),new za(ou,2,!1),new za(hn,2,!0),new za(As,3,!1),new za(Ir,3,!0)],BO=[ou,hn,ou,hn,As,Ir,As,Ir],jO=[hn,hn,hn,hn,Ir,Ir,Ir,Ir],$O=[ws,Ea,ou,hn,As,Ir,As,Ir],zO=[Ea,Ea,hn,hn,Ir,Ir,Ir,Ir],UO=[hc,hc,Ea,Ea,hn,hn,Ir,Ir],HO=[lm,hc,ws,Ea,ws,Ea,ws,Ea],Le={DISPLAY:Hn[lm],TEXT:Hn[ws],SCRIPT:Hn[ou],SCRIPTSCRIPT:Hn[As]},yf=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function VO(e){for(var t=0;t<yf.length;t++)for(var r=yf[t],n=0;n<r.blocks.length;n++){var a=r.blocks[n];if(e>=a[0]&&e<=a[1])return r.name}return null}var Zl=[];yf.forEach(e=>e.blocks.forEach(t=>Zl.push(...t)));function fx(e){for(var t=0;t<Zl.length;t+=2)if(e>=Zl[t]&&e<=Zl[t+1])return!0;return!1}var es=80,qO=function(t,r){return"M95,"+(622+t+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},WO=function(t,r){return"M263,"+(601+t+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},ZO=function(t,r){return"M983 "+(10+t+r)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},GO=function(t,r){return"M424,"+(2398+t+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+r+`
h400000v`+(40+t)+"h-400000z"},YO=function(t,r){return"M473,"+(2713+t+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+r+"h400000v"+(40+t)+"H1017.7z"},KO=function(t){var r=t/2;return"M400000 "+t+" H0 L"+r+" 0 l65 45 L145 "+(t-80)+" H400000z"},XO=function(t,r,n){var a=n-54-r-t;return"M702 "+(t+r)+"H400000"+(40+t)+`
H742v`+a+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+t)+"H742z"},JO=function(t,r,n){r=1e3*r;var a="";switch(t){case"sqrtMain":a=qO(r,es);break;case"sqrtSize1":a=WO(r,es);break;case"sqrtSize2":a=ZO(r,es);break;case"sqrtSize3":a=GO(r,es);break;case"sqrtSize4":a=YO(r,es);break;case"sqrtTall":a=XO(r,es,n)}return a},QO=function(t,r){switch(t){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},By={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},eM=function(t,r){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Bu{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return this.classes.includes(t)}toNode(){for(var t=document.createDocumentFragment(),r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){for(var t="",r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t}toText(){var t=r=>r.toText();return this.children.map(t).join("")}}var Gn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},gl={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},jy={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function px(e,t){Gn[e]=t}function cm(e,t,r){if(!Gn[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),a=Gn[t][n];if(!a&&e[0]in jy&&(n=jy[e[0]].charCodeAt(0),a=Gn[t][n]),!a&&r==="text"&&fx(n)&&(a=Gn[t][77]),a)return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}var xd={};function tM(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!xd[t]){var r=xd[t]={cssEmPerMu:gl.quad[t]/18};for(var n in gl)gl.hasOwnProperty(n)&&(r[n]=gl[n][t])}return xd[t]}var rM=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],$y=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],zy=function(t,r){return r.size<2?t:rM[t-1][r.size-1]};class ba{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||ba.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=$y[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new ba(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:zy(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:$y[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=zy(ba.BASESIZE,t);return this.size===r&&this.textSize===ba.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ba.BASESIZE?["sizing","reset-size"+this.size,"size"+ba.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=tM(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}ba.BASESIZE=6;var bf={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},nM={ex:!0,em:!0,mu:!0},mx=function(t){return typeof t!="string"&&(t=t.unit),t in bf||t in nM||t==="ex"},zt=function(t,r){var n;if(t.unit in bf)n=bf[t.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(t.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var a;if(r.style.isTight()?a=r.havingStyle(r.style.text()):a=r,t.unit==="ex")n=a.fontMetrics().xHeight;else if(t.unit==="em")n=a.fontMetrics().quad;else throw new ue("Invalid unit: '"+t.unit+"'");a!==r&&(n*=a.sizeMultiplier/r.sizeMultiplier)}return Math.min(t.number*n,r.maxSize)},fe=function(t){return+t.toFixed(4)+"em"},ti=function(t){return t.filter(r=>r).join(" ")},gx=function(t,r,n){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var a=r.getColor();a&&(this.style.color=a)}},yx=function(t){var r=document.createElement(t);r.className=ti(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&r.setAttribute(a,this.attributes[a]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r},aM=/[\s"'>/=\x00-\x1f]/,bx=function(t){var r="<"+t;this.classes.length&&(r+=' class="'+dt.escape(ti(this.classes))+'"');var n="";for(var a in this.style)this.style.hasOwnProperty(a)&&(n+=dt.hyphenate(a)+":"+this.style[a]+";");n&&(r+=' style="'+dt.escape(n)+'"');for(var i in this.attributes)if(this.attributes.hasOwnProperty(i)){if(aM.test(i))throw new ue("Invalid attribute name '"+i+"'");r+=" "+i+'="'+dt.escape(this.attributes[i])+'"'}r+=">";for(var s=0;s<this.children.length;s++)r+=this.children[s].toMarkup();return r+="</"+t+">",r};class ju{constructor(t,r,n,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,gx.call(this,t,n,a),this.children=r||[]}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return this.classes.includes(t)}toNode(){return yx.call(this,"span")}toMarkup(){return bx.call(this,"span")}}class dm{constructor(t,r,n,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,gx.call(this,r,a),this.children=n||[],this.setAttribute("href",t)}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return this.classes.includes(t)}toNode(){return yx.call(this,"a")}toMarkup(){return bx.call(this,"a")}}class iM{constructor(t,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=t,this.classes=["mord"],this.style=n}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);return t}toMarkup(){var t='<img src="'+dt.escape(this.src)+'"'+(' alt="'+dt.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=dt.hyphenate(n)+":"+this.style[n]+";");return r&&(t+=' style="'+dt.escape(r)+'"'),t+="'/>",t}}var sM={:"",:"",:"",:""};class yn{constructor(t,r,n,a,i,s,o,u){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=r||0,this.depth=n||0,this.italic=a||0,this.skew=i||0,this.width=s||0,this.classes=o||[],this.style=u||{},this.maxFontSize=0;var l=VO(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[]/.test(this.text)&&(this.text=sM[this.text])}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=fe(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=ti(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(t),r):t}toMarkup(){var t=!1,r="<span";this.classes.length&&(t=!0,r+=' class="',r+=dt.escape(ti(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var a in this.style)this.style.hasOwnProperty(a)&&(n+=dt.hyphenate(a)+":"+this.style[a]+";");n&&(t=!0,r+=' style="'+dt.escape(n)+'"');var i=dt.escape(this.text);return t?(r+=">",r+=i,r+="</span>",r):i}}class Ia{constructor(t,r){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=r||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+dt.escape(this.attributes[r])+'"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</svg>",t}}class ri{constructor(t,r){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=r}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",By[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+dt.escape(this.alternate)+'"/>':'<path d="'+dt.escape(By[this.pathName])+'"/>'}}class vf{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var t="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+dt.escape(this.attributes[r])+'"');return t+="/>",t}}function Uy(e){if(e instanceof yn)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function oM(e){if(e instanceof ju)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var uM={bin:1,close:1,inner:1,open:1,punct:1,rel:1},lM={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Rt={math:{},text:{}};function b(e,t,r,n,a,i){Rt[e][a]={font:t,group:r,replace:n},i&&n&&(Rt[e][n]=Rt[e][a])}var w="math",te="text",S="main",L="ams",Bt="accent-token",ke="bin",Mr="close",Zs="inner",De="mathord",rr="op-token",nn="open",g0="punct",B="rel",Da="spacing",z="textord";b(w,S,B,"","\\equiv",!0);b(w,S,B,"","\\prec",!0);b(w,S,B,"","\\succ",!0);b(w,S,B,"","\\sim",!0);b(w,S,B,"","\\perp");b(w,S,B,"","\\preceq",!0);b(w,S,B,"","\\succeq",!0);b(w,S,B,"","\\simeq",!0);b(w,S,B,"","\\mid",!0);b(w,S,B,"","\\ll",!0);b(w,S,B,"","\\gg",!0);b(w,S,B,"","\\asymp",!0);b(w,S,B,"","\\parallel");b(w,S,B,"","\\bowtie",!0);b(w,S,B,"","\\smile",!0);b(w,S,B,"","\\sqsubseteq",!0);b(w,S,B,"","\\sqsupseteq",!0);b(w,S,B,"","\\doteq",!0);b(w,S,B,"","\\frown",!0);b(w,S,B,"","\\ni",!0);b(w,S,B,"","\\propto",!0);b(w,S,B,"","\\vdash",!0);b(w,S,B,"","\\dashv",!0);b(w,S,B,"","\\owns");b(w,S,g0,".","\\ldotp");b(w,S,g0,"","\\cdotp");b(w,S,z,"#","\\#");b(te,S,z,"#","\\#");b(w,S,z,"&","\\&");b(te,S,z,"&","\\&");b(w,S,z,"","\\aleph",!0);b(w,S,z,"","\\forall",!0);b(w,S,z,"","\\hbar",!0);b(w,S,z,"","\\exists",!0);b(w,S,z,"","\\nabla",!0);b(w,S,z,"","\\flat",!0);b(w,S,z,"","\\ell",!0);b(w,S,z,"","\\natural",!0);b(w,S,z,"","\\clubsuit",!0);b(w,S,z,"","\\wp",!0);b(w,S,z,"","\\sharp",!0);b(w,S,z,"","\\diamondsuit",!0);b(w,S,z,"","\\Re",!0);b(w,S,z,"","\\heartsuit",!0);b(w,S,z,"","\\Im",!0);b(w,S,z,"","\\spadesuit",!0);b(w,S,z,"","\\S",!0);b(te,S,z,"","\\S");b(w,S,z,"","\\P",!0);b(te,S,z,"","\\P");b(w,S,z,"","\\dag");b(te,S,z,"","\\dag");b(te,S,z,"","\\textdagger");b(w,S,z,"","\\ddag");b(te,S,z,"","\\ddag");b(te,S,z,"","\\textdaggerdbl");b(w,S,Mr,"","\\rmoustache",!0);b(w,S,nn,"","\\lmoustache",!0);b(w,S,Mr,"","\\rgroup",!0);b(w,S,nn,"","\\lgroup",!0);b(w,S,ke,"","\\mp",!0);b(w,S,ke,"","\\ominus",!0);b(w,S,ke,"","\\uplus",!0);b(w,S,ke,"","\\sqcap",!0);b(w,S,ke,"","\\ast");b(w,S,ke,"","\\sqcup",!0);b(w,S,ke,"","\\bigcirc",!0);b(w,S,ke,"","\\bullet",!0);b(w,S,ke,"","\\ddagger");b(w,S,ke,"","\\wr",!0);b(w,S,ke,"","\\amalg");b(w,S,ke,"&","\\And");b(w,S,B,"","\\longleftarrow",!0);b(w,S,B,"","\\Leftarrow",!0);b(w,S,B,"","\\Longleftarrow",!0);b(w,S,B,"","\\longrightarrow",!0);b(w,S,B,"","\\Rightarrow",!0);b(w,S,B,"","\\Longrightarrow",!0);b(w,S,B,"","\\leftrightarrow",!0);b(w,S,B,"","\\longleftrightarrow",!0);b(w,S,B,"","\\Leftrightarrow",!0);b(w,S,B,"","\\Longleftrightarrow",!0);b(w,S,B,"","\\mapsto",!0);b(w,S,B,"","\\longmapsto",!0);b(w,S,B,"","\\nearrow",!0);b(w,S,B,"","\\hookleftarrow",!0);b(w,S,B,"","\\hookrightarrow",!0);b(w,S,B,"","\\searrow",!0);b(w,S,B,"","\\leftharpoonup",!0);b(w,S,B,"","\\rightharpoonup",!0);b(w,S,B,"","\\swarrow",!0);b(w,S,B,"","\\leftharpoondown",!0);b(w,S,B,"","\\rightharpoondown",!0);b(w,S,B,"","\\nwarrow",!0);b(w,S,B,"","\\rightleftharpoons",!0);b(w,L,B,"","\\nless",!0);b(w,L,B,"","\\@nleqslant");b(w,L,B,"","\\@nleqq");b(w,L,B,"","\\lneq",!0);b(w,L,B,"","\\lneqq",!0);b(w,L,B,"","\\@lvertneqq");b(w,L,B,"","\\lnsim",!0);b(w,L,B,"","\\lnapprox",!0);b(w,L,B,"","\\nprec",!0);b(w,L,B,"","\\npreceq",!0);b(w,L,B,"","\\precnsim",!0);b(w,L,B,"","\\precnapprox",!0);b(w,L,B,"","\\nsim",!0);b(w,L,B,"","\\@nshortmid");b(w,L,B,"","\\nmid",!0);b(w,L,B,"","\\nvdash",!0);b(w,L,B,"","\\nvDash",!0);b(w,L,B,"","\\ntriangleleft");b(w,L,B,"","\\ntrianglelefteq",!0);b(w,L,B,"","\\subsetneq",!0);b(w,L,B,"","\\@varsubsetneq");b(w,L,B,"","\\subsetneqq",!0);b(w,L,B,"","\\@varsubsetneqq");b(w,L,B,"","\\ngtr",!0);b(w,L,B,"","\\@ngeqslant");b(w,L,B,"","\\@ngeqq");b(w,L,B,"","\\gneq",!0);b(w,L,B,"","\\gneqq",!0);b(w,L,B,"","\\@gvertneqq");b(w,L,B,"","\\gnsim",!0);b(w,L,B,"","\\gnapprox",!0);b(w,L,B,"","\\nsucc",!0);b(w,L,B,"","\\nsucceq",!0);b(w,L,B,"","\\succnsim",!0);b(w,L,B,"","\\succnapprox",!0);b(w,L,B,"","\\ncong",!0);b(w,L,B,"","\\@nshortparallel");b(w,L,B,"","\\nparallel",!0);b(w,L,B,"","\\nVDash",!0);b(w,L,B,"","\\ntriangleright");b(w,L,B,"","\\ntrianglerighteq",!0);b(w,L,B,"","\\@nsupseteqq");b(w,L,B,"","\\supsetneq",!0);b(w,L,B,"","\\@varsupsetneq");b(w,L,B,"","\\supsetneqq",!0);b(w,L,B,"","\\@varsupsetneqq");b(w,L,B,"","\\nVdash",!0);b(w,L,B,"","\\precneqq",!0);b(w,L,B,"","\\succneqq",!0);b(w,L,B,"","\\@nsubseteqq");b(w,L,ke,"","\\unlhd");b(w,L,ke,"","\\unrhd");b(w,L,B,"","\\nleftarrow",!0);b(w,L,B,"","\\nrightarrow",!0);b(w,L,B,"","\\nLeftarrow",!0);b(w,L,B,"","\\nRightarrow",!0);b(w,L,B,"","\\nleftrightarrow",!0);b(w,L,B,"","\\nLeftrightarrow",!0);b(w,L,B,"","\\vartriangle");b(w,L,z,"","\\hslash");b(w,L,z,"","\\triangledown");b(w,L,z,"","\\lozenge");b(w,L,z,"","\\circledS");b(w,L,z,"","\\circledR");b(te,L,z,"","\\circledR");b(w,L,z,"","\\measuredangle",!0);b(w,L,z,"","\\nexists");b(w,L,z,"","\\mho");b(w,L,z,"","\\Finv",!0);b(w,L,z,"","\\Game",!0);b(w,L,z,"","\\backprime");b(w,L,z,"","\\blacktriangle");b(w,L,z,"","\\blacktriangledown");b(w,L,z,"","\\blacksquare");b(w,L,z,"","\\blacklozenge");b(w,L,z,"","\\bigstar");b(w,L,z,"","\\sphericalangle",!0);b(w,L,z,"","\\complement",!0);b(w,L,z,"","\\eth",!0);b(te,S,z,"","");b(w,L,z,"","\\diagup");b(w,L,z,"","\\diagdown");b(w,L,z,"","\\square");b(w,L,z,"","\\Box");b(w,L,z,"","\\Diamond");b(w,L,z,"","\\yen",!0);b(te,L,z,"","\\yen",!0);b(w,L,z,"","\\checkmark",!0);b(te,L,z,"","\\checkmark");b(w,L,z,"","\\beth",!0);b(w,L,z,"","\\daleth",!0);b(w,L,z,"","\\gimel",!0);b(w,L,z,"","\\digamma",!0);b(w,L,z,"","\\varkappa");b(w,L,nn,"","\\@ulcorner",!0);b(w,L,Mr,"","\\@urcorner",!0);b(w,L,nn,"","\\@llcorner",!0);b(w,L,Mr,"","\\@lrcorner",!0);b(w,L,B,"","\\leqq",!0);b(w,L,B,"","\\leqslant",!0);b(w,L,B,"","\\eqslantless",!0);b(w,L,B,"","\\lesssim",!0);b(w,L,B,"","\\lessapprox",!0);b(w,L,B,"","\\approxeq",!0);b(w,L,ke,"","\\lessdot");b(w,L,B,"","\\lll",!0);b(w,L,B,"","\\lessgtr",!0);b(w,L,B,"","\\lesseqgtr",!0);b(w,L,B,"","\\lesseqqgtr",!0);b(w,L,B,"","\\doteqdot");b(w,L,B,"","\\risingdotseq",!0);b(w,L,B,"","\\fallingdotseq",!0);b(w,L,B,"","\\backsim",!0);b(w,L,B,"","\\backsimeq",!0);b(w,L,B,"","\\subseteqq",!0);b(w,L,B,"","\\Subset",!0);b(w,L,B,"","\\sqsubset",!0);b(w,L,B,"","\\preccurlyeq",!0);b(w,L,B,"","\\curlyeqprec",!0);b(w,L,B,"","\\precsim",!0);b(w,L,B,"","\\precapprox",!0);b(w,L,B,"","\\vartriangleleft");b(w,L,B,"","\\trianglelefteq");b(w,L,B,"","\\vDash",!0);b(w,L,B,"","\\Vvdash",!0);b(w,L,B,"","\\smallsmile");b(w,L,B,"","\\smallfrown");b(w,L,B,"","\\bumpeq",!0);b(w,L,B,"","\\Bumpeq",!0);b(w,L,B,"","\\geqq",!0);b(w,L,B,"","\\geqslant",!0);b(w,L,B,"","\\eqslantgtr",!0);b(w,L,B,"","\\gtrsim",!0);b(w,L,B,"","\\gtrapprox",!0);b(w,L,ke,"","\\gtrdot");b(w,L,B,"","\\ggg",!0);b(w,L,B,"","\\gtrless",!0);b(w,L,B,"","\\gtreqless",!0);b(w,L,B,"","\\gtreqqless",!0);b(w,L,B,"","\\eqcirc",!0);b(w,L,B,"","\\circeq",!0);b(w,L,B,"","\\triangleq",!0);b(w,L,B,"","\\thicksim");b(w,L,B,"","\\thickapprox");b(w,L,B,"","\\supseteqq",!0);b(w,L,B,"","\\Supset",!0);b(w,L,B,"","\\sqsupset",!0);b(w,L,B,"","\\succcurlyeq",!0);b(w,L,B,"","\\curlyeqsucc",!0);b(w,L,B,"","\\succsim",!0);b(w,L,B,"","\\succapprox",!0);b(w,L,B,"","\\vartriangleright");b(w,L,B,"","\\trianglerighteq");b(w,L,B,"","\\Vdash",!0);b(w,L,B,"","\\shortmid");b(w,L,B,"","\\shortparallel");b(w,L,B,"","\\between",!0);b(w,L,B,"","\\pitchfork",!0);b(w,L,B,"","\\varpropto");b(w,L,B,"","\\blacktriangleleft");b(w,L,B,"","\\therefore",!0);b(w,L,B,"","\\backepsilon");b(w,L,B,"","\\blacktriangleright");b(w,L,B,"","\\because",!0);b(w,L,B,"","\\llless");b(w,L,B,"","\\gggtr");b(w,L,ke,"","\\lhd");b(w,L,ke,"","\\rhd");b(w,L,B,"","\\eqsim",!0);b(w,S,B,"","\\Join");b(w,L,B,"","\\Doteq",!0);b(w,L,ke,"","\\dotplus",!0);b(w,L,ke,"","\\smallsetminus");b(w,L,ke,"","\\Cap",!0);b(w,L,ke,"","\\Cup",!0);b(w,L,ke,"","\\doublebarwedge",!0);b(w,L,ke,"","\\boxminus",!0);b(w,L,ke,"","\\boxplus",!0);b(w,L,ke,"","\\divideontimes",!0);b(w,L,ke,"","\\ltimes",!0);b(w,L,ke,"","\\rtimes",!0);b(w,L,ke,"","\\leftthreetimes",!0);b(w,L,ke,"","\\rightthreetimes",!0);b(w,L,ke,"","\\curlywedge",!0);b(w,L,ke,"","\\curlyvee",!0);b(w,L,ke,"","\\circleddash",!0);b(w,L,ke,"","\\circledast",!0);b(w,L,ke,"","\\centerdot");b(w,L,ke,"","\\intercal",!0);b(w,L,ke,"","\\doublecap");b(w,L,ke,"","\\doublecup");b(w,L,ke,"","\\boxtimes",!0);b(w,L,B,"","\\dashrightarrow",!0);b(w,L,B,"","\\dashleftarrow",!0);b(w,L,B,"","\\leftleftarrows",!0);b(w,L,B,"","\\leftrightarrows",!0);b(w,L,B,"","\\Lleftarrow",!0);b(w,L,B,"","\\twoheadleftarrow",!0);b(w,L,B,"","\\leftarrowtail",!0);b(w,L,B,"","\\looparrowleft",!0);b(w,L,B,"","\\leftrightharpoons",!0);b(w,L,B,"","\\curvearrowleft",!0);b(w,L,B,"","\\circlearrowleft",!0);b(w,L,B,"","\\Lsh",!0);b(w,L,B,"","\\upuparrows",!0);b(w,L,B,"","\\upharpoonleft",!0);b(w,L,B,"","\\downharpoonleft",!0);b(w,S,B,"","\\origof",!0);b(w,S,B,"","\\imageof",!0);b(w,L,B,"","\\multimap",!0);b(w,L,B,"","\\leftrightsquigarrow",!0);b(w,L,B,"","\\rightrightarrows",!0);b(w,L,B,"","\\rightleftarrows",!0);b(w,L,B,"","\\twoheadrightarrow",!0);b(w,L,B,"","\\rightarrowtail",!0);b(w,L,B,"","\\looparrowright",!0);b(w,L,B,"","\\curvearrowright",!0);b(w,L,B,"","\\circlearrowright",!0);b(w,L,B,"","\\Rsh",!0);b(w,L,B,"","\\downdownarrows",!0);b(w,L,B,"","\\upharpoonright",!0);b(w,L,B,"","\\downharpoonright",!0);b(w,L,B,"","\\rightsquigarrow",!0);b(w,L,B,"","\\leadsto");b(w,L,B,"","\\Rrightarrow",!0);b(w,L,B,"","\\restriction");b(w,S,z,"","`");b(w,S,z,"$","\\$");b(te,S,z,"$","\\$");b(te,S,z,"$","\\textdollar");b(w,S,z,"%","\\%");b(te,S,z,"%","\\%");b(w,S,z,"_","\\_");b(te,S,z,"_","\\_");b(te,S,z,"_","\\textunderscore");b(w,S,z,"","\\angle",!0);b(w,S,z,"","\\infty",!0);b(w,S,z,"","\\prime");b(w,S,z,"","\\triangle");b(w,S,z,"","\\Gamma",!0);b(w,S,z,"","\\Delta",!0);b(w,S,z,"","\\Theta",!0);b(w,S,z,"","\\Lambda",!0);b(w,S,z,"","\\Xi",!0);b(w,S,z,"","\\Pi",!0);b(w,S,z,"","\\Sigma",!0);b(w,S,z,"","\\Upsilon",!0);b(w,S,z,"","\\Phi",!0);b(w,S,z,"","\\Psi",!0);b(w,S,z,"","\\Omega",!0);b(w,S,z,"A","");b(w,S,z,"B","");b(w,S,z,"E","");b(w,S,z,"Z","");b(w,S,z,"H","");b(w,S,z,"I","");b(w,S,z,"K","");b(w,S,z,"M","");b(w,S,z,"N","");b(w,S,z,"O","");b(w,S,z,"P","");b(w,S,z,"T","");b(w,S,z,"X","");b(w,S,z,"","\\neg",!0);b(w,S,z,"","\\lnot");b(w,S,z,"","\\top");b(w,S,z,"","\\bot");b(w,S,z,"","\\emptyset");b(w,L,z,"","\\varnothing");b(w,S,De,"","\\alpha",!0);b(w,S,De,"","\\beta",!0);b(w,S,De,"","\\gamma",!0);b(w,S,De,"","\\delta",!0);b(w,S,De,"","\\epsilon",!0);b(w,S,De,"","\\zeta",!0);b(w,S,De,"","\\eta",!0);b(w,S,De,"","\\theta",!0);b(w,S,De,"","\\iota",!0);b(w,S,De,"","\\kappa",!0);b(w,S,De,"","\\lambda",!0);b(w,S,De,"","\\mu",!0);b(w,S,De,"","\\nu",!0);b(w,S,De,"","\\xi",!0);b(w,S,De,"","\\omicron",!0);b(w,S,De,"","\\pi",!0);b(w,S,De,"","\\rho",!0);b(w,S,De,"","\\sigma",!0);b(w,S,De,"","\\tau",!0);b(w,S,De,"","\\upsilon",!0);b(w,S,De,"","\\phi",!0);b(w,S,De,"","\\chi",!0);b(w,S,De,"","\\psi",!0);b(w,S,De,"","\\omega",!0);b(w,S,De,"","\\varepsilon",!0);b(w,S,De,"","\\vartheta",!0);b(w,S,De,"","\\varpi",!0);b(w,S,De,"","\\varrho",!0);b(w,S,De,"","\\varsigma",!0);b(w,S,De,"","\\varphi",!0);b(w,S,ke,"","*",!0);b(w,S,ke,"+","+");b(w,S,ke,"","-",!0);b(w,S,ke,"","\\cdot",!0);b(w,S,ke,"","\\circ",!0);b(w,S,ke,"","\\div",!0);b(w,S,ke,"","\\pm",!0);b(w,S,ke,"","\\times",!0);b(w,S,ke,"","\\cap",!0);b(w,S,ke,"","\\cup",!0);b(w,S,ke,"","\\setminus",!0);b(w,S,ke,"","\\land");b(w,S,ke,"","\\lor");b(w,S,ke,"","\\wedge",!0);b(w,S,ke,"","\\vee",!0);b(w,S,z,"","\\surd");b(w,S,nn,"","\\langle",!0);b(w,S,nn,"","\\lvert");b(w,S,nn,"","\\lVert");b(w,S,Mr,"?","?");b(w,S,Mr,"!","!");b(w,S,Mr,"","\\rangle",!0);b(w,S,Mr,"","\\rvert");b(w,S,Mr,"","\\rVert");b(w,S,B,"=","=");b(w,S,B,":",":");b(w,S,B,"","\\approx",!0);b(w,S,B,"","\\cong",!0);b(w,S,B,"","\\ge");b(w,S,B,"","\\geq",!0);b(w,S,B,"","\\gets");b(w,S,B,">","\\gt",!0);b(w,S,B,"","\\in",!0);b(w,S,B,"","\\@not");b(w,S,B,"","\\subset",!0);b(w,S,B,"","\\supset",!0);b(w,S,B,"","\\subseteq",!0);b(w,S,B,"","\\supseteq",!0);b(w,L,B,"","\\nsubseteq",!0);b(w,L,B,"","\\nsupseteq",!0);b(w,S,B,"","\\models");b(w,S,B,"","\\leftarrow",!0);b(w,S,B,"","\\le");b(w,S,B,"","\\leq",!0);b(w,S,B,"<","\\lt",!0);b(w,S,B,"","\\rightarrow",!0);b(w,S,B,"","\\to");b(w,L,B,"","\\ngeq",!0);b(w,L,B,"","\\nleq",!0);b(w,S,Da,"","\\ ");b(w,S,Da,"","\\space");b(w,S,Da,"","\\nobreakspace");b(te,S,Da,"","\\ ");b(te,S,Da,""," ");b(te,S,Da,"","\\space");b(te,S,Da,"","\\nobreakspace");b(w,S,Da,null,"\\nobreak");b(w,S,Da,null,"\\allowbreak");b(w,S,g0,",",",");b(w,S,g0,";",";");b(w,L,ke,"","\\barwedge",!0);b(w,L,ke,"","\\veebar",!0);b(w,S,ke,"","\\odot",!0);b(w,S,ke,"","\\oplus",!0);b(w,S,ke,"","\\otimes",!0);b(w,S,z,"","\\partial",!0);b(w,S,ke,"","\\oslash",!0);b(w,L,ke,"","\\circledcirc",!0);b(w,L,ke,"","\\boxdot",!0);b(w,S,ke,"","\\bigtriangleup");b(w,S,ke,"","\\bigtriangledown");b(w,S,ke,"","\\dagger");b(w,S,ke,"","\\diamond");b(w,S,ke,"","\\star");b(w,S,ke,"","\\triangleleft");b(w,S,ke,"","\\triangleright");b(w,S,nn,"{","\\{");b(te,S,z,"{","\\{");b(te,S,z,"{","\\textbraceleft");b(w,S,Mr,"}","\\}");b(te,S,z,"}","\\}");b(te,S,z,"}","\\textbraceright");b(w,S,nn,"{","\\lbrace");b(w,S,Mr,"}","\\rbrace");b(w,S,nn,"[","\\lbrack",!0);b(te,S,z,"[","\\lbrack",!0);b(w,S,Mr,"]","\\rbrack",!0);b(te,S,z,"]","\\rbrack",!0);b(w,S,nn,"(","\\lparen",!0);b(w,S,Mr,")","\\rparen",!0);b(te,S,z,"<","\\textless",!0);b(te,S,z,">","\\textgreater",!0);b(w,S,nn,"","\\lfloor",!0);b(w,S,Mr,"","\\rfloor",!0);b(w,S,nn,"","\\lceil",!0);b(w,S,Mr,"","\\rceil",!0);b(w,S,z,"\\","\\backslash");b(w,S,z,"","|");b(w,S,z,"","\\vert");b(te,S,z,"|","\\textbar",!0);b(w,S,z,"","\\|");b(w,S,z,"","\\Vert");b(te,S,z,"","\\textbardbl");b(te,S,z,"~","\\textasciitilde");b(te,S,z,"\\","\\textbackslash");b(te,S,z,"^","\\textasciicircum");b(w,S,B,"","\\uparrow",!0);b(w,S,B,"","\\Uparrow",!0);b(w,S,B,"","\\downarrow",!0);b(w,S,B,"","\\Downarrow",!0);b(w,S,B,"","\\updownarrow",!0);b(w,S,B,"","\\Updownarrow",!0);b(w,S,rr,"","\\coprod");b(w,S,rr,"","\\bigvee");b(w,S,rr,"","\\bigwedge");b(w,S,rr,"","\\biguplus");b(w,S,rr,"","\\bigcap");b(w,S,rr,"","\\bigcup");b(w,S,rr,"","\\int");b(w,S,rr,"","\\intop");b(w,S,rr,"","\\iint");b(w,S,rr,"","\\iiint");b(w,S,rr,"","\\prod");b(w,S,rr,"","\\sum");b(w,S,rr,"","\\bigotimes");b(w,S,rr,"","\\bigoplus");b(w,S,rr,"","\\bigodot");b(w,S,rr,"","\\oint");b(w,S,rr,"","\\oiint");b(w,S,rr,"","\\oiiint");b(w,S,rr,"","\\bigsqcup");b(w,S,rr,"","\\smallint");b(te,S,Zs,"","\\textellipsis");b(w,S,Zs,"","\\mathellipsis");b(te,S,Zs,"","\\ldots",!0);b(w,S,Zs,"","\\ldots",!0);b(w,S,Zs,"","\\@cdots",!0);b(w,S,Zs,"","\\ddots",!0);b(w,S,z,"","\\varvdots");b(te,S,z,"","\\varvdots");b(w,S,Bt,"","\\acute");b(w,S,Bt,"","\\grave");b(w,S,Bt,"","\\ddot");b(w,S,Bt,"~","\\tilde");b(w,S,Bt,"","\\bar");b(w,S,Bt,"","\\breve");b(w,S,Bt,"","\\check");b(w,S,Bt,"^","\\hat");b(w,S,Bt,"","\\vec");b(w,S,Bt,"","\\dot");b(w,S,Bt,"","\\mathring");b(w,S,De,"","\\@imath");b(w,S,De,"","\\@jmath");b(w,S,z,"","");b(w,S,z,"","");b(te,S,z,"","\\i",!0);b(te,S,z,"","\\j",!0);b(te,S,z,"","\\ss",!0);b(te,S,z,"","\\ae",!0);b(te,S,z,"","\\oe",!0);b(te,S,z,"","\\o",!0);b(te,S,z,"","\\AE",!0);b(te,S,z,"","\\OE",!0);b(te,S,z,"","\\O",!0);b(te,S,Bt,"","\\'");b(te,S,Bt,"","\\`");b(te,S,Bt,"","\\^");b(te,S,Bt,"","\\~");b(te,S,Bt,"","\\=");b(te,S,Bt,"","\\u");b(te,S,Bt,"","\\.");b(te,S,Bt,"","\\c");b(te,S,Bt,"","\\r");b(te,S,Bt,"","\\v");b(te,S,Bt,"",'\\"');b(te,S,Bt,"","\\H");b(te,S,Bt,"","\\textcircled");var vx={"--":!0,"---":!0,"``":!0,"''":!0};b(te,S,z,"","--",!0);b(te,S,z,"","\\textendash");b(te,S,z,"","---",!0);b(te,S,z,"","\\textemdash");b(te,S,z,"","`",!0);b(te,S,z,"","\\textquoteleft");b(te,S,z,"","'",!0);b(te,S,z,"","\\textquoteright");b(te,S,z,"","``",!0);b(te,S,z,"","\\textquotedblleft");b(te,S,z,"","''",!0);b(te,S,z,"","\\textquotedblright");b(w,S,z,"","\\degree",!0);b(te,S,z,"","\\degree");b(te,S,z,"","\\textdegree",!0);b(w,S,z,"","\\pounds");b(w,S,z,"","\\mathsterling",!0);b(te,S,z,"","\\pounds");b(te,S,z,"","\\textsterling",!0);b(w,L,z,"","\\maltese");b(te,L,z,"","\\maltese");var Hy='0123456789/@."';for(var wd=0;wd<Hy.length;wd++){var Vy=Hy.charAt(wd);b(w,S,z,Vy,Vy)}var qy='0123456789!@*()-=+";:?/.,';for(var Td=0;Td<qy.length;Td++){var Wy=qy.charAt(Td);b(te,S,z,Wy,Wy)}var fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Ed=0;Ed<fc.length;Ed++){var yl=fc.charAt(Ed);b(w,S,De,yl,yl),b(te,S,z,yl,yl)}b(w,L,z,"C","");b(te,L,z,"C","");b(w,L,z,"H","");b(te,L,z,"H","");b(w,L,z,"N","");b(te,L,z,"N","");b(w,L,z,"P","");b(te,L,z,"P","");b(w,L,z,"Q","");b(te,L,z,"Q","");b(w,L,z,"R","");b(te,L,z,"R","");b(w,L,z,"Z","");b(te,L,z,"Z","");b(w,S,De,"h","");b(te,S,De,"h","");var Be="";for(var kr=0;kr<fc.length;kr++){var qt=fc.charAt(kr);Be=String.fromCharCode(55349,56320+kr),b(w,S,De,qt,Be),b(te,S,z,qt,Be),Be=String.fromCharCode(55349,56372+kr),b(w,S,De,qt,Be),b(te,S,z,qt,Be),Be=String.fromCharCode(55349,56424+kr),b(w,S,De,qt,Be),b(te,S,z,qt,Be),Be=String.fromCharCode(55349,56580+kr),b(w,S,De,qt,Be),b(te,S,z,qt,Be),Be=String.fromCharCode(55349,56684+kr),b(w,S,De,qt,Be),b(te,S,z,qt,Be),Be=String.fromCharCode(55349,56736+kr),b(w,S,De,qt,Be),b(te,S,z,qt,Be),Be=String.fromCharCode(55349,56788+kr),b(w,S,De,qt,Be),b(te,S,z,qt,Be),Be=String.fromCharCode(55349,56840+kr),b(w,S,De,qt,Be),b(te,S,z,qt,Be),Be=String.fromCharCode(55349,56944+kr),b(w,S,De,qt,Be),b(te,S,z,qt,Be),kr<26&&(Be=String.fromCharCode(55349,56632+kr),b(w,S,De,qt,Be),b(te,S,z,qt,Be),Be=String.fromCharCode(55349,56476+kr),b(w,S,De,qt,Be),b(te,S,z,qt,Be))}Be="";b(w,S,De,"k",Be);b(te,S,z,"k",Be);for(var bi=0;bi<10;bi++){var Ua=bi.toString();Be=String.fromCharCode(55349,57294+bi),b(w,S,De,Ua,Be),b(te,S,z,Ua,Be),Be=String.fromCharCode(55349,57314+bi),b(w,S,De,Ua,Be),b(te,S,z,Ua,Be),Be=String.fromCharCode(55349,57324+bi),b(w,S,De,Ua,Be),b(te,S,z,Ua,Be),Be=String.fromCharCode(55349,57334+bi),b(w,S,De,Ua,Be),b(te,S,z,Ua,Be)}var xf="";for(var kd=0;kd<xf.length;kd++){var bl=xf.charAt(kd);b(w,S,De,bl,bl),b(te,S,z,bl,bl)}var vl=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Zy=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],cM=function(t,r){var n=t.charCodeAt(0),a=t.charCodeAt(1),i=(n-55296)*1024+(a-56320)+65536,s=r==="math"?0:1;if(119808<=i&&i<120484){var o=Math.floor((i-119808)/26);return[vl[o][2],vl[o][s]]}else if(120782<=i&&i<=120831){var u=Math.floor((i-120782)/10);return[Zy[u][2],Zy[u][s]]}else{if(i===120485||i===120486)return[vl[0][2],vl[0][s]];if(120486<i&&i<120782)return["",""];throw new ue("Unsupported character: "+t)}},y0=function(t,r,n){return Rt[n][t]&&Rt[n][t].replace&&(t=Rt[n][t].replace),{value:t,metrics:cm(t,r,n)}},Cn=function(t,r,n,a,i){var s=y0(t,r,n),o=s.metrics;t=s.value;var u;if(o){var l=o.italic;(n==="text"||a&&a.font==="mathit")&&(l=0),u=new yn(t,o.height,o.depth,l,o.skew,o.width,i)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+r+"' and mode '"+n+"'")),u=new yn(t,0,0,0,0,0,i);if(a){u.maxFontSize=a.sizeMultiplier,a.style.isTight()&&u.classes.push("mtight");var c=a.getColor();c&&(u.style.color=c)}return u},dM=function(t,r,n,a){return a===void 0&&(a=[]),n.font==="boldsymbol"&&y0(t,"Main-Bold",r).metrics?Cn(t,"Main-Bold",r,n,a.concat(["mathbf"])):t==="\\"||Rt[r][t].font==="main"?Cn(t,"Main-Regular",r,n,a):Cn(t,"AMS-Regular",r,n,a.concat(["amsrm"]))},hM=function(t,r,n,a,i){return i!=="textord"&&y0(t,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},fM=function(t,r,n){var a=t.mode,i=t.text,s=["mord"],o=a==="math"||a==="text"&&r.font,u=o?r.font:r.fontFamily,l="",c="";if(i.charCodeAt(0)===55349&&([l,c]=cM(i,a)),l.length>0)return Cn(i,l,a,r,s.concat(c));if(u){var d,h;if(u==="boldsymbol"){var f=hM(i,a,r,s,n);d=f.fontName,h=[f.fontClass]}else o?(d=Tx[u].fontName,h=[u]):(d=xl(u,r.fontWeight,r.fontShape),h=[u,r.fontWeight,r.fontShape]);if(y0(i,d,a).metrics)return Cn(i,d,a,r,s.concat(h));if(vx.hasOwnProperty(i)&&d.slice(0,10)==="Typewriter"){for(var p=[],g=0;g<i.length;g++)p.push(Cn(i[g],d,a,r,s.concat(h)));return wx(p)}}if(n==="mathord")return Cn(i,"Math-Italic",a,r,s.concat(["mathnormal"]));if(n==="textord"){var T=Rt[a][i]&&Rt[a][i].font;if(T==="ams"){var y=xl("amsrm",r.fontWeight,r.fontShape);return Cn(i,y,a,r,s.concat("amsrm",r.fontWeight,r.fontShape))}else if(T==="main"||!T){var x=xl("textrm",r.fontWeight,r.fontShape);return Cn(i,x,a,r,s.concat(r.fontWeight,r.fontShape))}else{var _=xl(T,r.fontWeight,r.fontShape);return Cn(i,_,a,r,s.concat(_,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},pM=(e,t)=>{if(ti(e.classes)!==ti(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var a in t.style)if(t.style.hasOwnProperty(a)&&e.style[a]!==t.style[a])return!1;return!0},mM=e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof yn&&n instanceof yn&&pM(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},hm=function(t){for(var r=0,n=0,a=0,i=0;i<t.children.length;i++){var s=t.children[i];s.height>r&&(r=s.height),s.depth>n&&(n=s.depth),s.maxFontSize>a&&(a=s.maxFontSize)}t.height=r,t.depth=n,t.maxFontSize=a},Fr=function(t,r,n,a){var i=new ju(t,r,n,a);return hm(i),i},xx=(e,t,r,n)=>new ju(e,t,r,n),gM=function(t,r,n){var a=Fr([t],[],r);return a.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),a.style.borderBottomWidth=fe(a.height),a.maxFontSize=1,a},yM=function(t,r,n,a){var i=new dm(t,r,n,a);return hm(i),i},wx=function(t){var r=new Bu(t);return hm(r),r},bM=function(t,r){return t instanceof Bu?Fr([],[t],r):t},vM=function(t){if(t.positionType==="individualShift"){for(var r=t.children,n=[r[0]],a=-r[0].shift-r[0].elem.depth,i=a,s=1;s<r.length;s++){var o=-r[s].shift-i-r[s].elem.depth,u=o-(r[s-1].elem.height+r[s-1].elem.depth);i=i+o,n.push({type:"kern",size:u}),n.push(r[s])}return{children:n,depth:a}}var l;if(t.positionType==="top"){for(var c=t.positionData,d=0;d<t.children.length;d++){var h=t.children[d];c-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}l=c}else if(t.positionType==="bottom")l=-t.positionData;else{var f=t.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")l=-f.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")l=-f.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:l}},xM=function(t,r){for(var{children:n,depth:a}=vM(t),i=0,s=0;s<n.length;s++){var o=n[s];if(o.type==="elem"){var u=o.elem;i=Math.max(i,u.maxFontSize,u.height)}}i+=2;var l=Fr(["pstrut"],[]);l.style.height=fe(i);for(var c=[],d=a,h=a,f=a,p=0;p<n.length;p++){var g=n[p];if(g.type==="kern")f+=g.size;else{var T=g.elem,y=g.wrapperClasses||[],x=g.wrapperStyle||{},_=Fr(y,[l,T],void 0,x);_.style.top=fe(-i-f-T.depth),g.marginLeft&&(_.style.marginLeft=g.marginLeft),g.marginRight&&(_.style.marginRight=g.marginRight),c.push(_),f+=T.height+T.depth}d=Math.min(d,f),h=Math.max(h,f)}var k=Fr(["vlist"],c);k.style.height=fe(h);var C;if(d<0){var A=Fr([],[]),P=Fr(["vlist"],[A]);P.style.height=fe(-d);var D=Fr(["vlist-s"],[new yn("")]);C=[Fr(["vlist-r"],[k,D]),Fr(["vlist-r"],[P])]}else C=[Fr(["vlist-r"],[k])];var $=Fr(["vlist-t"],C);return C.length===2&&$.classes.push("vlist-t2"),$.height=h,$.depth=-d,$},wM=(e,t)=>{var r=Fr(["mspace"],[],t),n=zt(e,t);return r.style.marginRight=fe(n),r},xl=function(t,r,n){var a="";switch(t){case"amsrm":a="AMS";break;case"textrm":a="Main";break;case"textsf":a="SansSerif";break;case"texttt":a="Typewriter";break;default:a=t}var i;return r==="textbf"&&n==="textit"?i="BoldItalic":r==="textbf"?i="Bold":r==="textit"?i="Italic":i="Regular",a+"-"+i},Tx={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Ex={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},TM=function(t,r){var[n,a,i]=Ex[t],s=new ri(n),o=new Ia([s],{width:fe(a),height:fe(i),style:"width:"+fe(a),viewBox:"0 0 "+1e3*a+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),u=xx(["overlay"],[o],r);return u.height=i,u.style.height=fe(i),u.style.width=fe(a),u},V={fontMap:Tx,makeSymbol:Cn,mathsym:dM,makeSpan:Fr,makeSvgSpan:xx,makeLineSpan:gM,makeAnchor:yM,makeFragment:wx,wrapFragment:bM,makeVList:xM,makeOrd:fM,makeGlue:wM,staticSvg:TM,svgData:Ex,tryCombineChars:mM},$t={number:3,unit:"mu"},vi={number:4,unit:"mu"},ma={number:5,unit:"mu"},EM={mord:{mop:$t,mbin:vi,mrel:ma,minner:$t},mop:{mord:$t,mop:$t,mrel:ma,minner:$t},mbin:{mord:vi,mop:vi,mopen:vi,minner:vi},mrel:{mord:ma,mop:ma,mopen:ma,minner:ma},mopen:{},mclose:{mop:$t,mbin:vi,mrel:ma,minner:$t},mpunct:{mord:$t,mop:$t,mrel:ma,mopen:$t,mclose:$t,mpunct:$t,minner:$t},minner:{mord:$t,mop:$t,mbin:vi,mrel:ma,mopen:$t,mpunct:$t,minner:$t}},kM={mord:{mop:$t},mop:{mord:$t,mop:$t},mbin:{},mrel:{},mopen:{},mclose:{mop:$t},mpunct:{},minner:{mop:$t}},kx={},pc={},mc={};function xe(e){for(var{type:t,names:r,props:n,handler:a,htmlBuilder:i,mathmlBuilder:s}=e,o={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:a},u=0;u<r.length;++u)kx[r[u]]=o;t&&(i&&(pc[t]=i),s&&(mc[t]=s))}function qi(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;xe({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var gc=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},Kt=function(t){return t.type==="ordgroup"?t.body:[t]},Na=V.makeSpan,_M=["leftmost","mbin","mopen","mrel","mop","mpunct"],SM=["rightmost","mrel","mclose","mpunct"],AM={display:Le.DISPLAY,text:Le.TEXT,script:Le.SCRIPT,scriptscript:Le.SCRIPTSCRIPT},CM={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ir=function(t,r,n,a){a===void 0&&(a=[null,null]);for(var i=[],s=0;s<t.length;s++){var o=lt(t[s],r);if(o instanceof Bu){var u=o.children;i.push(...u)}else i.push(o)}if(V.tryCombineChars(i),!n)return i;var l=r;if(t.length===1){var c=t[0];c.type==="sizing"?l=r.havingSize(c.size):c.type==="styling"&&(l=r.havingStyle(AM[c.style]))}var d=Na([a[0]||"leftmost"],[],r),h=Na([a[1]||"rightmost"],[],r),f=n==="root";return Gy(i,(p,g)=>{var T=g.classes[0],y=p.classes[0];T==="mbin"&&SM.includes(y)?g.classes[0]="mord":y==="mbin"&&_M.includes(T)&&(p.classes[0]="mord")},{node:d},h,f),Gy(i,(p,g)=>{var T=wf(g),y=wf(p),x=T&&y?p.hasClass("mtight")?kM[T][y]:EM[T][y]:null;if(x)return V.makeGlue(x,l)},{node:d},h,f),i},Gy=function e(t,r,n,a,i){a&&t.push(a);for(var s=0;s<t.length;s++){var o=t[s],u=_x(o);if(u){e(u.children,r,n,null,i);continue}var l=!o.hasClass("mspace");if(l){var c=r(o,n.node);c&&(n.insertAfter?n.insertAfter(c):(t.unshift(c),s++))}l?n.node=o:i&&o.hasClass("newline")&&(n.node=Na(["leftmost"])),n.insertAfter=(d=>h=>{t.splice(d+1,0,h),s++})(s)}a&&t.pop()},_x=function(t){return t instanceof Bu||t instanceof dm||t instanceof ju&&t.hasClass("enclosing")?t:null},IM=function e(t,r){var n=_x(t);if(n){var a=n.children;if(a.length){if(r==="right")return e(a[a.length-1],"right");if(r==="left")return e(a[0],"left")}}return t},wf=function(t,r){return t?(r&&(t=IM(t,r)),CM[t.classes[0]]||null):null},uu=function(t,r){var n=["nulldelimiter"].concat(t.baseSizingClasses());return Na(r.concat(n))},lt=function(t,r,n){if(!t)return Na();if(pc[t.type]){var a=pc[t.type](t,r);if(n&&r.size!==n.size){a=Na(r.sizingClasses(n),[a],r);var i=r.sizeMultiplier/n.sizeMultiplier;a.height*=i,a.depth*=i}return a}else throw new ue("Got group of unknown type: '"+t.type+"'")};function wl(e,t){var r=Na(["base"],e,t),n=Na(["strut"]);return n.style.height=fe(r.height+r.depth),r.depth&&(n.style.verticalAlign=fe(-r.depth)),r.children.unshift(n),r}function Tf(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var n=ir(e,t,"root"),a;n.length===2&&n[1].hasClass("tag")&&(a=n.pop());for(var i=[],s=[],o=0;o<n.length;o++)if(s.push(n[o]),n[o].hasClass("mbin")||n[o].hasClass("mrel")||n[o].hasClass("allowbreak")){for(var u=!1;o<n.length-1&&n[o+1].hasClass("mspace")&&!n[o+1].hasClass("newline");)o++,s.push(n[o]),n[o].hasClass("nobreak")&&(u=!0);u||(i.push(wl(s,t)),s=[])}else n[o].hasClass("newline")&&(s.pop(),s.length>0&&(i.push(wl(s,t)),s=[]),i.push(n[o]));s.length>0&&i.push(wl(s,t));var l;r?(l=wl(ir(r,t,!0)),l.classes=["tag"],i.push(l)):a&&i.push(a);var c=Na(["katex-html"],i);if(c.setAttribute("aria-hidden","true"),l){var d=l.children[0];d.style.height=fe(c.height+c.depth),c.depth&&(d.style.verticalAlign=fe(-c.depth))}return c}function Sx(e){return new Bu(e)}class Yr{constructor(t,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(t,r){this.attributes[t]=r}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);this.classes.length>0&&(t.className=ti(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof Yn&&this.children[n+1]instanceof Yn){for(var a=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof Yn;)a+=this.children[++n].toText();t.appendChild(new Yn(a).toNode())}else t.appendChild(this.children[n].toNode());return t}toMarkup(){var t="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="',t+=dt.escape(this.attributes[r]),t+='"');this.classes.length>0&&(t+=' class ="'+dt.escape(ti(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class Yn{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return dt.escape(this.toText())}toText(){return this.text}}class NM{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",fe(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+fe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var se={MathNode:Yr,TextNode:Yn,SpaceNode:NM,newDocumentFragment:Sx},bn=function(t,r,n){return Rt[r][t]&&Rt[r][t].replace&&t.charCodeAt(0)!==55349&&!(vx.hasOwnProperty(t)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(t=Rt[r][t].replace),new se.TextNode(t)},fm=function(t){return t.length===1?t[0]:new se.MathNode("mrow",t)},pm=function(t,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var a=t.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var i=t.text;if(["\\imath","\\jmath"].includes(i))return null;Rt[a][i]&&Rt[a][i].replace&&(i=Rt[a][i].replace);var s=V.fontMap[n].fontName;return cm(i,s,a)?V.fontMap[n].variant:null};function _d(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof Yn&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var r=e.children[0];return r instanceof Yn&&r.text===","}else return!1}var Hr=function(t,r,n){if(t.length===1){var a=_t(t[0],r);return n&&a instanceof Yr&&a.type==="mo"&&(a.setAttribute("lspace","0em"),a.setAttribute("rspace","0em")),[a]}for(var i=[],s,o=0;o<t.length;o++){var u=_t(t[o],r);if(u instanceof Yr&&s instanceof Yr){if(u.type==="mtext"&&s.type==="mtext"&&u.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...u.children);continue}else if(u.type==="mn"&&s.type==="mn"){s.children.push(...u.children);continue}else if(_d(u)&&s.type==="mn"){s.children.push(...u.children);continue}else if(u.type==="mn"&&_d(s))u.children=[...s.children,...u.children],i.pop();else if((u.type==="msup"||u.type==="msub")&&u.children.length>=1&&(s.type==="mn"||_d(s))){var l=u.children[0];l instanceof Yr&&l.type==="mn"&&(l.children=[...s.children,...l.children],i.pop())}else if(s.type==="mi"&&s.children.length===1){var c=s.children[0];if(c instanceof Yn&&c.text===""&&(u.type==="mo"||u.type==="mi"||u.type==="mn")){var d=u.children[0];d instanceof Yn&&d.text.length>0&&(d.text=d.text.slice(0,1)+""+d.text.slice(1),i.pop())}}}i.push(u),s=u}return i},ni=function(t,r,n){return fm(Hr(t,r,n))},_t=function(t,r){if(!t)return new se.MathNode("mrow");if(mc[t.type]){var n=mc[t.type](t,r);return n}else throw new ue("Got group of unknown type: '"+t.type+"'")};function Yy(e,t,r,n,a){var i=Hr(e,r),s;i.length===1&&i[0]instanceof Yr&&["mrow","mtable"].includes(i[0].type)?s=i[0]:s=new se.MathNode("mrow",i);var o=new se.MathNode("annotation",[new se.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var u=new se.MathNode("semantics",[s,o]),l=new se.MathNode("math",[u]);l.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&l.setAttribute("display","block");var c=a?"katex":"katex-mathml";return V.makeSpan([c],[l])}var Ax=function(t){return new ba({style:t.displayMode?Le.DISPLAY:Le.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},Cx=function(t,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),t=V.makeSpan(n,[t])}return t},RM=function(t,r,n){var a=Ax(n),i;if(n.output==="mathml")return Yy(t,r,a,n.displayMode,!0);if(n.output==="html"){var s=Tf(t,a);i=V.makeSpan(["katex"],[s])}else{var o=Yy(t,r,a,n.displayMode,!1),u=Tf(t,a);i=V.makeSpan(["katex"],[o,u])}return Cx(i,n)},OM=function(t,r,n){var a=Ax(n),i=Tf(t,a),s=V.makeSpan(["katex"],[i]);return Cx(s,n)},MM={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},PM=function(t){var r=new se.MathNode("mo",[new se.TextNode(MM[t.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},DM={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},LM=function(t){return t.type==="ordgroup"?t.body.length:1},FM=function(t,r){function n(){var o=4e5,u=t.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(u)){var l=t,c=LM(l.base),d,h,f;if(c>5)u==="widehat"||u==="widecheck"?(d=420,o=2364,f=.42,h=u+"4"):(d=312,o=2340,f=.34,h="tilde4");else{var p=[1,1,2,2,3,3][c];u==="widehat"||u==="widecheck"?(o=[0,1062,2364,2364,2364][p],d=[0,239,300,360,420][p],f=[0,.24,.3,.3,.36,.42][p],h=u+p):(o=[0,600,1033,2339,2340][p],d=[0,260,286,306,312][p],f=[0,.26,.286,.3,.306,.34][p],h="tilde"+p)}var g=new ri(h),T=new Ia([g],{width:"100%",height:fe(f),viewBox:"0 0 "+o+" "+d,preserveAspectRatio:"none"});return{span:V.makeSvgSpan([],[T],r),minWidth:0,height:f}}else{var y=[],x=DM[u],[_,k,C]=x,A=C/1e3,P=_.length,D,$;if(P===1){var F=x[3];D=["hide-tail"],$=[F]}else if(P===2)D=["halfarrow-left","halfarrow-right"],$=["xMinYMin","xMaxYMin"];else if(P===3)D=["brace-left","brace-center","brace-right"],$=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+P+" children.");for(var q=0;q<P;q++){var U=new ri(_[q]),ee=new Ia([U],{width:"400em",height:fe(A),viewBox:"0 0 "+o+" "+C,preserveAspectRatio:$[q]+" slice"}),Z=V.makeSvgSpan([D[q]],[ee],r);if(P===1)return{span:Z,minWidth:k,height:A};Z.style.height=fe(A),y.push(Z)}return{span:V.makeSpan(["stretchy"],y,r),minWidth:k,height:A}}}var{span:a,minWidth:i,height:s}=n();return a.height=s,a.style.height=fe(s),i>0&&(a.style.minWidth=fe(i)),a},BM=function(t,r,n,a,i){var s,o=t.height+t.depth+n+a;if(/fbox|color|angl/.test(r)){if(s=V.makeSpan(["stretchy",r],[],i),r==="fbox"){var u=i.color&&i.getColor();u&&(s.style.borderColor=u)}}else{var l=[];/^[bx]cancel$/.test(r)&&l.push(new vf({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&l.push(new vf({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new Ia(l,{width:"100%",height:fe(o)});s=V.makeSvgSpan([],[c],i)}return s.height=o,s.style.height=fe(o),s},Ra={encloseSpan:BM,mathMLnode:PM,svgSpan:FM};function Je(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function mm(e){var t=b0(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function b0(e){return e&&(e.type==="atom"||lM.hasOwnProperty(e.type))?e:null}var gm=(e,t)=>{var r,n,a;e&&e.type==="supsub"?(n=Je(e.base,"accent"),r=n.base,e.base=r,a=oM(lt(e,t)),e.base=n):(n=Je(e,"accent"),r=n.base);var i=lt(r,t.havingCrampedStyle()),s=n.isShifty&&dt.isCharacterBox(r),o=0;if(s){var u=dt.getBaseElem(r),l=lt(u,t.havingCrampedStyle());o=Uy(l).skew}var c=n.label==="\\c",d=c?i.height+i.depth:Math.min(i.height,t.fontMetrics().xHeight),h;if(n.isStretchy)h=Ra.svgSpan(n,t),h=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+fe(2*o)+")",marginLeft:fe(2*o)}:void 0}]},t);else{var f,p;n.label==="\\vec"?(f=V.staticSvg("vec",t),p=V.svgData.vec[1]):(f=V.makeOrd({mode:n.mode,text:n.label},t,"textord"),f=Uy(f),f.italic=0,p=f.width,c&&(d+=f.depth)),h=V.makeSpan(["accent-body"],[f]);var g=n.label==="\\textcircled";g&&(h.classes.push("accent-full"),d=i.height);var T=o;g||(T-=p/2),h.style.left=fe(T),n.label==="\\textcircled"&&(h.style.top=".2em"),h=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:-d},{type:"elem",elem:h}]},t)}var y=V.makeSpan(["mord","accent"],[h],t);return a?(a.children[0]=y,a.height=Math.max(y.height,a.height),a.classes[0]="mord",a):y},Ix=(e,t)=>{var r=e.isStretchy?Ra.mathMLnode(e.label):new se.MathNode("mo",[bn(e.label,e.mode)]),n=new se.MathNode("mover",[_t(e.base,t),r]);return n.setAttribute("accent","true"),n},jM=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));xe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var r=gc(t[0]),n=!jM.test(e.funcName),a=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:a,base:r}},htmlBuilder:gm,mathmlBuilder:Ix});xe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var r=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:gm,mathmlBuilder:Ix});xe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:a}},htmlBuilder:(e,t)=>{var r=lt(e.base,t),n=Ra.svgSpan(e,t),a=e.label==="\\utilde"?.12:0,i=V.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:a},{type:"elem",elem:r}]},t);return V.makeSpan(["mord","accentunder"],[i],t)},mathmlBuilder:(e,t)=>{var r=Ra.mathMLnode(e.label),n=new se.MathNode("munder",[_t(e.base,t),r]);return n.setAttribute("accentunder","true"),n}});var Tl=e=>{var t=new se.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};xe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:a}=e;return{type:"xArrow",mode:n.mode,label:a,body:t[0],below:r[0]}},htmlBuilder(e,t){var r=t.style,n=t.havingStyle(r.sup()),a=V.wrapFragment(lt(e.body,n,t),t),i=e.label.slice(0,2)==="\\x"?"x":"cd";a.classes.push(i+"-arrow-pad");var s;e.below&&(n=t.havingStyle(r.sub()),s=V.wrapFragment(lt(e.below,n,t),t),s.classes.push(i+"-arrow-pad"));var o=Ra.svgSpan(e,t),u=-t.fontMetrics().axisHeight+.5*o.height,l=-t.fontMetrics().axisHeight-.5*o.height-.111;(a.depth>.25||e.label==="\\xleftequilibrium")&&(l-=a.depth);var c;if(s){var d=-t.fontMetrics().axisHeight+s.height+.5*o.height+.111;c=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:l},{type:"elem",elem:o,shift:u},{type:"elem",elem:s,shift:d}]},t)}else c=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:l},{type:"elem",elem:o,shift:u}]},t);return c.children[0].children[0].children[1].classes.push("svg-align"),V.makeSpan(["mrel","x-arrow"],[c],t)},mathmlBuilder(e,t){var r=Ra.mathMLnode(e.label);r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(e.body){var a=Tl(_t(e.body,t));if(e.below){var i=Tl(_t(e.below,t));n=new se.MathNode("munderover",[r,i,a])}else n=new se.MathNode("mover",[r,a])}else if(e.below){var s=Tl(_t(e.below,t));n=new se.MathNode("munder",[r,s])}else n=Tl(),n=new se.MathNode("mover",[r,n]);return n}});var $M=V.makeSpan;function Nx(e,t){var r=ir(e.body,t,!0);return $M([e.mclass],r,t)}function Rx(e,t){var r,n=Hr(e.body,t);return e.mclass==="minner"?r=new se.MathNode("mpadded",n):e.mclass==="mord"?e.isCharacterBox?(r=n[0],r.type="mi"):r=new se.MathNode("mi",n):(e.isCharacterBox?(r=n[0],r.type="mo"):r=new se.MathNode("mo",n),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}xe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:Kt(a),isCharacterBox:dt.isCharacterBox(a)}},htmlBuilder:Nx,mathmlBuilder:Rx});var v0=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};xe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:v0(t[0]),body:Kt(t[1]),isCharacterBox:dt.isCharacterBox(t[1])}}});xe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:r,funcName:n}=e,a=t[1],i=t[0],s;n!=="\\stackrel"?s=v0(a):s="mrel";var o={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:Kt(a)},u={type:"supsub",mode:i.mode,base:o,sup:n==="\\underset"?null:i,sub:n==="\\underset"?i:null};return{type:"mclass",mode:r.mode,mclass:s,body:[u],isCharacterBox:dt.isCharacterBox(u)}},htmlBuilder:Nx,mathmlBuilder:Rx});xe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:v0(t[0]),body:Kt(t[0])}},htmlBuilder(e,t){var r=ir(e.body,t,!0),n=V.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=Hr(e.body,t),n=new se.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var zM={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Ky=()=>({type:"styling",body:[],mode:"math",style:"display"}),Xy=e=>e.type==="textord"&&e.text==="@",UM=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function HM(e,t,r){var n=zM[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var a=r.callFunction("\\\\cdleft",[t[0]],[]),i={type:"atom",text:n,mode:"math",family:"rel"},s=r.callFunction("\\Big",[i],[]),o=r.callFunction("\\\\cdright",[t[1]],[]),u={type:"ordgroup",mode:"math",body:[a,s,o]};return r.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var l={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[l],[])}default:return{type:"textord",text:" ",mode:"math"}}}function VM(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ue("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var n=[],a=[n],i=0;i<t.length;i++){for(var s=t[i],o=Ky(),u=0;u<s.length;u++)if(!Xy(s[u]))o.body.push(s[u]);else{n.push(o),u+=1;var l=mm(s[u]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(l)>-1))if("<>AV".indexOf(l)>-1)for(var d=0;d<2;d++){for(var h=!0,f=u+1;f<s.length;f++){if(UM(s[f],l)){h=!1,u=f;break}if(Xy(s[f]))throw new ue("Missing a "+l+" character to complete a CD arrow.",s[f]);c[d].body.push(s[f])}if(h)throw new ue("Missing a "+l+" character to complete a CD arrow.",s[u])}else throw new ue('Expected one of "<>AV=|." after @',s[u]);var p=HM(l,c,e),g={type:"styling",body:[p],mode:"math",style:"display"};n.push(g),o=Ky()}i%2===0?n.push(o):n.shift(),n=[],a.push(n)}e.gullet.endGroup(),e.gullet.endGroup();var T=new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:T,colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}xe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=V.wrapFragment(lt(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=fe(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new se.MathNode("mrow",[_t(e.label,t)]);return r=new se.MathNode("mpadded",[r]),r.setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new se.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});xe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=V.wrapFragment(lt(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(e,t){return new se.MathNode("mrow",[_t(e.fragment,t)])}});xe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=Je(t[0],"ordgroup"),a=n.body,i="",s=0;s<a.length;s++){var o=Je(a[s],"textord");i+=o.text}var u=parseInt(i),l;if(isNaN(u))throw new ue("\\@char has non-numeric argument "+i);if(u<0||u>=1114111)throw new ue("\\@char with invalid code point "+i);return u<=65535?l=String.fromCharCode(u):(u-=65536,l=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:r.mode,text:l}}});var Ox=(e,t)=>{var r=ir(e.body,t.withColor(e.color),!1);return V.makeFragment(r)},Mx=(e,t)=>{var r=Hr(e.body,t.withColor(e.color)),n=new se.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n};xe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=Je(t[0],"color-token").color,a=t[1];return{type:"color",mode:r.mode,color:n,body:Kt(a)}},htmlBuilder:Ox,mathmlBuilder:Mx});xe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,a=Je(t[0],"color-token").color;r.gullet.macros.set("\\current@color",a);var i=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:a,body:i}},htmlBuilder:Ox,mathmlBuilder:Mx});xe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,a=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,i=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:i,size:a&&Je(a,"size").value}},htmlBuilder(e,t){var r=V.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=fe(zt(e.size,t)))),r},mathmlBuilder(e,t){var r=new se.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",fe(zt(e.size,t)))),r}});var Ef={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Px=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ue("Expected a control sequence",e);return t},qM=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},Dx=(e,t,r,n)=>{var a=e.gullet.macros.get(r.text);a==null&&(r.noexpand=!0,a={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,a,n)};xe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(Ef[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=Ef[n.text]),Je(t.parseFunction(),"internal");throw new ue("Invalid token after macro prefix",n)}});xe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),a=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(a))throw new ue("Expected a control sequence",n);for(var i=0,s,o=[[]];t.gullet.future().text!=="{";)if(n=t.gullet.popToken(),n.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),o[i].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new ue('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==i+1)throw new ue('Argument number "'+n.text+'" out of order');i++,o.push([])}else{if(n.text==="EOF")throw new ue("Expected a macro definition");o[i].push(n.text)}var{tokens:u}=t.gullet.consumeArg();return s&&u.unshift(s),(r==="\\edef"||r==="\\xdef")&&(u=t.gullet.expandTokens(u),u.reverse()),t.gullet.macros.set(a,{tokens:u,numArgs:i,delimiters:o},r===Ef[r]),{type:"internal",mode:t.mode}}});xe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=Px(t.gullet.popToken());t.gullet.consumeSpaces();var a=qM(t);return Dx(t,n,a,r==="\\\\globallet"),{type:"internal",mode:t.mode}}});xe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=Px(t.gullet.popToken()),a=t.gullet.popToken(),i=t.gullet.popToken();return Dx(t,n,i,r==="\\\\globalfuture"),t.gullet.pushToken(i),t.gullet.pushToken(a),{type:"internal",mode:t.mode}}});var No=function(t,r,n){var a=Rt.math[t]&&Rt.math[t].replace,i=cm(a||t,r,n);if(!i)throw new Error("Unsupported symbol "+t+" and font size "+r+".");return i},ym=function(t,r,n,a){var i=n.havingBaseStyle(r),s=V.makeSpan(a.concat(i.sizingClasses(n)),[t],n),o=i.sizeMultiplier/n.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=i.sizeMultiplier,s},Lx=function(t,r,n){var a=r.havingBaseStyle(n),i=(1-r.sizeMultiplier/a.sizeMultiplier)*r.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=fe(i),t.height-=i,t.depth+=i},WM=function(t,r,n,a,i,s){var o=V.makeSymbol(t,"Main-Regular",i,a),u=ym(o,r,a,s);return n&&Lx(u,a,r),u},ZM=function(t,r,n,a){return V.makeSymbol(t,"Size"+r+"-Regular",n,a)},Fx=function(t,r,n,a,i,s){var o=ZM(t,r,i,a),u=ym(V.makeSpan(["delimsizing","size"+r],[o],a),Le.TEXT,a,s);return n&&Lx(u,a,Le.TEXT),u},Sd=function(t,r,n){var a;r==="Size1-Regular"?a="delim-size1":a="delim-size4";var i=V.makeSpan(["delimsizinginner",a],[V.makeSpan([],[V.makeSymbol(t,r,n)])]);return{type:"elem",elem:i}},Ad=function(t,r,n){var a=Gn["Size4-Regular"][t.charCodeAt(0)]?Gn["Size4-Regular"][t.charCodeAt(0)][4]:Gn["Size1-Regular"][t.charCodeAt(0)][4],i=new ri("inner",QO(t,Math.round(1e3*r))),s=new Ia([i],{width:fe(a),height:fe(r),style:"width:"+fe(a),viewBox:"0 0 "+1e3*a+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),o=V.makeSvgSpan([],[s],n);return o.height=r,o.style.height=fe(r),o.style.width=fe(a),{type:"elem",elem:o}},kf=.008,El={type:"kern",size:-1*kf},GM=["|","\\lvert","\\rvert","\\vert"],YM=["\\|","\\lVert","\\rVert","\\Vert"],Bx=function(t,r,n,a,i,s){var o,u,l,c,d="",h=0;o=l=c=t,u=null;var f="Size1-Regular";t==="\\uparrow"?l=c="":t==="\\Uparrow"?l=c="":t==="\\downarrow"?o=l="":t==="\\Downarrow"?o=l="":t==="\\updownarrow"?(o="\\uparrow",l="",c="\\downarrow"):t==="\\Updownarrow"?(o="\\Uparrow",l="",c="\\Downarrow"):GM.includes(t)?(l="",d="vert",h=333):YM.includes(t)?(l="",d="doublevert",h=556):t==="["||t==="\\lbrack"?(o="",l="",c="",f="Size4-Regular",d="lbrack",h=667):t==="]"||t==="\\rbrack"?(o="",l="",c="",f="Size4-Regular",d="rbrack",h=667):t==="\\lfloor"||t===""?(l=o="",c="",f="Size4-Regular",d="lfloor",h=667):t==="\\lceil"||t===""?(o="",l=c="",f="Size4-Regular",d="lceil",h=667):t==="\\rfloor"||t===""?(l=o="",c="",f="Size4-Regular",d="rfloor",h=667):t==="\\rceil"||t===""?(o="",l=c="",f="Size4-Regular",d="rceil",h=667):t==="("||t==="\\lparen"?(o="",l="",c="",f="Size4-Regular",d="lparen",h=875):t===")"||t==="\\rparen"?(o="",l="",c="",f="Size4-Regular",d="rparen",h=875):t==="\\{"||t==="\\lbrace"?(o="",u="",c="",l="",f="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o="",u="",c="",l="",f="Size4-Regular"):t==="\\lgroup"||t===""?(o="",c="",l="",f="Size4-Regular"):t==="\\rgroup"||t===""?(o="",c="",l="",f="Size4-Regular"):t==="\\lmoustache"||t===""?(o="",c="",l="",f="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(o="",c="",l="",f="Size4-Regular");var p=No(o,f,i),g=p.height+p.depth,T=No(l,f,i),y=T.height+T.depth,x=No(c,f,i),_=x.height+x.depth,k=0,C=1;if(u!==null){var A=No(u,f,i);k=A.height+A.depth,C=2}var P=g+_+k,D=Math.max(0,Math.ceil((r-P)/(C*y))),$=P+D*C*y,F=a.fontMetrics().axisHeight;n&&(F*=a.sizeMultiplier);var q=$/2-F,U=[];if(d.length>0){var ee=$-g-_,Z=Math.round($*1e3),J=eM(d,Math.round(ee*1e3)),be=new ri(d,J),Te=(h/1e3).toFixed(3)+"em",ye=(Z/1e3).toFixed(3)+"em",ne=new Ia([be],{width:Te,height:ye,viewBox:"0 0 "+h+" "+Z}),R=V.makeSvgSpan([],[ne],a);R.height=Z/1e3,R.style.width=Te,R.style.height=ye,U.push({type:"elem",elem:R})}else{if(U.push(Sd(c,f,i)),U.push(El),u===null){var pe=$-g-_+2*kf;U.push(Ad(l,pe,a))}else{var W=($-g-_-k)/2+2*kf;U.push(Ad(l,W,a)),U.push(El),U.push(Sd(u,f,i)),U.push(El),U.push(Ad(l,W,a))}U.push(El),U.push(Sd(o,f,i))}var O=a.havingBaseStyle(Le.TEXT),Ie=V.makeVList({positionType:"bottom",positionData:q,children:U},O);return ym(V.makeSpan(["delimsizing","mult"],[Ie],O),Le.TEXT,a,s)},Cd=80,Id=.08,Nd=function(t,r,n,a,i){var s=JO(t,a,n),o=new ri(t,s),u=new Ia([o],{width:"400em",height:fe(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return V.makeSvgSpan(["hide-tail"],[u],i)},KM=function(t,r){var n=r.havingBaseSizing(),a=Ux("\\surd",t*n.sizeMultiplier,zx,n),i=n.sizeMultiplier,s=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),o,u=0,l=0,c=0,d;return a.type==="small"?(c=1e3+1e3*s+Cd,t<1?i=1:t<1.4&&(i=.7),u=(1+s+Id)/i,l=(1+s)/i,o=Nd("sqrtMain",u,c,s,r),o.style.minWidth="0.853em",d=.833/i):a.type==="large"?(c=(1e3+Cd)*Uo[a.size],l=(Uo[a.size]+s)/i,u=(Uo[a.size]+s+Id)/i,o=Nd("sqrtSize"+a.size,u,c,s,r),o.style.minWidth="1.02em",d=1/i):(u=t+s+Id,l=t+s,c=Math.floor(1e3*t+s)+Cd,o=Nd("sqrtTall",u,c,s,r),o.style.minWidth="0.742em",d=1.056),o.height=l,o.style.height=fe(u),{span:o,advanceWidth:d,ruleWidth:(r.fontMetrics().sqrtRuleThickness+s)*i}},jx=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],XM=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],$x=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Uo=[0,1.2,1.8,2.4,3],JM=function(t,r,n,a,i){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),jx.includes(t)||$x.includes(t))return Fx(t,r,!1,n,a,i);if(XM.includes(t))return Bx(t,Uo[r],!1,n,a,i);throw new ue("Illegal delimiter: '"+t+"'")},QM=[{type:"small",style:Le.SCRIPTSCRIPT},{type:"small",style:Le.SCRIPT},{type:"small",style:Le.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],eP=[{type:"small",style:Le.SCRIPTSCRIPT},{type:"small",style:Le.SCRIPT},{type:"small",style:Le.TEXT},{type:"stack"}],zx=[{type:"small",style:Le.SCRIPTSCRIPT},{type:"small",style:Le.SCRIPT},{type:"small",style:Le.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],tP=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},Ux=function(t,r,n,a){for(var i=Math.min(2,3-a.style.size),s=i;s<n.length&&n[s].type!=="stack";s++){var o=No(t,tP(n[s]),"math"),u=o.height+o.depth;if(n[s].type==="small"){var l=a.havingBaseStyle(n[s].style);u*=l.sizeMultiplier}if(u>r)return n[s]}return n[n.length-1]},Hx=function(t,r,n,a,i,s){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var o;$x.includes(t)?o=QM:jx.includes(t)?o=zx:o=eP;var u=Ux(t,r,o,a);return u.type==="small"?WM(t,u.style,n,a,i,s):u.type==="large"?Fx(t,u.size,n,a,i,s):Bx(t,r,n,a,i,s)},rP=function(t,r,n,a,i,s){var o=a.fontMetrics().axisHeight*a.sizeMultiplier,u=901,l=5/a.fontMetrics().ptPerEm,c=Math.max(r-o,n+o),d=Math.max(c/500*u,2*c-l);return Hx(t,d,!0,a,i,s)},ka={sqrtImage:KM,sizedDelim:JM,sizeToMaxHeight:Uo,customSizedDelim:Hx,leftRightDelim:rP},Jy={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},nP=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function x0(e,t){var r=b0(e);if(r&&nP.includes(r.text))return r;throw r?new ue("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new ue("Invalid delimiter type '"+e.type+"'",e)}xe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var r=x0(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:Jy[e.funcName].size,mclass:Jy[e.funcName].mclass,delim:r.text}},htmlBuilder:(e,t)=>e.delim==="."?V.makeSpan([e.mclass]):ka.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(bn(e.delim,e.mode));var r=new se.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=fe(ka.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function Qy(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}xe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new ue("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:x0(t[0],e).text,color:r}}});xe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=x0(t[0],e),n=e.parser;++n.leftrightDepth;var a=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var i=Je(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:a,left:r.text,right:i.delim,rightColor:i.color}},htmlBuilder:(e,t)=>{Qy(e);for(var r=ir(e.body,t,!0,["mopen","mclose"]),n=0,a=0,i=!1,s=0;s<r.length;s++)r[s].isMiddle?i=!0:(n=Math.max(r[s].height,n),a=Math.max(r[s].depth,a));n*=t.sizeMultiplier,a*=t.sizeMultiplier;var o;if(e.left==="."?o=uu(t,["mopen"]):o=ka.leftRightDelim(e.left,n,a,t,e.mode,["mopen"]),r.unshift(o),i)for(var u=1;u<r.length;u++){var l=r[u],c=l.isMiddle;c&&(r[u]=ka.leftRightDelim(c.delim,n,a,c.options,e.mode,[]))}var d;if(e.right===".")d=uu(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;d=ka.leftRightDelim(e.right,n,a,h,e.mode,["mclose"])}return r.push(d),V.makeSpan(["minner"],r,t)},mathmlBuilder:(e,t)=>{Qy(e);var r=Hr(e.body,t);if(e.left!=="."){var n=new se.MathNode("mo",[bn(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(e.right!=="."){var a=new se.MathNode("mo",[bn(e.right,e.mode)]);a.setAttribute("fence","true"),e.rightColor&&a.setAttribute("mathcolor",e.rightColor),r.push(a)}return fm(r)}});xe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=x0(t[0],e);if(!e.parser.leftrightDepth)throw new ue("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},htmlBuilder:(e,t)=>{var r;if(e.delim===".")r=uu(t,[]);else{r=ka.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},mathmlBuilder:(e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?bn("|","text"):bn(e.delim,e.mode),n=new se.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var bm=(e,t)=>{var r=V.wrapFragment(lt(e.body,t),t),n=e.label.slice(1),a=t.sizeMultiplier,i,s=0,o=dt.isCharacterBox(e.body);if(n==="sout")i=V.makeSpan(["stretchy","sout"]),i.height=t.fontMetrics().defaultRuleThickness/a,s=-.5*t.fontMetrics().xHeight;else if(n==="phase"){var u=zt({number:.6,unit:"pt"},t),l=zt({number:.35,unit:"ex"},t),c=t.havingBaseSizing();a=a/c.sizeMultiplier;var d=r.height+r.depth+u+l;r.style.paddingLeft=fe(d/2+u);var h=Math.floor(1e3*d*a),f=KO(h),p=new Ia([new ri("phase",f)],{width:"400em",height:fe(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});i=V.makeSvgSpan(["hide-tail"],[p],t),i.style.height=fe(d),s=r.depth+u+l}else{/cancel/.test(n)?o||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var g=0,T=0,y=0;/box/.test(n)?(y=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),g=t.fontMetrics().fboxsep+(n==="colorbox"?0:y),T=g):n==="angl"?(y=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),g=4*y,T=Math.max(0,.25-r.depth)):(g=o?.2:0,T=g),i=Ra.encloseSpan(r,n,g,T,t),/fbox|boxed|fcolorbox/.test(n)?(i.style.borderStyle="solid",i.style.borderWidth=fe(y)):n==="angl"&&y!==.049&&(i.style.borderTopWidth=fe(y),i.style.borderRightWidth=fe(y)),s=r.depth+T,e.backgroundColor&&(i.style.backgroundColor=e.backgroundColor,e.borderColor&&(i.style.borderColor=e.borderColor))}var x;if(e.backgroundColor)x=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:s},{type:"elem",elem:r,shift:0}]},t);else{var _=/cancel|phase/.test(n)?["svg-align"]:[];x=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:i,shift:s,wrapperClasses:_}]},t)}return/cancel/.test(n)&&(x.height=r.height,x.depth=r.depth),/cancel/.test(n)&&!o?V.makeSpan(["mord","cancel-lap"],[x],t):V.makeSpan(["mord"],[x],t)},vm=(e,t)=>{var r=0,n=new se.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[_t(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var a=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+a+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};xe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:a}=e,i=Je(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:n.mode,label:a,backgroundColor:i,body:s}},htmlBuilder:bm,mathmlBuilder:vm});xe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:a}=e,i=Je(t[0],"color-token").color,s=Je(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:n.mode,label:a,backgroundColor:s,borderColor:i,body:o}},htmlBuilder:bm,mathmlBuilder:vm});xe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}});xe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];return{type:"enclose",mode:r.mode,label:n,body:a}},htmlBuilder:bm,mathmlBuilder:vm});xe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});var Vx={};function oa(e){for(var{type:t,names:r,props:n,handler:a,htmlBuilder:i,mathmlBuilder:s}=e,o={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:a},u=0;u<r.length;++u)Vx[r[u]]=o;i&&(pc[t]=i),s&&(mc[t]=s)}var qx={};function I(e,t){qx[e]=t}function e2(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}var w0=e=>{var t=e.parser.settings;if(!t.displayMode)throw new ue("{"+e.envName+"} can be used only in display mode.")};function xm(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function pi(e,t,r){var{hskipBeforeAndAfter:n,addJot:a,cols:i,arraystretch:s,colSeparationType:o,autoTag:u,singleRow:l,emptySingleRow:c,maxNumCols:d,leqno:h}=t;if(e.gullet.beginGroup(),l||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var f=e.gullet.expandMacroAsText("\\arraystretch");if(f==null)s=1;else if(s=parseFloat(f),!s||s<0)throw new ue("Invalid \\arraystretch: "+f)}e.gullet.beginGroup();var p=[],g=[p],T=[],y=[],x=u!=null?[]:void 0;function _(){u&&e.gullet.macros.set("\\@eqnsw","1",!0)}function k(){x&&(e.gullet.macros.get("\\df@tag")?(x.push(e.subparse([new Kr("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):x.push(!!u&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(_(),y.push(e2(e));;){var C=e.parseExpression(!1,l?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),C={type:"ordgroup",mode:e.mode,body:C},r&&(C={type:"styling",mode:e.mode,style:r,body:[C]}),p.push(C);var A=e.fetch().text;if(A==="&"){if(d&&p.length===d){if(l||o)throw new ue("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(A==="\\end"){k(),p.length===1&&C.type==="styling"&&C.body[0].body.length===0&&(g.length>1||!c)&&g.pop(),y.length<g.length+1&&y.push([]);break}else if(A==="\\\\"){e.consume();var P=void 0;e.gullet.future().text!==" "&&(P=e.parseSizeGroup(!0)),T.push(P?P.value:null),k(),y.push(e2(e)),p=[],g.push(p),_()}else throw new ue("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:a,arraystretch:s,body:g,cols:i,rowGaps:T,hskipBeforeAndAfter:n,hLinesBeforeRow:y,colSeparationType:o,tags:x,leqno:h}}function wm(e){return e.slice(0,1)==="d"?"display":"text"}var ua=function(t,r){var n,a,i=t.body.length,s=t.hLinesBeforeRow,o=0,u=new Array(i),l=[],c=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),d=1/r.fontMetrics().ptPerEm,h=5*d;if(t.colSeparationType&&t.colSeparationType==="small"){var f=r.havingStyle(Le.SCRIPT).sizeMultiplier;h=.2778*(f/r.sizeMultiplier)}var p=t.colSeparationType==="CD"?zt({number:3,unit:"ex"},r):12*d,g=3*d,T=t.arraystretch*p,y=.7*T,x=.3*T,_=0;function k(Vt){for(var sr=0;sr<Vt.length;++sr)sr>0&&(_+=.25),l.push({pos:_,isDashed:Vt[sr]})}for(k(s[0]),n=0;n<t.body.length;++n){var C=t.body[n],A=y,P=x;o<C.length&&(o=C.length);var D=new Array(C.length);for(a=0;a<C.length;++a){var $=lt(C[a],r);P<$.depth&&(P=$.depth),A<$.height&&(A=$.height),D[a]=$}var F=t.rowGaps[n],q=0;F&&(q=zt(F,r),q>0&&(q+=x,P<q&&(P=q),q=0)),t.addJot&&(P+=g),D.height=A,D.depth=P,_+=A,D.pos=_,_+=P+q,u[n]=D,k(s[n+1])}var U=_/2+r.fontMetrics().axisHeight,ee=t.cols||[],Z=[],J,be,Te=[];if(t.tags&&t.tags.some(Vt=>Vt))for(n=0;n<i;++n){var ye=u[n],ne=ye.pos-U,R=t.tags[n],pe=void 0;R===!0?pe=V.makeSpan(["eqn-num"],[],r):R===!1?pe=V.makeSpan([],[],r):pe=V.makeSpan([],ir(R,r,!0),r),pe.depth=ye.depth,pe.height=ye.height,Te.push({type:"elem",elem:pe,shift:ne})}for(a=0,be=0;a<o||be<ee.length;++a,++be){for(var W=ee[be]||{},O=!0;W.type==="separator";){if(O||(J=V.makeSpan(["arraycolsep"],[]),J.style.width=fe(r.fontMetrics().doubleRuleSep),Z.push(J)),W.separator==="|"||W.separator===":"){var Ie=W.separator==="|"?"solid":"dashed",me=V.makeSpan(["vertical-separator"],[],r);me.style.height=fe(_),me.style.borderRightWidth=fe(c),me.style.borderRightStyle=Ie,me.style.margin="0 "+fe(-c/2);var ge=_-U;ge&&(me.style.verticalAlign=fe(-ge)),Z.push(me)}else throw new ue("Invalid separator type: "+W.separator);be++,W=ee[be]||{},O=!1}if(!(a>=o)){var ae=void 0;(a>0||t.hskipBeforeAndAfter)&&(ae=dt.deflt(W.pregap,h),ae!==0&&(J=V.makeSpan(["arraycolsep"],[]),J.style.width=fe(ae),Z.push(J)));var Me=[];for(n=0;n<i;++n){var Ue=u[n],at=Ue[a];if(at){var Ot=Ue.pos-U;at.depth=Ue.depth,at.height=Ue.height,Me.push({type:"elem",elem:at,shift:Ot})}}Me=V.makeVList({positionType:"individualShift",children:Me},r),Me=V.makeSpan(["col-align-"+(W.align||"c")],[Me]),Z.push(Me),(a<o-1||t.hskipBeforeAndAfter)&&(ae=dt.deflt(W.postgap,h),ae!==0&&(J=V.makeSpan(["arraycolsep"],[]),J.style.width=fe(ae),Z.push(J)))}}if(u=V.makeSpan(["mtable"],Z),l.length>0){for(var Wr=V.makeLineSpan("hline",r,c),kt=V.makeLineSpan("hdashline",r,c),We=[{type:"elem",elem:u,shift:0}];l.length>0;){var it=l.pop(),At=it.pos-U;it.isDashed?We.push({type:"elem",elem:kt,shift:At}):We.push({type:"elem",elem:Wr,shift:At})}u=V.makeVList({positionType:"individualShift",children:We},r)}if(Te.length===0)return V.makeSpan(["mord"],[u],r);var Ze=V.makeVList({positionType:"individualShift",children:Te},r);return Ze=V.makeSpan(["tag"],[Ze],r),V.makeFragment([u,Ze])},aP={c:"center ",l:"left ",r:"right "},la=function(t,r){for(var n=[],a=new se.MathNode("mtd",[],["mtr-glue"]),i=new se.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<t.body.length;s++){for(var o=t.body[s],u=[],l=0;l<o.length;l++)u.push(new se.MathNode("mtd",[_t(o[l],r)]));t.tags&&t.tags[s]&&(u.unshift(a),u.push(a),t.leqno?u.unshift(i):u.push(i)),n.push(new se.MathNode("mtr",u))}var c=new se.MathNode("mtable",n),d=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);c.setAttribute("rowspacing",fe(d));var h="",f="";if(t.cols&&t.cols.length>0){var p=t.cols,g="",T=!1,y=0,x=p.length;p[0].type==="separator"&&(h+="top ",y=1),p[p.length-1].type==="separator"&&(h+="bottom ",x-=1);for(var _=y;_<x;_++)p[_].type==="align"?(f+=aP[p[_].align],T&&(g+="none "),T=!0):p[_].type==="separator"&&T&&(g+=p[_].separator==="|"?"solid ":"dashed ",T=!1);c.setAttribute("columnalign",f.trim()),/[sd]/.test(g)&&c.setAttribute("columnlines",g.trim())}if(t.colSeparationType==="align"){for(var k=t.cols||[],C="",A=1;A<k.length;A++)C+=A%2?"0em ":"1em ";c.setAttribute("columnspacing",C.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var P="",D=t.hLinesBeforeRow;h+=D[0].length>0?"left ":"",h+=D[D.length-1].length>0?"right ":"";for(var $=1;$<D.length-1;$++)P+=D[$].length===0?"none ":D[$][0]?"dashed ":"solid ";return/[sd]/.test(P)&&c.setAttribute("rowlines",P.trim()),h!==""&&(c=new se.MathNode("menclose",[c]),c.setAttribute("notation",h.trim())),t.arraystretch&&t.arraystretch<1&&(c=new se.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},Wx=function(t,r){t.envName.indexOf("ed")===-1&&w0(t);var n=[],a=t.envName.indexOf("at")>-1?"alignat":"align",i=t.envName==="split",s=pi(t.parser,{cols:n,addJot:!0,autoTag:i?void 0:xm(t.envName),emptySingleRow:!0,colSeparationType:a,maxNumCols:i?2:void 0,leqno:t.parser.settings.leqno},"display"),o,u=0,l={type:"ordgroup",mode:t.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var c="",d=0;d<r[0].body.length;d++){var h=Je(r[0].body[d],"textord");c+=h.text}o=Number(c),u=o*2}var f=!u;s.body.forEach(function(y){for(var x=1;x<y.length;x+=2){var _=Je(y[x],"styling"),k=Je(_.body[0],"ordgroup");k.body.unshift(l)}if(f)u<y.length&&(u=y.length);else{var C=y.length/2;if(o<C)throw new ue("Too many math in a row: "+("expected "+o+", but got "+C),y[0])}});for(var p=0;p<u;++p){var g="r",T=0;p%2===1?g="l":p>0&&f&&(T=1),n[p]={type:"align",align:g,pregap:T,postgap:0}}return s.colSeparationType=f?"align":"alignat",s};oa({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=b0(t[0]),n=r?[t[0]]:Je(t[0],"ordgroup").body,a=n.map(function(s){var o=mm(s),u=o.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new ue("Unknown column alignment: "+u,s)}),i={cols:a,hskipBeforeAndAfter:!0,maxNumCols:a.length};return pi(e.parser,i,wm(e.envName))},htmlBuilder:ua,mathmlBuilder:la});oa({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var a=e.parser;if(a.consumeSpaces(),a.fetch().text==="["){if(a.consume(),a.consumeSpaces(),r=a.fetch().text,"lcr".indexOf(r)===-1)throw new ue("Expected l or c or r",a.nextToken);a.consume(),a.consumeSpaces(),a.expect("]"),a.consume(),n.cols=[{type:"align",align:r}]}}var i=pi(e.parser,n,wm(e.envName)),s=Math.max(0,...i.body.map(o=>o.length));return i.cols=new Array(s).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[i],left:t[0],right:t[1],rightColor:void 0}:i},htmlBuilder:ua,mathmlBuilder:la});oa({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},r=pi(e.parser,t,"script");return r.colSeparationType="small",r},htmlBuilder:ua,mathmlBuilder:la});oa({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=b0(t[0]),n=r?[t[0]]:Je(t[0],"ordgroup").body,a=n.map(function(s){var o=mm(s),u=o.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new ue("Unknown column alignment: "+u,s)});if(a.length>1)throw new ue("{subarray} can contain only one column");var i={cols:a,hskipBeforeAndAfter:!1,arraystretch:.5};if(i=pi(e.parser,i,"script"),i.body.length>0&&i.body[0].length>1)throw new ue("{subarray} can contain only one column");return i},htmlBuilder:ua,mathmlBuilder:la});oa({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=pi(e.parser,t,wm(e.envName));return{type:"leftright",mode:e.mode,body:[r],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ua,mathmlBuilder:la});oa({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Wx,htmlBuilder:ua,mathmlBuilder:la});oa({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&w0(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:xm(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return pi(e.parser,t,"display")},htmlBuilder:ua,mathmlBuilder:la});oa({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Wx,htmlBuilder:ua,mathmlBuilder:la});oa({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){w0(e);var t={autoTag:xm(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return pi(e.parser,t,"display")},htmlBuilder:ua,mathmlBuilder:la});oa({type:"array",names:["CD"],props:{numArgs:0},handler(e){return w0(e),VM(e.parser)},htmlBuilder:ua,mathmlBuilder:la});I("\\nonumber","\\gdef\\@eqnsw{0}");I("\\notag","\\nonumber");xe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new ue(e.funcName+" valid only within array environment")}});var t2=Vx;xe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];if(a.type!=="ordgroup")throw new ue("Invalid environment name",a);for(var i="",s=0;s<a.body.length;++s)i+=Je(a.body[s],"textord").text;if(n==="\\begin"){if(!t2.hasOwnProperty(i))throw new ue("No such environment: "+i,a);var o=t2[i],{args:u,optArgs:l}=r.parseArguments("\\begin{"+i+"}",o),c={mode:r.mode,envName:i,parser:r},d=o.handler(c,u,l);r.expect("\\end",!1);var h=r.nextToken,f=Je(r.parseFunction(),"environment");if(f.name!==i)throw new ue("Mismatch: \\begin{"+i+"} matched by \\end{"+f.name+"}",h);return d}return{type:"environment",mode:r.mode,name:i,nameGroup:a}}});var Zx=(e,t)=>{var r=e.font,n=t.withFont(r);return lt(e.body,n)},Gx=(e,t)=>{var r=e.font,n=t.withFont(r);return _t(e.body,n)},r2={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};xe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=gc(t[0]),i=n;return i in r2&&(i=r2[i]),{type:"font",mode:r.mode,font:i.slice(1),body:a}},htmlBuilder:Zx,mathmlBuilder:Gx});xe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:r}=e,n=t[0],a=dt.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:v0(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:a}}});xe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,breakOnTokenText:a}=e,{mode:i}=r,s=r.parseExpression(!0,a),o="math"+n.slice(1);return{type:"font",mode:i,font:o,body:{type:"ordgroup",mode:r.mode,body:s}}},htmlBuilder:Zx,mathmlBuilder:Gx});var Yx=(e,t)=>{var r=t;return e==="display"?r=r.id>=Le.SCRIPT.id?r.text():Le.DISPLAY:e==="text"&&r.size===Le.DISPLAY.size?r=Le.TEXT:e==="script"?r=Le.SCRIPT:e==="scriptscript"&&(r=Le.SCRIPTSCRIPT),r},Tm=(e,t)=>{var r=Yx(e.size,t.style),n=r.fracNum(),a=r.fracDen(),i;i=t.havingStyle(n);var s=lt(e.numer,i,t);if(e.continued){var o=8.5/t.fontMetrics().ptPerEm,u=3.5/t.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<u?u:s.depth}i=t.havingStyle(a);var l=lt(e.denom,i,t),c,d,h;e.hasBarLine?(e.barSize?(d=zt(e.barSize,t),c=V.makeLineSpan("frac-line",t,d)):c=V.makeLineSpan("frac-line",t),d=c.height,h=c.height):(c=null,d=0,h=t.fontMetrics().defaultRuleThickness);var f,p,g;r.size===Le.DISPLAY.size||e.size==="display"?(f=t.fontMetrics().num1,d>0?p=3*h:p=7*h,g=t.fontMetrics().denom1):(d>0?(f=t.fontMetrics().num2,p=h):(f=t.fontMetrics().num3,p=3*h),g=t.fontMetrics().denom2);var T;if(c){var x=t.fontMetrics().axisHeight;f-s.depth-(x+.5*d)<p&&(f+=p-(f-s.depth-(x+.5*d))),x-.5*d-(l.height-g)<p&&(g+=p-(x-.5*d-(l.height-g)));var _=-(x-.5*d);T=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:g},{type:"elem",elem:c,shift:_},{type:"elem",elem:s,shift:-f}]},t)}else{var y=f-s.depth-(l.height-g);y<p&&(f+=.5*(p-y),g+=.5*(p-y)),T=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:g},{type:"elem",elem:s,shift:-f}]},t)}i=t.havingStyle(r),T.height*=i.sizeMultiplier/t.sizeMultiplier,T.depth*=i.sizeMultiplier/t.sizeMultiplier;var k;r.size===Le.DISPLAY.size?k=t.fontMetrics().delim1:r.size===Le.SCRIPTSCRIPT.size?k=t.havingStyle(Le.SCRIPT).fontMetrics().delim2:k=t.fontMetrics().delim2;var C,A;return e.leftDelim==null?C=uu(t,["mopen"]):C=ka.customSizedDelim(e.leftDelim,k,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?A=V.makeSpan([]):e.rightDelim==null?A=uu(t,["mclose"]):A=ka.customSizedDelim(e.rightDelim,k,!0,t.havingStyle(r),e.mode,["mclose"]),V.makeSpan(["mord"].concat(i.sizingClasses(t)),[C,V.makeSpan(["mfrac"],[T]),A],t)},Em=(e,t)=>{var r=new se.MathNode("mfrac",[_t(e.numer,t),_t(e.denom,t)]);if(!e.hasBarLine)r.setAttribute("linethickness","0px");else if(e.barSize){var n=zt(e.barSize,t);r.setAttribute("linethickness",fe(n))}var a=Yx(e.size,t.style);if(a.size!==t.style.size){r=new se.MathNode("mstyle",[r]);var i=a.size===Le.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",i),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var s=[];if(e.leftDelim!=null){var o=new se.MathNode("mo",[new se.TextNode(e.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(r),e.rightDelim!=null){var u=new se.MathNode("mo",[new se.TextNode(e.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),s.push(u)}return fm(s)}return r};xe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0],i=t[1],s,o=null,u=null,l="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",u=")";break;case"\\\\bracefrac":s=!1,o="\\{",u="\\}";break;case"\\\\brackfrac":s=!1,o="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":l="display";break;case"\\tfrac":case"\\tbinom":l="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:a,denom:i,hasBarLine:s,leftDelim:o,rightDelim:u,size:l,barSize:null}},htmlBuilder:Tm,mathmlBuilder:Em});xe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0],i=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:a,denom:i,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});xe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:r,token:n}=e,a;switch(r){case"\\over":a="\\frac";break;case"\\choose":a="\\binom";break;case"\\atop":a="\\\\atopfrac";break;case"\\brace":a="\\\\bracefrac";break;case"\\brack":a="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:a,token:n}}});var n2=["display","text","script","scriptscript"],a2=function(t){var r=null;return t.length>0&&(r=t,r=r==="."?null:r),r};xe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:r}=e,n=t[4],a=t[5],i=gc(t[0]),s=i.type==="atom"&&i.family==="open"?a2(i.text):null,o=gc(t[1]),u=o.type==="atom"&&o.family==="close"?a2(o.text):null,l=Je(t[2],"size"),c,d=null;l.isBlank?c=!0:(d=l.value,c=d.number>0);var h="auto",f=t[3];if(f.type==="ordgroup"){if(f.body.length>0){var p=Je(f.body[0],"textord");h=n2[Number(p.text)]}}else f=Je(f,"textord"),h=n2[Number(f.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:a,continued:!1,hasBarLine:c,barSize:d,leftDelim:s,rightDelim:u,size:h}},htmlBuilder:Tm,mathmlBuilder:Em});xe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:a}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Je(t[0],"size").value,token:a}}});xe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0],i=DO(Je(t[1],"infix").size),s=t[2],o=i.number>0;return{type:"genfrac",mode:r.mode,numer:a,denom:s,continued:!1,hasBarLine:o,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Tm,mathmlBuilder:Em});var Kx=(e,t)=>{var r=t.style,n,a;e.type==="supsub"?(n=e.sup?lt(e.sup,t.havingStyle(r.sup()),t):lt(e.sub,t.havingStyle(r.sub()),t),a=Je(e.base,"horizBrace")):a=Je(e,"horizBrace");var i=lt(a.base,t.havingBaseStyle(Le.DISPLAY)),s=Ra.svgSpan(a,t),o;if(a.isOver?(o=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:.1},{type:"elem",elem:s}]},t),o.children[0].children[0].children[1].classes.push("svg-align")):(o=V.makeVList({positionType:"bottom",positionData:i.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:i}]},t),o.children[0].children[0].children[0].classes.push("svg-align")),n){var u=V.makeSpan(["mord",a.isOver?"mover":"munder"],[o],t);a.isOver?o=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:n}]},t):o=V.makeVList({positionType:"bottom",positionData:u.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:u}]},t)}return V.makeSpan(["mord",a.isOver?"mover":"munder"],[o],t)},iP=(e,t)=>{var r=Ra.mathMLnode(e.label);return new se.MathNode(e.isOver?"mover":"munder",[_t(e.base,t),r])};xe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:Kx,mathmlBuilder:iP});xe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[1],a=Je(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:a})?{type:"href",mode:r.mode,href:a,body:Kt(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var r=ir(e.body,t,!1);return V.makeAnchor(e.href,[],r,t)},mathmlBuilder:(e,t)=>{var r=ni(e.body,t);return r instanceof Yr||(r=new Yr("mrow",[r])),r.setAttribute("href",e.href),r}});xe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=Je(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var a=[],i=0;i<n.length;i++){var s=n[i];s==="~"&&(s="\\textasciitilde"),a.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:r.mode,font:"\\texttt",body:a};return{type:"href",mode:r.mode,href:n,body:Kt(o)}}});xe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:Kt(t[0])}},htmlBuilder(e,t){var r=ir(e.body,t,!1);return V.makeFragment(r)},mathmlBuilder(e,t){return new se.MathNode("mrow",Hr(e.body,t))}});xe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,token:a}=e,i=Je(t[0],"raw").string,s=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,u={};switch(n){case"\\htmlClass":u.class=i,o={command:"\\htmlClass",class:i};break;case"\\htmlId":u.id=i,o={command:"\\htmlId",id:i};break;case"\\htmlStyle":u.style=i,o={command:"\\htmlStyle",style:i};break;case"\\htmlData":{for(var l=i.split(","),c=0;c<l.length;c++){var d=l[c],h=d.indexOf("=");if(h<0)throw new ue("\\htmlData key/value '"+d+"' missing equals sign");var f=d.slice(0,h),p=d.slice(h+1);u["data-"+f.trim()]=p}o={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:u,body:Kt(s)}:r.formatUnsupportedCmd(n)},htmlBuilder:(e,t)=>{var r=ir(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var a=V.makeSpan(n,r,t);for(var i in e.attributes)i!=="class"&&e.attributes.hasOwnProperty(i)&&a.setAttribute(i,e.attributes[i]);return a},mathmlBuilder:(e,t)=>ni(e.body,t)});xe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:Kt(t[0]),mathml:Kt(t[1])}},htmlBuilder:(e,t)=>{var r=ir(e.html,t,!1);return V.makeFragment(r)},mathmlBuilder:(e,t)=>ni(e.mathml,t)});var Rd=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!r)throw new ue("Invalid size: '"+t+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!mx(n))throw new ue("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};xe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,r)=>{var{parser:n}=e,a={number:0,unit:"em"},i={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(r[0])for(var u=Je(r[0],"raw").string,l=u.split(","),c=0;c<l.length;c++){var d=l[c].split("=");if(d.length===2){var h=d[1].trim();switch(d[0].trim()){case"alt":o=h;break;case"width":a=Rd(h);break;case"height":i=Rd(h);break;case"totalheight":s=Rd(h);break;default:throw new ue("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var f=Je(t[0],"url").url;return o===""&&(o=f,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:n.mode,alt:o,width:a,height:i,totalheight:s,src:f}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var r=zt(e.height,t),n=0;e.totalheight.number>0&&(n=zt(e.totalheight,t)-r);var a=0;e.width.number>0&&(a=zt(e.width,t));var i={height:fe(r+n)};a>0&&(i.width=fe(a)),n>0&&(i.verticalAlign=fe(-n));var s=new iM(e.src,e.alt,i);return s.height=r,s.depth=n,s},mathmlBuilder:(e,t)=>{var r=new se.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=zt(e.height,t),a=0;if(e.totalheight.number>0&&(a=zt(e.totalheight,t)-n,r.setAttribute("valign",fe(-a))),r.setAttribute("height",fe(n+a)),e.width.number>0){var i=zt(e.width,t);r.setAttribute("width",fe(i))}return r.setAttribute("src",e.src),r}});xe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,a=Je(t[0],"size");if(r.settings.strict){var i=n[1]==="m",s=a.value.unit==="mu";i?(s||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+a.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):s&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:a.value}},htmlBuilder(e,t){return V.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var r=zt(e.dimension,t);return new se.SpaceNode(r)}});xe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:a}},htmlBuilder:(e,t)=>{var r;e.alignment==="clap"?(r=V.makeSpan([],[lt(e.body,t)]),r=V.makeSpan(["inner"],[r],t)):r=V.makeSpan(["inner"],[lt(e.body,t)]);var n=V.makeSpan(["fix"],[]),a=V.makeSpan([e.alignment],[r,n],t),i=V.makeSpan(["strut"]);return i.style.height=fe(a.height+a.depth),a.depth&&(i.style.verticalAlign=fe(-a.depth)),a.children.unshift(i),a=V.makeSpan(["thinbox"],[a],t),V.makeSpan(["mord","vbox"],[a],t)},mathmlBuilder:(e,t)=>{var r=new se.MathNode("mpadded",[_t(e.body,t)]);if(e.alignment!=="rlap"){var n=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});xe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,a=n.mode;n.switchMode("math");var i=r==="\\("?"\\)":"$",s=n.parseExpression(!1,i);return n.expect(i),n.switchMode(a),{type:"styling",mode:n.mode,style:"text",body:s}}});xe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new ue("Mismatched "+e.funcName)}});var i2=(e,t)=>{switch(t.style.size){case Le.DISPLAY.size:return e.display;case Le.TEXT.size:return e.text;case Le.SCRIPT.size:return e.script;case Le.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};xe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:Kt(t[0]),text:Kt(t[1]),script:Kt(t[2]),scriptscript:Kt(t[3])}},htmlBuilder:(e,t)=>{var r=i2(e,t),n=ir(r,t,!1);return V.makeFragment(n)},mathmlBuilder:(e,t)=>{var r=i2(e,t);return ni(r,t)}});var Xx=(e,t,r,n,a,i,s)=>{e=V.makeSpan([],[e]);var o=r&&dt.isCharacterBox(r),u,l;if(t){var c=lt(t,n.havingStyle(a.sup()),n);l={elem:c,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-c.depth)}}if(r){var d=lt(r,n.havingStyle(a.sub()),n);u={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-d.height)}}var h;if(l&&u){var f=n.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+e.depth+s;h=V.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:fe(-i)},{type:"kern",size:u.kern},{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:fe(i)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(u){var p=e.height-s;h=V.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:fe(-i)},{type:"kern",size:u.kern},{type:"elem",elem:e}]},n)}else if(l){var g=e.depth+s;h=V.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:fe(i)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return e;var T=[h];if(u&&i!==0&&!o){var y=V.makeSpan(["mspace"],[],n);y.style.marginRight=fe(i),T.unshift(y)}return V.makeSpan(["mop","op-limits"],T,n)},Jx=["\\smallint"],Gs=(e,t)=>{var r,n,a=!1,i;e.type==="supsub"?(r=e.sup,n=e.sub,i=Je(e.base,"op"),a=!0):i=Je(e,"op");var s=t.style,o=!1;s.size===Le.DISPLAY.size&&i.symbol&&!Jx.includes(i.name)&&(o=!0);var u;if(i.symbol){var l=o?"Size2-Regular":"Size1-Regular",c="";if((i.name==="\\oiint"||i.name==="\\oiiint")&&(c=i.name.slice(1),i.name=c==="oiint"?"\\iint":"\\iiint"),u=V.makeSymbol(i.name,l,"math",t,["mop","op-symbol",o?"large-op":"small-op"]),c.length>0){var d=u.italic,h=V.staticSvg(c+"Size"+(o?"2":"1"),t);u=V.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:h,shift:o?.08:0}]},t),i.name="\\"+c,u.classes.unshift("mop"),u.italic=d}}else if(i.body){var f=ir(i.body,t,!0);f.length===1&&f[0]instanceof yn?(u=f[0],u.classes[0]="mop"):u=V.makeSpan(["mop"],f,t)}else{for(var p=[],g=1;g<i.name.length;g++)p.push(V.mathsym(i.name[g],i.mode,t));u=V.makeSpan(["mop"],p,t)}var T=0,y=0;return(u instanceof yn||i.name==="\\oiint"||i.name==="\\oiiint")&&!i.suppressBaseShift&&(T=(u.height-u.depth)/2-t.fontMetrics().axisHeight,y=u.italic),a?Xx(u,r,n,t,s,y,T):(T&&(u.style.position="relative",u.style.top=fe(T)),u)},$u=(e,t)=>{var r;if(e.symbol)r=new Yr("mo",[bn(e.name,e.mode)]),Jx.includes(e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new Yr("mo",Hr(e.body,t));else{r=new Yr("mi",[new Yn(e.name.slice(1))]);var n=new Yr("mo",[bn("","text")]);e.parentIsSupSub?r=new Yr("mrow",[r,n]):r=Sx([r,n])}return r},sP={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};xe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=n;return a.length===1&&(a=sP[a]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:Gs,mathmlBuilder:$u});xe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Kt(n)}},htmlBuilder:Gs,mathmlBuilder:$u});var oP={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};xe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Gs,mathmlBuilder:$u});xe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Gs,mathmlBuilder:$u});xe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(e){var{parser:t,funcName:r}=e,n=r;return n.length===1&&(n=oP[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Gs,mathmlBuilder:$u});var Qx=(e,t)=>{var r,n,a=!1,i;e.type==="supsub"?(r=e.sup,n=e.sub,i=Je(e.base,"operatorname"),a=!0):i=Je(e,"operatorname");var s;if(i.body.length>0){for(var o=i.body.map(d=>{var h=d.text;return typeof h=="string"?{type:"textord",mode:d.mode,text:h}:d}),u=ir(o,t.withFont("mathrm"),!0),l=0;l<u.length;l++){var c=u[l];c instanceof yn&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=V.makeSpan(["mop"],u,t)}else s=V.makeSpan(["mop"],[],t);return a?Xx(s,r,n,t,t.style,0,0):s},uP=(e,t)=>{for(var r=Hr(e.body,t.withFont("mathrm")),n=!0,a=0;a<r.length;a++){var i=r[a];if(!(i instanceof se.SpaceNode))if(i instanceof se.MathNode)switch(i.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=i.children[0];i.children.length===1&&s instanceof se.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var o=r.map(c=>c.toText()).join("");r=[new se.TextNode(o)]}var u=new se.MathNode("mi",r);u.setAttribute("mathvariant","normal");var l=new se.MathNode("mo",[bn("","text")]);return e.parentIsSupSub?new se.MathNode("mrow",[u,l]):se.newDocumentFragment([u,l])};xe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0];return{type:"operatorname",mode:r.mode,body:Kt(a),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Qx,mathmlBuilder:uP});I("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");qi({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?V.makeFragment(ir(e.body,t,!1)):V.makeSpan(["mord"],ir(e.body,t,!0),t)},mathmlBuilder(e,t){return ni(e.body,t,!0)}});xe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=lt(e.body,t.havingCrampedStyle()),n=V.makeLineSpan("overline-line",t),a=t.fontMetrics().defaultRuleThickness,i=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*a},{type:"elem",elem:n},{type:"kern",size:a}]},t);return V.makeSpan(["mord","overline"],[i],t)},mathmlBuilder(e,t){var r=new se.MathNode("mo",[new se.TextNode("")]);r.setAttribute("stretchy","true");var n=new se.MathNode("mover",[_t(e.body,t),r]);return n.setAttribute("accent","true"),n}});xe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:Kt(n)}},htmlBuilder:(e,t)=>{var r=ir(e.body,t.withPhantom(),!1);return V.makeFragment(r)},mathmlBuilder:(e,t)=>{var r=Hr(e.body,t);return new se.MathNode("mphantom",r)}});xe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=V.makeSpan([],[lt(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),V.makeSpan(["mord"],[r],t)},mathmlBuilder:(e,t)=>{var r=Hr(Kt(e.body),t),n=new se.MathNode("mphantom",r),a=new se.MathNode("mpadded",[n]);return a.setAttribute("height","0px"),a.setAttribute("depth","0px"),a}});xe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=V.makeSpan(["inner"],[lt(e.body,t.withPhantom())]),n=V.makeSpan(["fix"],[]);return V.makeSpan(["mord","rlap"],[r,n],t)},mathmlBuilder:(e,t)=>{var r=Hr(Kt(e.body),t),n=new se.MathNode("mphantom",r),a=new se.MathNode("mpadded",[n]);return a.setAttribute("width","0px"),a}});xe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=Je(t[0],"size").value,a=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:a}},htmlBuilder(e,t){var r=lt(e.body,t),n=zt(e.dy,t);return V.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new se.MathNode("mpadded",[_t(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}});xe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});xe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,a=r[0],i=Je(t[0],"size"),s=Je(t[1],"size");return{type:"rule",mode:n.mode,shift:a&&Je(a,"size").value,width:i.value,height:s.value}},htmlBuilder(e,t){var r=V.makeSpan(["mord","rule"],[],t),n=zt(e.width,t),a=zt(e.height,t),i=e.shift?zt(e.shift,t):0;return r.style.borderRightWidth=fe(n),r.style.borderTopWidth=fe(a),r.style.bottom=fe(i),r.width=n,r.height=a+i,r.depth=-i,r.maxFontSize=a*1.125*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=zt(e.width,t),n=zt(e.height,t),a=e.shift?zt(e.shift,t):0,i=t.color&&t.getColor()||"black",s=new se.MathNode("mspace");s.setAttribute("mathbackground",i),s.setAttribute("width",fe(r)),s.setAttribute("height",fe(n));var o=new se.MathNode("mpadded",[s]);return a>=0?o.setAttribute("height",fe(a)):(o.setAttribute("height",fe(a)),o.setAttribute("depth",fe(-a))),o.setAttribute("voffset",fe(a)),o}});function e5(e,t,r){for(var n=ir(e,t,!1),a=t.sizeMultiplier/r.sizeMultiplier,i=0;i<n.length;i++){var s=n[i].classes.indexOf("sizing");s<0?Array.prototype.push.apply(n[i].classes,t.sizingClasses(r)):n[i].classes[s+1]==="reset-size"+t.size&&(n[i].classes[s+1]="reset-size"+r.size),n[i].height*=a,n[i].depth*=a}return V.makeFragment(n)}var s2=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],lP=(e,t)=>{var r=t.havingSize(e.size);return e5(e.body,r,t)};xe({type:"sizing",names:s2,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:r,funcName:n,parser:a}=e,i=a.parseExpression(!1,r);return{type:"sizing",mode:a.mode,size:s2.indexOf(n)+1,body:i}},htmlBuilder:lP,mathmlBuilder:(e,t)=>{var r=t.havingSize(e.size),n=Hr(e.body,r),a=new se.MathNode("mstyle",n);return a.setAttribute("mathsize",fe(r.sizeMultiplier)),a}});xe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,r)=>{var{parser:n}=e,a=!1,i=!1,s=r[0]&&Je(r[0],"ordgroup");if(s)for(var o="",u=0;u<s.body.length;++u){var l=s.body[u];if(o=l.text,o==="t")a=!0;else if(o==="b")i=!0;else{a=!1,i=!1;break}}else a=!0,i=!0;var c=t[0];return{type:"smash",mode:n.mode,body:c,smashHeight:a,smashDepth:i}},htmlBuilder:(e,t)=>{var r=V.makeSpan([],[lt(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var a=0;a<r.children.length;a++)r.children[a].depth=0;var i=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return V.makeSpan(["mord"],[i],t)},mathmlBuilder:(e,t)=>{var r=new se.MathNode("mpadded",[_t(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r}});xe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,a=r[0],i=t[0];return{type:"sqrt",mode:n.mode,body:i,index:a}},htmlBuilder(e,t){var r=lt(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=V.wrapFragment(r,t);var n=t.fontMetrics(),a=n.defaultRuleThickness,i=a;t.style.id<Le.TEXT.id&&(i=t.fontMetrics().xHeight);var s=a+i/4,o=r.height+r.depth+s+a,{span:u,ruleWidth:l,advanceWidth:c}=ka.sqrtImage(o,t),d=u.height-l;d>r.height+r.depth+s&&(s=(s+d-r.height-r.depth)/2);var h=u.height-r.height-s-l;r.style.paddingLeft=fe(c);var f=V.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+h)},{type:"elem",elem:u},{type:"kern",size:l}]},t);if(e.index){var p=t.havingStyle(Le.SCRIPTSCRIPT),g=lt(e.index,p,t),T=.6*(f.height-f.depth),y=V.makeVList({positionType:"shift",positionData:-T,children:[{type:"elem",elem:g}]},t),x=V.makeSpan(["root"],[y]);return V.makeSpan(["mord","sqrt"],[x,f],t)}else return V.makeSpan(["mord","sqrt"],[f],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new se.MathNode("mroot",[_t(r,t),_t(n,t)]):new se.MathNode("msqrt",[_t(r,t)])}});var o2={display:Le.DISPLAY,text:Le.TEXT,script:Le.SCRIPT,scriptscript:Le.SCRIPTSCRIPT};xe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:a}=e,i=a.parseExpression(!0,r),s=n.slice(1,n.length-5);return{type:"styling",mode:a.mode,style:s,body:i}},htmlBuilder(e,t){var r=o2[e.style],n=t.havingStyle(r).withFont("");return e5(e.body,n,t)},mathmlBuilder(e,t){var r=o2[e.style],n=t.havingStyle(r),a=Hr(e.body,n),i=new se.MathNode("mstyle",a),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[e.style];return i.setAttribute("scriptlevel",o[0]),i.setAttribute("displaystyle",o[1]),i}});var cP=function(t,r){var n=t.base;if(n)if(n.type==="op"){var a=n.limits&&(r.style.size===Le.DISPLAY.size||n.alwaysHandleSupSub);return a?Gs:null}else if(n.type==="operatorname"){var i=n.alwaysHandleSupSub&&(r.style.size===Le.DISPLAY.size||n.limits);return i?Qx:null}else{if(n.type==="accent")return dt.isCharacterBox(n.base)?gm:null;if(n.type==="horizBrace"){var s=!t.sub;return s===n.isOver?Kx:null}else return null}else return null};qi({type:"supsub",htmlBuilder(e,t){var r=cP(e,t);if(r)return r(e,t);var{base:n,sup:a,sub:i}=e,s=lt(n,t),o,u,l=t.fontMetrics(),c=0,d=0,h=n&&dt.isCharacterBox(n);if(a){var f=t.havingStyle(t.style.sup());o=lt(a,f,t),h||(c=s.height-f.fontMetrics().supDrop*f.sizeMultiplier/t.sizeMultiplier)}if(i){var p=t.havingStyle(t.style.sub());u=lt(i,p,t),h||(d=s.depth+p.fontMetrics().subDrop*p.sizeMultiplier/t.sizeMultiplier)}var g;t.style===Le.DISPLAY?g=l.sup1:t.style.cramped?g=l.sup3:g=l.sup2;var T=t.sizeMultiplier,y=fe(.5/l.ptPerEm/T),x=null;if(u){var _=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(s instanceof yn||_)&&(x=fe(-s.italic))}var k;if(o&&u){c=Math.max(c,g,o.depth+.25*l.xHeight),d=Math.max(d,l.sub2);var C=l.defaultRuleThickness,A=4*C;if(c-o.depth-(u.height-d)<A){d=A-(c-o.depth)+u.height;var P=.8*l.xHeight-(c-o.depth);P>0&&(c+=P,d-=P)}var D=[{type:"elem",elem:u,shift:d,marginRight:y,marginLeft:x},{type:"elem",elem:o,shift:-c,marginRight:y}];k=V.makeVList({positionType:"individualShift",children:D},t)}else if(u){d=Math.max(d,l.sub1,u.height-.8*l.xHeight);var $=[{type:"elem",elem:u,marginLeft:x,marginRight:y}];k=V.makeVList({positionType:"shift",positionData:d,children:$},t)}else if(o)c=Math.max(c,g,o.depth+.25*l.xHeight),k=V.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:o,marginRight:y}]},t);else throw new Error("supsub must have either sup or sub.");var F=wf(s,"right")||"mord";return V.makeSpan([F],[s,V.makeSpan(["msupsub"],[k])],t)},mathmlBuilder(e,t){var r=!1,n,a;e.base&&e.base.type==="horizBrace"&&(a=!!e.sup,a===e.base.isOver&&(r=!0,n=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var i=[_t(e.base,t)];e.sub&&i.push(_t(e.sub,t)),e.sup&&i.push(_t(e.sup,t));var s;if(r)s=n?"mover":"munder";else if(e.sub)if(e.sup){var l=e.base;l&&l.type==="op"&&l.limits&&t.style===Le.DISPLAY||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(t.style===Le.DISPLAY||l.limits)?s="munderover":s="msubsup"}else{var u=e.base;u&&u.type==="op"&&u.limits&&(t.style===Le.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||t.style===Le.DISPLAY)?s="munder":s="msub"}else{var o=e.base;o&&o.type==="op"&&o.limits&&(t.style===Le.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===Le.DISPLAY)?s="mover":s="msup"}return new se.MathNode(s,i)}});qi({type:"atom",htmlBuilder(e,t){return V.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var r=new se.MathNode("mo",[bn(e.text,e.mode)]);if(e.family==="bin"){var n=pm(e,t);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else e.family==="punct"?r.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&r.setAttribute("stretchy","false");return r}});var t5={mi:"italic",mn:"normal",mtext:"normal"};qi({type:"mathord",htmlBuilder(e,t){return V.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var r=new se.MathNode("mi",[bn(e.text,e.mode,t)]),n=pm(e,t)||"italic";return n!==t5[r.type]&&r.setAttribute("mathvariant",n),r}});qi({type:"textord",htmlBuilder(e,t){return V.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var r=bn(e.text,e.mode,t),n=pm(e,t)||"normal",a;return e.mode==="text"?a=new se.MathNode("mtext",[r]):/[0-9]/.test(e.text)?a=new se.MathNode("mn",[r]):e.text==="\\prime"?a=new se.MathNode("mo",[r]):a=new se.MathNode("mi",[r]),n!==t5[a.type]&&a.setAttribute("mathvariant",n),a}});var Od={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Md={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};qi({type:"spacing",htmlBuilder(e,t){if(Md.hasOwnProperty(e.text)){var r=Md[e.text].className||"";if(e.mode==="text"){var n=V.makeOrd(e,t,"textord");return n.classes.push(r),n}else return V.makeSpan(["mspace",r],[V.mathsym(e.text,e.mode,t)],t)}else{if(Od.hasOwnProperty(e.text))return V.makeSpan(["mspace",Od[e.text]],[],t);throw new ue('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var r;if(Md.hasOwnProperty(e.text))r=new se.MathNode("mtext",[new se.TextNode("")]);else{if(Od.hasOwnProperty(e.text))return new se.MathNode("mspace");throw new ue('Unknown type of space "'+e.text+'"')}return r}});var u2=()=>{var e=new se.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};qi({type:"tag",mathmlBuilder(e,t){var r=new se.MathNode("mtable",[new se.MathNode("mtr",[u2(),new se.MathNode("mtd",[ni(e.body,t)]),u2(),new se.MathNode("mtd",[ni(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var l2={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},c2={"\\textbf":"textbf","\\textmd":"textmd"},dP={"\\textit":"textit","\\textup":"textup"},d2=(e,t)=>{var r=e.font;if(r){if(l2[r])return t.withTextFontFamily(l2[r]);if(c2[r])return t.withTextFontWeight(c2[r]);if(r==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(dP[r])};xe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];return{type:"text",mode:r.mode,body:Kt(a),font:n}},htmlBuilder(e,t){var r=d2(e,t),n=ir(e.body,r,!0);return V.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=d2(e,t);return ni(e.body,r)}});xe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=lt(e.body,t),n=V.makeLineSpan("underline-line",t),a=t.fontMetrics().defaultRuleThickness,i=V.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:a},{type:"elem",elem:n},{type:"kern",size:3*a},{type:"elem",elem:r}]},t);return V.makeSpan(["mord","underline"],[i],t)},mathmlBuilder(e,t){var r=new se.MathNode("mo",[new se.TextNode("")]);r.setAttribute("stretchy","true");var n=new se.MathNode("munder",[_t(e.body,t),r]);return n.setAttribute("accentunder","true"),n}});xe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=lt(e.body,t),n=t.fontMetrics().axisHeight,a=.5*(r.height-n-(r.depth+n));return V.makeVList({positionType:"shift",positionData:a,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){return new se.MathNode("mpadded",[_t(e.body,t)],["vcenter"])}});xe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new ue("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=h2(e),n=[],a=t.havingStyle(t.style.text()),i=0;i<r.length;i++){var s=r[i];s==="~"&&(s="\\textasciitilde"),n.push(V.makeSymbol(s,"Typewriter-Regular",e.mode,a,["mord","texttt"]))}return V.makeSpan(["mord","text"].concat(a.sizingClasses(t)),V.tryCombineChars(n),a)},mathmlBuilder(e,t){var r=new se.TextNode(h2(e)),n=new se.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var h2=e=>e.body.replace(/ /g,e.star?"":""),Ya=kx,r5=`[ \r
	]`,hP="\\\\[a-zA-Z@]+",fP="\\\\[^\uD800-\uDFFF]",pP="("+hP+")"+r5+"*",mP=`\\\\(
|[ \r	]+
?)[ \r	]*`,_f="[-]",gP=new RegExp(_f+"+$"),yP="("+r5+"+)|"+(mP+"|")+"([!-\\[\\]---]"+(_f+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(_f+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+pP)+("|"+fP+")");class f2{constructor(t,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=r,this.tokenRegex=new RegExp(yP,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,r){this.catcodes[t]=r}lex(){var t=this.input,r=this.tokenRegex.lastIndex;if(r===t.length)return new Kr("EOF",new Br(this,r,r));var n=this.tokenRegex.exec(t);if(n===null||n.index!==r)throw new ue("Unexpected character: '"+t[r]+"'",new Kr(t[r],new Br(this,r,r+1)));var a=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[a]===14){var i=t.indexOf(`
`,this.tokenRegex.lastIndex);return i===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=i+1,this.lex()}return new Kr(a,new Br(this,r,this.tokenRegex.lastIndex))}}class bP{constructor(t,r){t===void 0&&(t={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ue("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var r in t)t.hasOwnProperty(r)&&(t[r]==null?delete this.current[r]:this.current[r]=t[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,r,n){if(n===void 0&&(n=!1),n){for(var a=0;a<this.undefStack.length;a++)delete this.undefStack[a][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=r)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(t)&&(i[t]=this.current[t])}r==null?delete this.current[t]:this.current[t]=r}}var vP=qx;I("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});I("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});I("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});I("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});I("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});I("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");I("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var p2={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};I("\\char",function(e){var t=e.popToken(),r,n="";if(t.text==="'")r=8,t=e.popToken();else if(t.text==='"')r=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")n=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new ue("\\char` missing argument");n=t.text.charCodeAt(0)}else r=10;if(r){if(n=p2[t.text],n==null||n>=r)throw new ue("Invalid base-"+r+" digit "+t.text);for(var a;(a=p2[e.future().text])!=null&&a<r;)n*=r,n+=a,e.popToken()}return"\\@char{"+n+"}"});var km=(e,t,r,n)=>{var a=e.consumeArg().tokens;if(a.length!==1)throw new ue("\\newcommand's first argument must be a macro name");var i=a[0].text,s=e.isDefined(i);if(s&&!t)throw new ue("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!s&&!r)throw new ue("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var o=0;if(a=e.consumeArg().tokens,a.length===1&&a[0].text==="["){for(var u="",l=e.expandNextToken();l.text!=="]"&&l.text!=="EOF";)u+=l.text,l=e.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new ue("Invalid number of arguments: "+u);o=parseInt(u),a=e.consumeArg().tokens}return s&&n||e.macros.set(i,{tokens:a,numArgs:o}),""};I("\\newcommand",e=>km(e,!1,!0,!1));I("\\renewcommand",e=>km(e,!0,!1,!1));I("\\providecommand",e=>km(e,!0,!0,!0));I("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""});I("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""});I("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),Ya[r],Rt.math[r],Rt.text[r]),""});I("\\bgroup","{");I("\\egroup","}");I("~","\\nobreakspace");I("\\lq","`");I("\\rq","'");I("\\aa","\\r a");I("\\AA","\\r A");I("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");I("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");I("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");I("","\\mathscr{B}");I("","\\mathscr{E}");I("","\\mathscr{F}");I("","\\mathscr{H}");I("","\\mathscr{I}");I("","\\mathscr{L}");I("","\\mathscr{M}");I("","\\mathscr{R}");I("","\\mathfrak{C}");I("","\\mathfrak{H}");I("","\\mathfrak{Z}");I("\\Bbbk","\\Bbb{k}");I("","\\cdotp");I("\\llap","\\mathllap{\\textrm{#1}}");I("\\rlap","\\mathrlap{\\textrm{#1}}");I("\\clap","\\mathclap{\\textrm{#1}}");I("\\mathstrut","\\vphantom{(}");I("\\underbar","\\underline{\\text{#1}}");I("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');I("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");I("\\ne","\\neq");I("","\\neq");I("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");I("","\\notin");I("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");I("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");I("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");I("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");I("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");I("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");I("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");I("","\\perp");I("","\\mathclose{!\\mkern-0.8mu!}");I("","\\notni");I("","\\ulcorner");I("","\\urcorner");I("","\\llcorner");I("","\\lrcorner");I("","\\copyright");I("","\\textregistered");I("","\\textregistered");I("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');I("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');I("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');I("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');I("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");I("","\\vdots");I("\\varGamma","\\mathit{\\Gamma}");I("\\varDelta","\\mathit{\\Delta}");I("\\varTheta","\\mathit{\\Theta}");I("\\varLambda","\\mathit{\\Lambda}");I("\\varXi","\\mathit{\\Xi}");I("\\varPi","\\mathit{\\Pi}");I("\\varSigma","\\mathit{\\Sigma}");I("\\varUpsilon","\\mathit{\\Upsilon}");I("\\varPhi","\\mathit{\\Phi}");I("\\varPsi","\\mathit{\\Psi}");I("\\varOmega","\\mathit{\\Omega}");I("\\substack","\\begin{subarray}{c}#1\\end{subarray}");I("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");I("\\boxed","\\fbox{$\\displaystyle{#1}$}");I("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");I("\\implies","\\DOTSB\\;\\Longrightarrow\\;");I("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");I("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");I("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var m2={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};I("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in m2?t=m2[r]:(r.slice(0,4)==="\\not"||r in Rt.math&&["bin","rel"].includes(Rt.math[r].group))&&(t="\\dotsb"),t});var _m={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};I("\\dotso",function(e){var t=e.future().text;return t in _m?"\\ldots\\,":"\\ldots"});I("\\dotsc",function(e){var t=e.future().text;return t in _m&&t!==","?"\\ldots\\,":"\\ldots"});I("\\cdots",function(e){var t=e.future().text;return t in _m?"\\@cdots\\,":"\\@cdots"});I("\\dotsb","\\cdots");I("\\dotsm","\\cdots");I("\\dotsi","\\!\\cdots");I("\\dotsx","\\ldots\\,");I("\\DOTSI","\\relax");I("\\DOTSB","\\relax");I("\\DOTSX","\\relax");I("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");I("\\,","\\tmspace+{3mu}{.1667em}");I("\\thinspace","\\,");I("\\>","\\mskip{4mu}");I("\\:","\\tmspace+{4mu}{.2222em}");I("\\medspace","\\:");I("\\;","\\tmspace+{5mu}{.2777em}");I("\\thickspace","\\;");I("\\!","\\tmspace-{3mu}{.1667em}");I("\\negthinspace","\\!");I("\\negmedspace","\\tmspace-{4mu}{.2222em}");I("\\negthickspace","\\tmspace-{5mu}{.277em}");I("\\enspace","\\kern.5em ");I("\\enskip","\\hskip.5em\\relax");I("\\quad","\\hskip1em\\relax");I("\\qquad","\\hskip2em\\relax");I("\\tag","\\@ifstar\\tag@literal\\tag@paren");I("\\tag@paren","\\tag@literal{({#1})}");I("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ue("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});I("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");I("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");I("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");I("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");I("\\newline","\\\\\\relax");I("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var n5=fe(Gn["Main-Regular"][84][1]-.7*Gn["Main-Regular"][65][1]);I("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+n5+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");I("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+n5+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");I("\\hspace","\\@ifstar\\@hspacer\\@hspace");I("\\@hspace","\\hskip #1\\relax");I("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");I("\\ordinarycolon",":");I("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");I("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');I("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');I("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');I("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');I("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');I("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');I("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');I("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');I("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');I("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');I("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');I("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');I("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');I("","\\dblcolon");I("","\\eqcolon");I("","\\coloneqq");I("","\\eqqcolon");I("","\\Coloneqq");I("\\ratio","\\vcentcolon");I("\\coloncolon","\\dblcolon");I("\\colonequals","\\coloneqq");I("\\coloncolonequals","\\Coloneqq");I("\\equalscolon","\\eqqcolon");I("\\equalscoloncolon","\\Eqqcolon");I("\\colonminus","\\coloneq");I("\\coloncolonminus","\\Coloneq");I("\\minuscolon","\\eqcolon");I("\\minuscoloncolon","\\Eqcolon");I("\\coloncolonapprox","\\Colonapprox");I("\\coloncolonsim","\\Colonsim");I("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");I("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");I("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");I("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");I("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");I("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");I("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");I("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");I("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");I("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");I("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");I("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");I("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");I("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");I("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");I("\\ngeqq","\\html@mathml{\\@ngeqq}{}");I("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");I("\\nleqq","\\html@mathml{\\@nleqq}{}");I("\\nleqslant","\\html@mathml{\\@nleqslant}{}");I("\\nshortmid","\\html@mathml{\\@nshortmid}{}");I("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");I("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");I("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");I("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");I("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");I("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");I("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");I("\\imath","\\html@mathml{\\@imath}{}");I("\\jmath","\\html@mathml{\\@jmath}{}");I("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");I("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");I("","\\llbracket");I("","\\rrbracket");I("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");I("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");I("","\\lBrace");I("","\\rBrace");I("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");I("","\\minuso");I("\\darr","\\downarrow");I("\\dArr","\\Downarrow");I("\\Darr","\\Downarrow");I("\\lang","\\langle");I("\\rang","\\rangle");I("\\uarr","\\uparrow");I("\\uArr","\\Uparrow");I("\\Uarr","\\Uparrow");I("\\N","\\mathbb{N}");I("\\R","\\mathbb{R}");I("\\Z","\\mathbb{Z}");I("\\alef","\\aleph");I("\\alefsym","\\aleph");I("\\Alpha","\\mathrm{A}");I("\\Beta","\\mathrm{B}");I("\\bull","\\bullet");I("\\Chi","\\mathrm{X}");I("\\clubs","\\clubsuit");I("\\cnums","\\mathbb{C}");I("\\Complex","\\mathbb{C}");I("\\Dagger","\\ddagger");I("\\diamonds","\\diamondsuit");I("\\empty","\\emptyset");I("\\Epsilon","\\mathrm{E}");I("\\Eta","\\mathrm{H}");I("\\exist","\\exists");I("\\harr","\\leftrightarrow");I("\\hArr","\\Leftrightarrow");I("\\Harr","\\Leftrightarrow");I("\\hearts","\\heartsuit");I("\\image","\\Im");I("\\infin","\\infty");I("\\Iota","\\mathrm{I}");I("\\isin","\\in");I("\\Kappa","\\mathrm{K}");I("\\larr","\\leftarrow");I("\\lArr","\\Leftarrow");I("\\Larr","\\Leftarrow");I("\\lrarr","\\leftrightarrow");I("\\lrArr","\\Leftrightarrow");I("\\Lrarr","\\Leftrightarrow");I("\\Mu","\\mathrm{M}");I("\\natnums","\\mathbb{N}");I("\\Nu","\\mathrm{N}");I("\\Omicron","\\mathrm{O}");I("\\plusmn","\\pm");I("\\rarr","\\rightarrow");I("\\rArr","\\Rightarrow");I("\\Rarr","\\Rightarrow");I("\\real","\\Re");I("\\reals","\\mathbb{R}");I("\\Reals","\\mathbb{R}");I("\\Rho","\\mathrm{P}");I("\\sdot","\\cdot");I("\\sect","\\S");I("\\spades","\\spadesuit");I("\\sub","\\subset");I("\\sube","\\subseteq");I("\\supe","\\supseteq");I("\\Tau","\\mathrm{T}");I("\\thetasym","\\vartheta");I("\\weierp","\\wp");I("\\Zeta","\\mathrm{Z}");I("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");I("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");I("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");I("\\bra","\\mathinner{\\langle{#1}|}");I("\\ket","\\mathinner{|{#1}\\rangle}");I("\\braket","\\mathinner{\\langle{#1}\\rangle}");I("\\Bra","\\left\\langle#1\\right|");I("\\Ket","\\left|#1\\right\\rangle");var a5=e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,a=t.consumeArg().tokens,i=t.consumeArg().tokens,s=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var u=d=>h=>{e&&(h.macros.set("|",s),a.length&&h.macros.set("\\|",o));var f=d;if(!d&&a.length){var p=h.future();p.text==="|"&&(h.popToken(),f=!0)}return{tokens:f?a:n,numArgs:0}};t.macros.set("|",u(!1)),a.length&&t.macros.set("\\|",u(!0));var l=t.consumeArg().tokens,c=t.expandTokens([...i,...l,...r]);return t.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};I("\\bra@ket",a5(!1));I("\\bra@set",a5(!0));I("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");I("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");I("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");I("\\angln","{\\angl n}");I("\\blue","\\textcolor{##6495ed}{#1}");I("\\orange","\\textcolor{##ffa500}{#1}");I("\\pink","\\textcolor{##ff00af}{#1}");I("\\red","\\textcolor{##df0030}{#1}");I("\\green","\\textcolor{##28ae7b}{#1}");I("\\gray","\\textcolor{gray}{#1}");I("\\purple","\\textcolor{##9d38bd}{#1}");I("\\blueA","\\textcolor{##ccfaff}{#1}");I("\\blueB","\\textcolor{##80f6ff}{#1}");I("\\blueC","\\textcolor{##63d9ea}{#1}");I("\\blueD","\\textcolor{##11accd}{#1}");I("\\blueE","\\textcolor{##0c7f99}{#1}");I("\\tealA","\\textcolor{##94fff5}{#1}");I("\\tealB","\\textcolor{##26edd5}{#1}");I("\\tealC","\\textcolor{##01d1c1}{#1}");I("\\tealD","\\textcolor{##01a995}{#1}");I("\\tealE","\\textcolor{##208170}{#1}");I("\\greenA","\\textcolor{##b6ffb0}{#1}");I("\\greenB","\\textcolor{##8af281}{#1}");I("\\greenC","\\textcolor{##74cf70}{#1}");I("\\greenD","\\textcolor{##1fab54}{#1}");I("\\greenE","\\textcolor{##0d923f}{#1}");I("\\goldA","\\textcolor{##ffd0a9}{#1}");I("\\goldB","\\textcolor{##ffbb71}{#1}");I("\\goldC","\\textcolor{##ff9c39}{#1}");I("\\goldD","\\textcolor{##e07d10}{#1}");I("\\goldE","\\textcolor{##a75a05}{#1}");I("\\redA","\\textcolor{##fca9a9}{#1}");I("\\redB","\\textcolor{##ff8482}{#1}");I("\\redC","\\textcolor{##f9685d}{#1}");I("\\redD","\\textcolor{##e84d39}{#1}");I("\\redE","\\textcolor{##bc2612}{#1}");I("\\maroonA","\\textcolor{##ffbde0}{#1}");I("\\maroonB","\\textcolor{##ff92c6}{#1}");I("\\maroonC","\\textcolor{##ed5fa6}{#1}");I("\\maroonD","\\textcolor{##ca337c}{#1}");I("\\maroonE","\\textcolor{##9e034e}{#1}");I("\\purpleA","\\textcolor{##ddd7ff}{#1}");I("\\purpleB","\\textcolor{##c6b9fc}{#1}");I("\\purpleC","\\textcolor{##aa87ff}{#1}");I("\\purpleD","\\textcolor{##7854ab}{#1}");I("\\purpleE","\\textcolor{##543b78}{#1}");I("\\mintA","\\textcolor{##f5f9e8}{#1}");I("\\mintB","\\textcolor{##edf2df}{#1}");I("\\mintC","\\textcolor{##e0e5cc}{#1}");I("\\grayA","\\textcolor{##f6f7f7}{#1}");I("\\grayB","\\textcolor{##f0f1f2}{#1}");I("\\grayC","\\textcolor{##e3e5e6}{#1}");I("\\grayD","\\textcolor{##d6d8da}{#1}");I("\\grayE","\\textcolor{##babec2}{#1}");I("\\grayF","\\textcolor{##888d93}{#1}");I("\\grayG","\\textcolor{##626569}{#1}");I("\\grayH","\\textcolor{##3b3e40}{#1}");I("\\grayI","\\textcolor{##21242c}{#1}");I("\\kaBlue","\\textcolor{##314453}{#1}");I("\\kaGreen","\\textcolor{##71B307}{#1}");var i5={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class xP{constructor(t,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(t),this.macros=new bP(vP,r.macros),this.mode=n,this.stack=[]}feed(t){this.lexer=new f2(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var r,n,a;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:a,end:n}=this.consumeArg(["]"])}else({tokens:a,start:r,end:n}=this.consumeArg());return this.pushToken(new Kr("EOF",n.loc)),this.pushTokens(a),new Kr("",Br.range(r,n))}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var r=[],n=t&&t.length>0;n||this.consumeSpaces();var a=this.future(),i,s=0,o=0;do{if(i=this.popToken(),r.push(i),i.text==="{")++s;else if(i.text==="}"){if(--s,s===-1)throw new ue("Extra }",i)}else if(i.text==="EOF")throw new ue("Unexpected end of input in a macro argument, expected '"+(t&&n?t[o]:"}")+"'",i);if(t&&n)if((s===0||s===1&&t[o]==="{")&&i.text===t[o]){if(++o,o===t.length){r.splice(-o,o);break}}else o=0}while(s!==0||n);return a.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:a,end:i}}consumeArgs(t,r){if(r){if(r.length!==t+1)throw new ue("The length of delimiters doesn't match the number of args!");for(var n=r[0],a=0;a<n.length;a++){var i=this.popToken();if(n[a]!==i.text)throw new ue("Use of the macro doesn't match its definition",i)}}for(var s=[],o=0;o<t;o++)s.push(this.consumeArg(r&&r[o+1]).tokens);return s}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new ue("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var r=this.popToken(),n=r.text,a=r.noexpand?null:this._getExpansion(n);if(a==null||t&&a.unexpandable){if(t&&a==null&&n[0]==="\\"&&!this.isDefined(n))throw new ue("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var i=a.tokens,s=this.consumeArgs(a.numArgs,a.delimiters);if(a.numArgs){i=i.slice();for(var o=i.length-1;o>=0;--o){var u=i[o];if(u.text==="#"){if(o===0)throw new ue("Incomplete placeholder at end of macro body",u);if(u=i[--o],u.text==="#")i.splice(o+1,1);else if(/^[1-9]$/.test(u.text))i.splice(o,2,...s[+u.text-1]);else throw new ue("Not a valid argument number",u)}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Kr(t)]):void 0}expandTokens(t){var r=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;)if(this.expandOnce(!0)===!1){var a=this.stack.pop();a.treatAsRelax&&(a.noexpand=!1,a.treatAsRelax=!1),r.push(a)}return this.countExpansion(r.length),r}expandMacroAsText(t){var r=this.expandMacro(t);return r&&r.map(n=>n.text).join("")}_getExpansion(t){var r=this.macros.get(t);if(r==null)return r;if(t.length===1){var n=this.lexer.catcodes[t];if(n!=null&&n!==13)return}var a=typeof r=="function"?r(this):r;if(typeof a=="string"){var i=0;if(a.indexOf("#")!==-1)for(var s=a.replace(/##/g,"");s.indexOf("#"+(i+1))!==-1;)++i;for(var o=new f2(a,this.settings),u=[],l=o.lex();l.text!=="EOF";)u.push(l),l=o.lex();u.reverse();var c={tokens:u,numArgs:i};return c}return a}isDefined(t){return this.macros.has(t)||Ya.hasOwnProperty(t)||Rt.math.hasOwnProperty(t)||Rt.text.hasOwnProperty(t)||i5.hasOwnProperty(t)}isExpandable(t){var r=this.macros.get(t);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Ya.hasOwnProperty(t)&&!Ya[t].primitive}}var g2=/^[]/,kl=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Pd={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},y2={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let s5=class o5{constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new xP(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new ue("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Kr("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(t,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var a=this.fetch();if(o5.endOfExpression.indexOf(a.text)!==-1||r&&a.text===r||t&&Ya[a.text]&&Ya[a.text].infix)break;var i=this.parseAtom(r);if(i){if(i.type==="internal")continue}else break;n.push(i)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var r=-1,n,a=0;a<t.length;a++)if(t[a].type==="infix"){if(r!==-1)throw new ue("only one infix operator per group",t[a].token);r=a,n=t[a].replaceWith}if(r!==-1&&n){var i,s,o=t.slice(0,r),u=t.slice(r+1);o.length===1&&o[0].type==="ordgroup"?i=o[0]:i={type:"ordgroup",mode:this.mode,body:o},u.length===1&&u[0].type==="ordgroup"?s=u[0]:s={type:"ordgroup",mode:this.mode,body:u};var l;return n==="\\\\abovefrac"?l=this.callFunction(n,[i,t[r],s],[]):l=this.callFunction(n,[i,s],[]),[l]}else return t}handleSupSubscript(t){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var a;do{var i;a=this.parseGroup(t)}while(((i=a)==null?void 0:i.type)==="internal");if(!a)throw new ue("Expected group after '"+n+"'",r);return a}formatUnsupportedCmd(t){for(var r=[],n=0;n<t.length;n++)r.push({type:"textord",mode:"text",text:t[n]});var a={type:"text",mode:this.mode,body:r},i={type:"color",mode:this.mode,color:this.settings.errorColor,body:[a]};return i}parseAtom(t){var r=this.parseGroup("atom",t);if(r?.type==="internal"||this.mode==="text")return r;for(var n,a;;){this.consumeSpaces();var i=this.fetch();if(i.text==="\\limits"||i.text==="\\nolimits"){if(r&&r.type==="op"){var s=i.text==="\\limits";r.limits=s,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=i.text==="\\limits");else throw new ue("Limit controls must follow a math operator",i);this.consume()}else if(i.text==="^"){if(n)throw new ue("Double superscript",i);n=this.handleSupSubscript("superscript")}else if(i.text==="_"){if(a)throw new ue("Double subscript",i);a=this.handleSupSubscript("subscript")}else if(i.text==="'"){if(n)throw new ue("Double superscript",i);var o={type:"textord",mode:this.mode,text:"\\prime"},u=[o];for(this.consume();this.fetch().text==="'";)u.push(o),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:u}}else if(kl[i.text]){var l=g2.test(i.text),c=[];for(c.push(new Kr(kl[i.text])),this.consume();;){var d=this.fetch().text;if(!kl[d]||g2.test(d)!==l)break;c.unshift(new Kr(kl[d])),this.consume()}var h=this.subparse(c);l?a={type:"ordgroup",mode:"math",body:h}:n={type:"ordgroup",mode:"math",body:h}}else break}return n||a?{type:"supsub",mode:this.mode,base:r,sup:n,sub:a}:r}parseFunction(t,r){var n=this.fetch(),a=n.text,i=Ya[a];if(!i)return null;if(this.consume(),r&&r!=="atom"&&!i.allowedInArgument)throw new ue("Got function '"+a+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!i.allowedInText)throw new ue("Can't use function '"+a+"' in text mode",n);if(this.mode==="math"&&i.allowedInMath===!1)throw new ue("Can't use function '"+a+"' in math mode",n);var{args:s,optArgs:o}=this.parseArguments(a,i);return this.callFunction(a,s,o,n,t)}callFunction(t,r,n,a,i){var s={funcName:t,parser:this,token:a,breakOnTokenText:i},o=Ya[t];if(o&&o.handler)return o.handler(s,r,n);throw new ue("No function handler for "+t)}parseArguments(t,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var a=[],i=[],s=0;s<n;s++){var o=r.argTypes&&r.argTypes[s],u=s<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&s===1&&i[0]==null)&&(o="primitive");var l=this.parseGroupOfType("argument to '"+t+"'",o,u);if(u)i.push(l);else if(l!=null)a.push(l);else throw new ue("Null argument, please report this as a bug")}return{args:a,optArgs:i}}parseGroupOfType(t,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var a=this.parseArgumentGroup(n,"text");return a!=null?{type:"styling",mode:a.mode,body:[a],style:"text"}:null}case"raw":{var i=this.parseStringGroup("raw",n);return i!=null?{type:"raw",mode:"text",string:i.text}:null}case"primitive":{if(n)throw new ue("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new ue("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new ue("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var a="",i;(i=this.fetch()).text!=="EOF";)a+=i.text,this.consume();return this.consume(),n.text=a,n}parseRegexGroup(t,r){for(var n=this.fetch(),a=n,i="",s;(s=this.fetch()).text!=="EOF"&&t.test(i+s.text);)a=s,i+=a.text,this.consume();if(i==="")throw new ue("Invalid "+r+": '"+n.text+"'",n);return n.range(a,i)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new ue("Invalid color: '"+r.text+"'",r);var a=n[0];return/^[0-9a-f]{6}$/i.test(a)&&(a="#"+a),{type:"color-token",mode:this.mode,color:a}}parseSizeGroup(t){var r,n=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",t),!r)return null;!t&&r.text.length===0&&(r.text="0pt",n=!0);var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!a)throw new ue("Invalid size: '"+r.text+"'",r);var i={number:+(a[1]+a[2]),unit:a[3]};if(!mx(i))throw new ue("Invalid unit: '"+i.unit+"'",r);return{type:"size",mode:this.mode,value:i,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,r){var n=this.gullet.scanArgument(t);if(n==null)return null;var a=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:n.loc,body:i};return r&&this.switchMode(a),s}parseGroup(t,r){var n=this.fetch(),a=n.text,i;if(a==="{"||a==="\\begingroup"){this.consume();var s=a==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),u=this.fetch();this.expect(s),this.gullet.endGroup(),i={type:"ordgroup",mode:this.mode,loc:Br.range(n,u),body:o,semisimple:a==="\\begingroup"||void 0}}else if(i=this.parseFunction(r,t)||this.parseSymbol(),i==null&&a[0]==="\\"&&!i5.hasOwnProperty(a)){if(this.settings.throwOnError)throw new ue("Undefined control sequence: "+a,n);i=this.formatUnsupportedCmd(a),this.consume()}return i}formLigatures(t){for(var r=t.length-1,n=0;n<r;++n){var a=t[n],i=a.text;i==="-"&&t[n+1].text==="-"&&(n+1<r&&t[n+2].text==="-"?(t.splice(n,3,{type:"textord",mode:"text",loc:Br.range(a,t[n+2]),text:"---"}),r-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:Br.range(a,t[n+1]),text:"--"}),r-=1)),(i==="'"||i==="`")&&t[n+1].text===i&&(t.splice(n,2,{type:"textord",mode:"text",loc:Br.range(a,t[n+1]),text:i+i}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),a=n.charAt(0)==="*";if(a&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new ue(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:a}}y2.hasOwnProperty(r[0])&&!Rt[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=y2[r[0]]+r.slice(1));var i=gP.exec(r);i&&(r=r.substring(0,i.index),r==="i"?r="":r==="j"&&(r=""));var s;if(Rt[this.mode][r]){this.settings.strict&&this.mode==="math"&&xf.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var o=Rt[this.mode][r].group,u=Br.range(t),l;if(uM.hasOwnProperty(o)){var c=o;l={type:"atom",mode:this.mode,family:c,loc:u,text:r}}else l={type:o,mode:this.mode,loc:u,text:r};s=l}else if(r.charCodeAt(0)>=128)this.settings.strict&&(fx(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:Br.range(t),text:r};else return null;if(this.consume(),i)for(var d=0;d<i[0].length;d++){var h=i[0][d];if(!Pd[h])throw new ue("Unknown accent ' "+h+"'",t);var f=Pd[h][this.mode]||Pd[h].text;if(!f)throw new ue("Accent "+h+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:Br.range(t),label:f,isStretchy:!1,isShifty:!0,base:s}}return s}};s5.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Sm=function(t,r){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new s5(t,r);delete n.gullet.macros.current["\\df@tag"];var a=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new ue("\\tag works only in display equations");a=[{type:"tag",mode:"text",body:a,tag:n.subparse([new Kr("\\df@tag")])}]}return a},Am=function(t,r,n){r.textContent="";var a=T0(t,n).toNode();r.appendChild(a)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Am=function(){throw new ue("KaTeX doesn't work in quirks mode.")});var u5=function(t,r){var n=T0(t,r).toMarkup();return n},l5=function(t,r){var n=new um(r);return Sm(t,n)},c5=function(t,r,n){if(n.throwOnError||!(t instanceof ue))throw t;var a=V.makeSpan(["katex-error"],[new yn(r)]);return a.setAttribute("title",t.toString()),a.setAttribute("style","color:"+n.errorColor),a},T0=function(t,r){var n=new um(r);try{var a=Sm(t,n);return RM(a,t,n)}catch(i){return c5(i,t,n)}},d5=function(t,r){var n=new um(r);try{var a=Sm(t,n);return OM(a,t,n)}catch(i){return c5(i,t,n)}},h5="0.16.27",f5={Span:ju,Anchor:dm,SymbolNode:yn,SvgNode:Ia,PathNode:ri,LineNode:vf},Sf={version:h5,render:Am,renderToString:u5,ParseError:ue,SETTINGS_SCHEMA:zo,__parse:l5,__renderToDomTree:T0,__renderToHTMLTree:d5,__setFontMetrics:px,__defineSymbol:b,__defineFunction:xe,__defineMacro:I,__domTree:f5};const Hle=Object.freeze(Object.defineProperty({__proto__:null,ParseError:ue,SETTINGS_SCHEMA:zo,__defineFunction:xe,__defineMacro:I,__defineSymbol:b,__domTree:f5,__parse:l5,__renderToDomTree:T0,__renderToHTMLTree:d5,__setFontMetrics:px,default:Sf,get render(){return Am},renderToString:u5,version:h5},Symbol.toStringTag,{value:"Module"})),wP={},TP=[];function Af(e){const t=e||wP;return function(r,n){im(r,"element",function(a,i){const s=Array.isArray(a.properties.className)?a.properties.className:TP,o=s.includes("language-math"),u=s.includes("math-display"),l=s.includes("math-inline");let c=u;if(!o&&!u&&!l)return;let d=i[i.length-1],h=a;if(a.tagName==="code"&&o&&d&&d.type==="element"&&d.tagName==="pre"&&(h=d,d=i[i.length-2],c=!0),!d)return;const f=wO(h,{whitespace:"pre"});let p;try{p=Sf.renderToString(f,{...t,displayMode:c,throwOnError:!0})}catch(T){const y=T,x=y.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...i,a],cause:y,place:a.position,ruleId:x,source:"rehype-katex"});try{p=Sf.renderToString(f,{...t,displayMode:c,strict:"ignore",throwOnError:!1})}catch{p=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(T)},children:[{type:"text",value:f}]}]}}typeof p=="string"&&(p=fO(p).children);const g=d.children.indexOf(h);return d.children.splice(g,1,...p),dc})}}const p5=-1,E0=0,Ho=1,yc=2,Cm=3,Im=4,Nm=5,Rm=6,m5=7,g5=8,b2=typeof self=="object"?self:globalThis,EP=(e,t)=>{const r=(a,i)=>(e.set(i,a),a),n=a=>{if(e.has(a))return e.get(a);const[i,s]=t[a];switch(i){case E0:case p5:return r(s,a);case Ho:{const o=r([],a);for(const u of s)o.push(n(u));return o}case yc:{const o=r({},a);for(const[u,l]of s)o[n(u)]=n(l);return o}case Cm:return r(new Date(s),a);case Im:{const{source:o,flags:u}=s;return r(new RegExp(o,u),a)}case Nm:{const o=r(new Map,a);for(const[u,l]of s)o.set(n(u),n(l));return o}case Rm:{const o=r(new Set,a);for(const u of s)o.add(n(u));return o}case m5:{const{name:o,message:u}=s;return r(new b2[o](u),a)}case g5:return r(BigInt(s),a);case"BigInt":return r(Object(BigInt(s)),a);case"ArrayBuffer":return r(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return r(new DataView(o),s)}}return r(new b2[i](s),a)};return n},v2=e=>EP(new Map,e)(0),ts="",{toString:kP}={},{keys:_P}=Object,co=e=>{const t=typeof e;if(t!=="object"||!e)return[E0,t];const r=kP.call(e).slice(8,-1);switch(r){case"Array":return[Ho,ts];case"Object":return[yc,ts];case"Date":return[Cm,ts];case"RegExp":return[Im,ts];case"Map":return[Nm,ts];case"Set":return[Rm,ts];case"DataView":return[Ho,r]}return r.includes("Array")?[Ho,r]:r.includes("Error")?[m5,r]:[yc,r]},_l=([e,t])=>e===E0&&(t==="function"||t==="symbol"),SP=(e,t,r,n)=>{const a=(s,o)=>{const u=n.push(s)-1;return r.set(o,u),u},i=s=>{if(r.has(s))return r.get(s);let[o,u]=co(s);switch(o){case E0:{let c=s;switch(u){case"bigint":o=g5,c=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return a([p5],s)}return a([o,c],s)}case Ho:{if(u){let h=s;return u==="DataView"?h=new Uint8Array(s.buffer):u==="ArrayBuffer"&&(h=new Uint8Array(s)),a([u,[...h]],s)}const c=[],d=a([o,c],s);for(const h of s)c.push(i(h));return d}case yc:{if(u)switch(u){case"BigInt":return a([u,s.toString()],s);case"Boolean":case"Number":case"String":return a([u,s.valueOf()],s)}if(t&&"toJSON"in s)return i(s.toJSON());const c=[],d=a([o,c],s);for(const h of _P(s))(e||!_l(co(s[h])))&&c.push([i(h),i(s[h])]);return d}case Cm:return a([o,s.toISOString()],s);case Im:{const{source:c,flags:d}=s;return a([o,{source:c,flags:d}],s)}case Nm:{const c=[],d=a([o,c],s);for(const[h,f]of s)(e||!(_l(co(h))||_l(co(f))))&&c.push([i(h),i(f)]);return d}case Rm:{const c=[],d=a([o,c],s);for(const h of s)(e||!_l(co(h)))&&c.push(i(h));return d}}const{message:l}=s;return a([o,{name:u,message:l}],s)};return i},x2=(e,{json:t,lossy:r}={})=>{const n=[];return SP(!(t||r),!!t,new Map,n)(e),n},Cs=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?v2(x2(e,t)):structuredClone(e):(e,t)=>v2(x2(e,t));function AP(e){const t=String(e),r=[];return{toOffset:a,toPoint:n};function n(i){if(typeof i=="number"&&i>-1&&i<=t.length){let s=0;for(;;){let o=r[s];if(o===void 0){const u=w2(t,r[s-1]);o=u===-1?t.length+1:u+1,r[s]=o}if(o>i)return{line:s+1,column:i-(s>0?r[s-1]:0)+1,offset:i};s++}}}function a(i){if(i&&typeof i.line=="number"&&typeof i.column=="number"&&!Number.isNaN(i.line)&&!Number.isNaN(i.column)){for(;r.length<i.line;){const o=r[r.length-1],u=w2(t,o),l=u===-1?t.length+1:u+1;if(o===l)break;r.push(l)}const s=(i.line>1?r[i.line-2]:0)+i.column-1;if(s<r[i.line-1])return s}}}function w2(e,t){const r=e.indexOf("\r",t),n=e.indexOf(`
`,t);return n===-1?r:r===-1||r+1===n?n:r<n?r:n}const y5={}.hasOwnProperty,CP=Object.prototype;function IP(e,t){const r=t||{};return Om({file:r.file||void 0,location:!1,schema:r.space==="svg"?fi:Fu,verbose:r.verbose||!1},e)}function Om(e,t){let r;switch(t.nodeName){case"#comment":{const n=t;return r={type:"comment",value:n.data},Gl(e,n,r),r}case"#document":case"#document-fragment":{const n=t,a="mode"in n?n.mode==="quirks"||n.mode==="limited-quirks":!1;if(r={type:"root",children:b5(e,t.childNodes),data:{quirksMode:a}},e.file&&e.location){const i=String(e.file),s=AP(i),o=s.toPoint(0),u=s.toPoint(i.length);r.position={start:o,end:u}}return r}case"#documentType":{const n=t;return r={type:"doctype"},Gl(e,n,r),r}case"#text":{const n=t;return r={type:"text",value:n.value},Gl(e,n,r),r}default:return r=NP(e,t),r}}function b5(e,t){let r=-1;const n=[];for(;++r<t.length;){const a=Om(e,t[r]);n.push(a)}return n}function NP(e,t){const r=e.schema;e.schema=t.namespaceURI===Zn.svg?fi:Fu;let n=-1;const a={};for(;++n<t.attrs.length;){const o=t.attrs[n],u=(o.prefix?o.prefix+":":"")+o.name;y5.call(CP,u)||(a[u]=o.value)}const s=(e.schema.space==="svg"?ax:nx)(t.tagName,a,b5(e,t.childNodes));if(Gl(e,t,s),s.tagName==="template"){const o=t,u=o.sourceCodeLocation,l=u&&u.startTag&&ys(u.startTag),c=u&&u.endTag&&ys(u.endTag),d=Om(e,o.content);l&&c&&e.file&&(d.position={start:l.end,end:c.start}),s.content=d}return e.schema=r,s}function Gl(e,t,r){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const n=RP(e,r,t.sourceCodeLocation);n&&(e.location=!0,r.position=n)}}function RP(e,t,r){const n=ys(r);if(t.type==="element"){const a=t.children[t.children.length-1];if(n&&!r.endTag&&a&&a.position&&a.position.end&&(n.end=Object.assign({},a.position.end)),e.verbose){const i={};let s;if(r.attrs)for(s in r.attrs)y5.call(r.attrs,s)&&(i[m0(e.schema,s).property]=ys(r.attrs[s]));r.startTag;const o=ys(r.startTag),u=r.endTag?ys(r.endTag):void 0,l={opening:o};u&&(l.closing=u),l.properties=i,t.data={position:l}}}return n}function ys(e){const t=T2({line:e.startLine,column:e.startCol,offset:e.startOffset}),r=T2({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||r?{start:t,end:r}:void 0}function T2(e){return e.line&&e.column?e:void 0}const E2={}.hasOwnProperty;function v5(e,t){const r=t||{};function n(a,...i){let s=n.invalid;const o=n.handlers;if(a&&E2.call(a,e)){const u=String(a[e]);s=E2.call(o,u)?o[u]:n.unknown}if(s)return s.call(this,a,...i)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}const OP={},MP={}.hasOwnProperty,x5=v5("type",{handlers:{root:DP,element:$P,text:BP,comment:jP,doctype:FP}});function PP(e,t){const n=(t||OP).space;return x5(e,n==="svg"?fi:Fu)}function DP(e,t){const r={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=Mm(e.children,r,t),Ys(e,r),r}function LP(e,t){const r={nodeName:"#document-fragment",childNodes:[]};return r.childNodes=Mm(e.children,r,t),Ys(e,r),r}function FP(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Ys(e,t),t}function BP(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Ys(e,t),t}function jP(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Ys(e,t),t}function $P(e,t){const r=t;let n=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(n=fi);const a=[];let i;if(e.properties){for(i in e.properties)if(i!=="children"&&MP.call(e.properties,i)){const u=zP(n,i,e.properties[i]);u&&a.push(u)}}const s=n.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:a,namespaceURI:Zn[s],childNodes:[],parentNode:null};return o.childNodes=Mm(e.children,o,n),Ys(e,o),e.tagName==="template"&&e.content&&(o.content=LP(e.content,n)),o}function zP(e,t,r){const n=m0(e,t);if(r===!1||r===null||r===void 0||typeof r=="number"&&Number.isNaN(r)||!r&&n.boolean)return;Array.isArray(r)&&(r=n.commaSeparated?ex(r):tx(r));const a={name:n.attribute,value:r===!0?"":String(r)};if(n.space&&n.space!=="html"&&n.space!=="svg"){const i=a.name.indexOf(":");i<0?a.prefix="":(a.name=a.name.slice(i+1),a.prefix=n.attribute.slice(0,i)),a.namespace=Zn[n.space]}return a}function Mm(e,t,r){let n=-1;const a=[];if(e)for(;++n<e.length;){const i=x5(e[n],r);i.parentNode=t,a.push(i)}return a}function Ys(e,t){const r=e.position;r&&r.start&&r.end&&(r.start.offset,r.end.offset,t.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}const UP=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],HP=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Dt="";var N;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(N||(N={}));const Dr={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function w5(e){return e>=55296&&e<=57343}function VP(e){return e>=56320&&e<=57343}function qP(e,t){return(e-55296)*1024+9216+t}function T5(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function E5(e){return e>=64976&&e<=65007||HP.has(e)}var G;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(G||(G={}));const WP=65536;class ZP{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=WP,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){const{line:n,col:a,offset:i}=this,s=a+r,o=i+r;return{code:t,startLine:n,endLine:n,startCol:s,endCol:s,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(VP(r))return this.pos++,this._addGap(),qP(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,N.EOF;return this._err(G.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){const r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,N.EOF;const n=this.html.charCodeAt(r);return n===N.CARRIAGE_RETURN?N.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,N.EOF;let t=this.html.charCodeAt(this.pos);return t===N.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,N.LINE_FEED):t===N.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,w5(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===N.LINE_FEED||t===N.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){T5(t)?this._err(G.controlCharacterInInputStream):E5(t)&&this._err(G.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var et;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(et||(et={}));function k5(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}const GP=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),YP=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function KP(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=YP.get(e))!==null&&t!==void 0?t:e}var lr;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(lr||(lr={}));const XP=32;var Ka;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ka||(Ka={}));function Cf(e){return e>=lr.ZERO&&e<=lr.NINE}function JP(e){return e>=lr.UPPER_A&&e<=lr.UPPER_F||e>=lr.LOWER_A&&e<=lr.LOWER_F}function QP(e){return e>=lr.UPPER_A&&e<=lr.UPPER_Z||e>=lr.LOWER_A&&e<=lr.LOWER_Z||Cf(e)}function eD(e){return e===lr.EQUALS||QP(e)}var ur;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ur||(ur={}));var va;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(va||(va={}));class tD{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=ur.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=va.Strict}startEntity(t){this.decodeMode=t,this.state=ur.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case ur.EntityStart:return t.charCodeAt(r)===lr.NUM?(this.state=ur.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=ur.NamedEntity,this.stateNamedEntity(t,r));case ur.NumericStart:return this.stateNumericStart(t,r);case ur.NumericDecimal:return this.stateNumericDecimal(t,r);case ur.NumericHex:return this.stateNumericHex(t,r);case ur.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|XP)===lr.LOWER_X?(this.state=ur.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=ur.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,a){if(r!==n){const i=n-r;this.result=this.result*Math.pow(a,i)+Number.parseInt(t.substr(r,i),a),this.consumed+=i}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const a=t.charCodeAt(r);if(Cf(a)||JP(a))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const a=t.charCodeAt(r);if(Cf(a))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===lr.SEMI)this.consumed+=1;else if(this.decodeMode===va.Strict)return 0;return this.emitCodePoint(KP(this.result),this.consumed),this.errors&&(t!==lr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let a=n[this.treeIndex],i=(a&Ka.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const s=t.charCodeAt(r);if(this.treeIndex=rD(n,a,this.treeIndex+Math.max(1,i),s),this.treeIndex<0)return this.result===0||this.decodeMode===va.Attribute&&(i===0||eD(s))?0:this.emitNotTerminatedNamedEntity();if(a=n[this.treeIndex],i=(a&Ka.VALUE_LENGTH)>>14,i!==0){if(s===lr.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==va.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,a=(n[r]&Ka.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:a}=this;return this.emitCodePoint(r===1?a[t]&~Ka.VALUE_LENGTH:a[t+1],n),r===3&&this.emitCodePoint(a[t+2],n),n}end(){var t;switch(this.state){case ur.NamedEntity:return this.result!==0&&(this.decodeMode!==va.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ur.NumericDecimal:return this.emitNumericEntity(0,2);case ur.NumericHex:return this.emitNumericEntity(0,3);case ur.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ur.EntityStart:return 0}}}function rD(e,t,r,n){const a=(t&Ka.BRANCH_LENGTH)>>7,i=t&Ka.JUMP_TABLE;if(a===0)return i!==0&&n===i?r:-1;if(i){const u=n-i;return u<0||u>=a?-1:e[r+u]-1}let s=r,o=s+a-1;for(;s<=o;){const u=s+o>>>1,l=e[u];if(l<n)s=u+1;else if(l>n)o=u-1;else return e[u+a]}return-1}var re;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(re||(re={}));var Mi;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Mi||(Mi={}));var un;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(un||(un={}));var H;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(H||(H={}));var m;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(m||(m={}));const nD=new Map([[H.A,m.A],[H.ADDRESS,m.ADDRESS],[H.ANNOTATION_XML,m.ANNOTATION_XML],[H.APPLET,m.APPLET],[H.AREA,m.AREA],[H.ARTICLE,m.ARTICLE],[H.ASIDE,m.ASIDE],[H.B,m.B],[H.BASE,m.BASE],[H.BASEFONT,m.BASEFONT],[H.BGSOUND,m.BGSOUND],[H.BIG,m.BIG],[H.BLOCKQUOTE,m.BLOCKQUOTE],[H.BODY,m.BODY],[H.BR,m.BR],[H.BUTTON,m.BUTTON],[H.CAPTION,m.CAPTION],[H.CENTER,m.CENTER],[H.CODE,m.CODE],[H.COL,m.COL],[H.COLGROUP,m.COLGROUP],[H.DD,m.DD],[H.DESC,m.DESC],[H.DETAILS,m.DETAILS],[H.DIALOG,m.DIALOG],[H.DIR,m.DIR],[H.DIV,m.DIV],[H.DL,m.DL],[H.DT,m.DT],[H.EM,m.EM],[H.EMBED,m.EMBED],[H.FIELDSET,m.FIELDSET],[H.FIGCAPTION,m.FIGCAPTION],[H.FIGURE,m.FIGURE],[H.FONT,m.FONT],[H.FOOTER,m.FOOTER],[H.FOREIGN_OBJECT,m.FOREIGN_OBJECT],[H.FORM,m.FORM],[H.FRAME,m.FRAME],[H.FRAMESET,m.FRAMESET],[H.H1,m.H1],[H.H2,m.H2],[H.H3,m.H3],[H.H4,m.H4],[H.H5,m.H5],[H.H6,m.H6],[H.HEAD,m.HEAD],[H.HEADER,m.HEADER],[H.HGROUP,m.HGROUP],[H.HR,m.HR],[H.HTML,m.HTML],[H.I,m.I],[H.IMG,m.IMG],[H.IMAGE,m.IMAGE],[H.INPUT,m.INPUT],[H.IFRAME,m.IFRAME],[H.KEYGEN,m.KEYGEN],[H.LABEL,m.LABEL],[H.LI,m.LI],[H.LINK,m.LINK],[H.LISTING,m.LISTING],[H.MAIN,m.MAIN],[H.MALIGNMARK,m.MALIGNMARK],[H.MARQUEE,m.MARQUEE],[H.MATH,m.MATH],[H.MENU,m.MENU],[H.META,m.META],[H.MGLYPH,m.MGLYPH],[H.MI,m.MI],[H.MO,m.MO],[H.MN,m.MN],[H.MS,m.MS],[H.MTEXT,m.MTEXT],[H.NAV,m.NAV],[H.NOBR,m.NOBR],[H.NOFRAMES,m.NOFRAMES],[H.NOEMBED,m.NOEMBED],[H.NOSCRIPT,m.NOSCRIPT],[H.OBJECT,m.OBJECT],[H.OL,m.OL],[H.OPTGROUP,m.OPTGROUP],[H.OPTION,m.OPTION],[H.P,m.P],[H.PARAM,m.PARAM],[H.PLAINTEXT,m.PLAINTEXT],[H.PRE,m.PRE],[H.RB,m.RB],[H.RP,m.RP],[H.RT,m.RT],[H.RTC,m.RTC],[H.RUBY,m.RUBY],[H.S,m.S],[H.SCRIPT,m.SCRIPT],[H.SEARCH,m.SEARCH],[H.SECTION,m.SECTION],[H.SELECT,m.SELECT],[H.SOURCE,m.SOURCE],[H.SMALL,m.SMALL],[H.SPAN,m.SPAN],[H.STRIKE,m.STRIKE],[H.STRONG,m.STRONG],[H.STYLE,m.STYLE],[H.SUB,m.SUB],[H.SUMMARY,m.SUMMARY],[H.SUP,m.SUP],[H.TABLE,m.TABLE],[H.TBODY,m.TBODY],[H.TEMPLATE,m.TEMPLATE],[H.TEXTAREA,m.TEXTAREA],[H.TFOOT,m.TFOOT],[H.TD,m.TD],[H.TH,m.TH],[H.THEAD,m.THEAD],[H.TITLE,m.TITLE],[H.TR,m.TR],[H.TRACK,m.TRACK],[H.TT,m.TT],[H.U,m.U],[H.UL,m.UL],[H.SVG,m.SVG],[H.VAR,m.VAR],[H.WBR,m.WBR],[H.XMP,m.XMP]]);function Ks(e){var t;return(t=nD.get(e))!==null&&t!==void 0?t:m.UNKNOWN}const ie=m,aD={[re.HTML]:new Set([ie.ADDRESS,ie.APPLET,ie.AREA,ie.ARTICLE,ie.ASIDE,ie.BASE,ie.BASEFONT,ie.BGSOUND,ie.BLOCKQUOTE,ie.BODY,ie.BR,ie.BUTTON,ie.CAPTION,ie.CENTER,ie.COL,ie.COLGROUP,ie.DD,ie.DETAILS,ie.DIR,ie.DIV,ie.DL,ie.DT,ie.EMBED,ie.FIELDSET,ie.FIGCAPTION,ie.FIGURE,ie.FOOTER,ie.FORM,ie.FRAME,ie.FRAMESET,ie.H1,ie.H2,ie.H3,ie.H4,ie.H5,ie.H6,ie.HEAD,ie.HEADER,ie.HGROUP,ie.HR,ie.HTML,ie.IFRAME,ie.IMG,ie.INPUT,ie.LI,ie.LINK,ie.LISTING,ie.MAIN,ie.MARQUEE,ie.MENU,ie.META,ie.NAV,ie.NOEMBED,ie.NOFRAMES,ie.NOSCRIPT,ie.OBJECT,ie.OL,ie.P,ie.PARAM,ie.PLAINTEXT,ie.PRE,ie.SCRIPT,ie.SECTION,ie.SELECT,ie.SOURCE,ie.STYLE,ie.SUMMARY,ie.TABLE,ie.TBODY,ie.TD,ie.TEMPLATE,ie.TEXTAREA,ie.TFOOT,ie.TH,ie.THEAD,ie.TITLE,ie.TR,ie.TRACK,ie.UL,ie.WBR,ie.XMP]),[re.MATHML]:new Set([ie.MI,ie.MO,ie.MN,ie.MS,ie.MTEXT,ie.ANNOTATION_XML]),[re.SVG]:new Set([ie.TITLE,ie.FOREIGN_OBJECT,ie.DESC]),[re.XLINK]:new Set,[re.XML]:new Set,[re.XMLNS]:new Set},If=new Set([ie.H1,ie.H2,ie.H3,ie.H4,ie.H5,ie.H6]);H.STYLE,H.SCRIPT,H.XMP,H.IFRAME,H.NOEMBED,H.NOFRAMES,H.PLAINTEXT;var M;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(M||(M={}));const Yt={DATA:M.DATA,RCDATA:M.RCDATA,RAWTEXT:M.RAWTEXT,SCRIPT_DATA:M.SCRIPT_DATA,PLAINTEXT:M.PLAINTEXT,CDATA_SECTION:M.CDATA_SECTION};function iD(e){return e>=N.DIGIT_0&&e<=N.DIGIT_9}function Ro(e){return e>=N.LATIN_CAPITAL_A&&e<=N.LATIN_CAPITAL_Z}function sD(e){return e>=N.LATIN_SMALL_A&&e<=N.LATIN_SMALL_Z}function qa(e){return sD(e)||Ro(e)}function k2(e){return qa(e)||iD(e)}function Sl(e){return e+32}function _5(e){return e===N.SPACE||e===N.LINE_FEED||e===N.TABULATION||e===N.FORM_FEED}function _2(e){return _5(e)||e===N.SOLIDUS||e===N.GREATER_THAN_SIGN}function oD(e){return e===N.NULL?G.nullCharacterReference:e>1114111?G.characterReferenceOutsideUnicodeRange:w5(e)?G.surrogateCharacterReference:E5(e)?G.noncharacterCharacterReference:T5(e)||e===N.CARRIAGE_RETURN?G.controlCharacterReference:null}class uD{constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=M.DATA,this.returnState=M.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new ZP(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new tD(GP,(n,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(G.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(G.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{const a=oD(n);a&&this._err(a,1)}}:void 0)}_err(t,r=0){var n,a;(a=(n=this.handler).onParseError)===null||a===void 0||a.call(n,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:et.START_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:et.END_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:et.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:et.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;const n=this.currentToken;if(k5(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const a=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(G.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Ks(t.tagName),t.type===et.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(G.endTagWithAttributes),t.selfClosing&&this._err(G.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case et.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case et.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case et.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:et.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){const r=_5(t)?et.WHITESPACE_CHARACTER:t===N.NULL?et.NULL_CHARACTER:et.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(et.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=M.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?va.Attribute:va.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===M.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===M.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===M.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case M.DATA:{this._stateData(t);break}case M.RCDATA:{this._stateRcdata(t);break}case M.RAWTEXT:{this._stateRawtext(t);break}case M.SCRIPT_DATA:{this._stateScriptData(t);break}case M.PLAINTEXT:{this._statePlaintext(t);break}case M.TAG_OPEN:{this._stateTagOpen(t);break}case M.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case M.TAG_NAME:{this._stateTagName(t);break}case M.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case M.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case M.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case M.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case M.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case M.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case M.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case M.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case M.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case M.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case M.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case M.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case M.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case M.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case M.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case M.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case M.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case M.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case M.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case M.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case M.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case M.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case M.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case M.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case M.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case M.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case M.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case M.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case M.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case M.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case M.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case M.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case M.BOGUS_COMMENT:{this._stateBogusComment(t);break}case M.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case M.COMMENT_START:{this._stateCommentStart(t);break}case M.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case M.COMMENT:{this._stateComment(t);break}case M.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case M.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case M.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case M.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case M.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case M.COMMENT_END:{this._stateCommentEnd(t);break}case M.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case M.DOCTYPE:{this._stateDoctype(t);break}case M.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case M.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case M.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case M.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case M.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case M.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case M.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case M.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case M.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case M.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case M.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case M.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case M.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case M.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case M.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case M.CDATA_SECTION:{this._stateCdataSection(t);break}case M.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case M.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case M.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case M.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case N.LESS_THAN_SIGN:{this.state=M.TAG_OPEN;break}case N.AMPERSAND:{this._startCharacterReference();break}case N.NULL:{this._err(G.unexpectedNullCharacter),this._emitCodePoint(t);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case N.AMPERSAND:{this._startCharacterReference();break}case N.LESS_THAN_SIGN:{this.state=M.RCDATA_LESS_THAN_SIGN;break}case N.NULL:{this._err(G.unexpectedNullCharacter),this._emitChars(Dt);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case N.LESS_THAN_SIGN:{this.state=M.RAWTEXT_LESS_THAN_SIGN;break}case N.NULL:{this._err(G.unexpectedNullCharacter),this._emitChars(Dt);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case N.LESS_THAN_SIGN:{this.state=M.SCRIPT_DATA_LESS_THAN_SIGN;break}case N.NULL:{this._err(G.unexpectedNullCharacter),this._emitChars(Dt);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case N.NULL:{this._err(G.unexpectedNullCharacter),this._emitChars(Dt);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(qa(t))this._createStartTagToken(),this.state=M.TAG_NAME,this._stateTagName(t);else switch(t){case N.EXCLAMATION_MARK:{this.state=M.MARKUP_DECLARATION_OPEN;break}case N.SOLIDUS:{this.state=M.END_TAG_OPEN;break}case N.QUESTION_MARK:{this._err(G.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=M.BOGUS_COMMENT,this._stateBogusComment(t);break}case N.EOF:{this._err(G.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(G.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=M.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(qa(t))this._createEndTagToken(),this.state=M.TAG_NAME,this._stateTagName(t);else switch(t){case N.GREATER_THAN_SIGN:{this._err(G.missingEndTagName),this.state=M.DATA;break}case N.EOF:{this._err(G.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(G.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=M.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const r=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=M.BEFORE_ATTRIBUTE_NAME;break}case N.SOLIDUS:{this.state=M.SELF_CLOSING_START_TAG;break}case N.GREATER_THAN_SIGN:{this.state=M.DATA,this.emitCurrentTagToken();break}case N.NULL:{this._err(G.unexpectedNullCharacter),r.tagName+=Dt;break}case N.EOF:{this._err(G.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(Ro(t)?Sl(t):t)}}_stateRcdataLessThanSign(t){t===N.SOLIDUS?this.state=M.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=M.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){qa(t)?(this.state=M.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=M.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=M.BEFORE_ATTRIBUTE_NAME,!1;case N.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=M.SELF_CLOSING_START_TAG,!1;case N.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=M.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=M.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===N.SOLIDUS?this.state=M.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=M.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){qa(t)?(this.state=M.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=M.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=M.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case N.SOLIDUS:{this.state=M.SCRIPT_DATA_END_TAG_OPEN;break}case N.EXCLAMATION_MARK:{this.state=M.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=M.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){qa(t)?(this.state=M.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=M.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=M.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===N.HYPHEN_MINUS?(this.state=M.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=M.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===N.HYPHEN_MINUS?(this.state=M.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=M.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case N.HYPHEN_MINUS:{this.state=M.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=M.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case N.NULL:{this._err(G.unexpectedNullCharacter),this._emitChars(Dt);break}case N.EOF:{this._err(G.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case N.HYPHEN_MINUS:{this.state=M.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=M.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case N.NULL:{this._err(G.unexpectedNullCharacter),this.state=M.SCRIPT_DATA_ESCAPED,this._emitChars(Dt);break}case N.EOF:{this._err(G.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=M.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case N.HYPHEN_MINUS:{this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=M.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case N.GREATER_THAN_SIGN:{this.state=M.SCRIPT_DATA,this._emitChars(">");break}case N.NULL:{this._err(G.unexpectedNullCharacter),this.state=M.SCRIPT_DATA_ESCAPED,this._emitChars(Dt);break}case N.EOF:{this._err(G.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=M.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===N.SOLIDUS?this.state=M.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:qa(t)?(this._emitChars("<"),this.state=M.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=M.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){qa(t)?(this.state=M.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=M.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=M.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Dr.SCRIPT,!1)&&_2(this.preprocessor.peek(Dr.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<Dr.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=M.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=M.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case N.HYPHEN_MINUS:{this.state=M.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=M.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case N.NULL:{this._err(G.unexpectedNullCharacter),this._emitChars(Dt);break}case N.EOF:{this._err(G.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case N.HYPHEN_MINUS:{this.state=M.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=M.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case N.NULL:{this._err(G.unexpectedNullCharacter),this.state=M.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Dt);break}case N.EOF:{this._err(G.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=M.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case N.HYPHEN_MINUS:{this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=M.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case N.GREATER_THAN_SIGN:{this.state=M.SCRIPT_DATA,this._emitChars(">");break}case N.NULL:{this._err(G.unexpectedNullCharacter),this.state=M.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Dt);break}case N.EOF:{this._err(G.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=M.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===N.SOLIDUS?(this.state=M.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=M.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Dr.SCRIPT,!1)&&_2(this.preprocessor.peek(Dr.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<Dr.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=M.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=M.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.SOLIDUS:case N.GREATER_THAN_SIGN:case N.EOF:{this.state=M.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case N.EQUALS_SIGN:{this._err(G.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=M.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=M.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:case N.SOLIDUS:case N.GREATER_THAN_SIGN:case N.EOF:{this._leaveAttrName(),this.state=M.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case N.EQUALS_SIGN:{this._leaveAttrName(),this.state=M.BEFORE_ATTRIBUTE_VALUE;break}case N.QUOTATION_MARK:case N.APOSTROPHE:case N.LESS_THAN_SIGN:{this._err(G.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case N.NULL:{this._err(G.unexpectedNullCharacter),this.currentAttr.name+=Dt;break}default:this.currentAttr.name+=String.fromCodePoint(Ro(t)?Sl(t):t)}}_stateAfterAttributeName(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.SOLIDUS:{this.state=M.SELF_CLOSING_START_TAG;break}case N.EQUALS_SIGN:{this.state=M.BEFORE_ATTRIBUTE_VALUE;break}case N.GREATER_THAN_SIGN:{this.state=M.DATA,this.emitCurrentTagToken();break}case N.EOF:{this._err(G.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=M.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.QUOTATION_MARK:{this.state=M.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case N.APOSTROPHE:{this.state=M.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err(G.missingAttributeValue),this.state=M.DATA,this.emitCurrentTagToken();break}default:this.state=M.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case N.QUOTATION_MARK:{this.state=M.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case N.AMPERSAND:{this._startCharacterReference();break}case N.NULL:{this._err(G.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case N.EOF:{this._err(G.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case N.APOSTROPHE:{this.state=M.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case N.AMPERSAND:{this._startCharacterReference();break}case N.NULL:{this._err(G.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case N.EOF:{this._err(G.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this._leaveAttrValue(),this.state=M.BEFORE_ATTRIBUTE_NAME;break}case N.AMPERSAND:{this._startCharacterReference();break}case N.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=M.DATA,this.emitCurrentTagToken();break}case N.NULL:{this._err(G.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case N.QUOTATION_MARK:case N.APOSTROPHE:case N.LESS_THAN_SIGN:case N.EQUALS_SIGN:case N.GRAVE_ACCENT:{this._err(G.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case N.EOF:{this._err(G.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this._leaveAttrValue(),this.state=M.BEFORE_ATTRIBUTE_NAME;break}case N.SOLIDUS:{this._leaveAttrValue(),this.state=M.SELF_CLOSING_START_TAG;break}case N.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=M.DATA,this.emitCurrentTagToken();break}case N.EOF:{this._err(G.eofInTag),this._emitEOFToken();break}default:this._err(G.missingWhitespaceBetweenAttributes),this.state=M.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case N.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=M.DATA,this.emitCurrentTagToken();break}case N.EOF:{this._err(G.eofInTag),this._emitEOFToken();break}default:this._err(G.unexpectedSolidusInTag),this.state=M.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const r=this.currentToken;switch(t){case N.GREATER_THAN_SIGN:{this.state=M.DATA,this.emitCurrentComment(r);break}case N.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case N.NULL:{this._err(G.unexpectedNullCharacter),r.data+=Dt;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Dr.DASH_DASH,!0)?(this._createCommentToken(Dr.DASH_DASH.length+1),this.state=M.COMMENT_START):this._consumeSequenceIfMatch(Dr.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Dr.DOCTYPE.length+1),this.state=M.DOCTYPE):this._consumeSequenceIfMatch(Dr.CDATA_START,!0)?this.inForeignNode?this.state=M.CDATA_SECTION:(this._err(G.cdataInHtmlContent),this._createCommentToken(Dr.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=M.BOGUS_COMMENT):this._ensureHibernation()||(this._err(G.incorrectlyOpenedComment),this._createCommentToken(2),this.state=M.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case N.HYPHEN_MINUS:{this.state=M.COMMENT_START_DASH;break}case N.GREATER_THAN_SIGN:{this._err(G.abruptClosingOfEmptyComment),this.state=M.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=M.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const r=this.currentToken;switch(t){case N.HYPHEN_MINUS:{this.state=M.COMMENT_END;break}case N.GREATER_THAN_SIGN:{this._err(G.abruptClosingOfEmptyComment),this.state=M.DATA,this.emitCurrentComment(r);break}case N.EOF:{this._err(G.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=M.COMMENT,this._stateComment(t)}}_stateComment(t){const r=this.currentToken;switch(t){case N.HYPHEN_MINUS:{this.state=M.COMMENT_END_DASH;break}case N.LESS_THAN_SIGN:{r.data+="<",this.state=M.COMMENT_LESS_THAN_SIGN;break}case N.NULL:{this._err(G.unexpectedNullCharacter),r.data+=Dt;break}case N.EOF:{this._err(G.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const r=this.currentToken;switch(t){case N.EXCLAMATION_MARK:{r.data+="!",this.state=M.COMMENT_LESS_THAN_SIGN_BANG;break}case N.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=M.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===N.HYPHEN_MINUS?this.state=M.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=M.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===N.HYPHEN_MINUS?this.state=M.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=M.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==N.GREATER_THAN_SIGN&&t!==N.EOF&&this._err(G.nestedComment),this.state=M.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const r=this.currentToken;switch(t){case N.HYPHEN_MINUS:{this.state=M.COMMENT_END;break}case N.EOF:{this._err(G.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=M.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const r=this.currentToken;switch(t){case N.GREATER_THAN_SIGN:{this.state=M.DATA,this.emitCurrentComment(r);break}case N.EXCLAMATION_MARK:{this.state=M.COMMENT_END_BANG;break}case N.HYPHEN_MINUS:{r.data+="-";break}case N.EOF:{this._err(G.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=M.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const r=this.currentToken;switch(t){case N.HYPHEN_MINUS:{r.data+="--!",this.state=M.COMMENT_END_DASH;break}case N.GREATER_THAN_SIGN:{this._err(G.incorrectlyClosedComment),this.state=M.DATA,this.emitCurrentComment(r);break}case N.EOF:{this._err(G.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=M.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=M.BEFORE_DOCTYPE_NAME;break}case N.GREATER_THAN_SIGN:{this.state=M.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case N.EOF:{this._err(G.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(G.missingWhitespaceBeforeDoctypeName),this.state=M.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Ro(t))this._createDoctypeToken(String.fromCharCode(Sl(t))),this.state=M.DOCTYPE_NAME;else switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.NULL:{this._err(G.unexpectedNullCharacter),this._createDoctypeToken(Dt),this.state=M.DOCTYPE_NAME;break}case N.GREATER_THAN_SIGN:{this._err(G.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=M.DATA;break}case N.EOF:{this._err(G.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=M.DOCTYPE_NAME}}_stateDoctypeName(t){const r=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=M.AFTER_DOCTYPE_NAME;break}case N.GREATER_THAN_SIGN:{this.state=M.DATA,this.emitCurrentDoctype(r);break}case N.NULL:{this._err(G.unexpectedNullCharacter),r.name+=Dt;break}case N.EOF:{this._err(G.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(Ro(t)?Sl(t):t)}}_stateAfterDoctypeName(t){const r=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.GREATER_THAN_SIGN:{this.state=M.DATA,this.emitCurrentDoctype(r);break}case N.EOF:{this._err(G.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Dr.PUBLIC,!1)?this.state=M.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Dr.SYSTEM,!1)?this.state=M.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(G.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=M.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const r=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=M.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case N.QUOTATION_MARK:{this._err(G.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=M.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{this._err(G.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=M.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err(G.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=M.DATA,this.emitCurrentDoctype(r);break}case N.EOF:{this._err(G.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(G.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=M.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.QUOTATION_MARK:{r.publicId="",this.state=M.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{r.publicId="",this.state=M.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err(G.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=M.DATA,this.emitCurrentDoctype(r);break}case N.EOF:{this._err(G.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(G.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=M.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case N.QUOTATION_MARK:{this.state=M.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case N.NULL:{this._err(G.unexpectedNullCharacter),r.publicId+=Dt;break}case N.GREATER_THAN_SIGN:{this._err(G.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=M.DATA;break}case N.EOF:{this._err(G.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case N.APOSTROPHE:{this.state=M.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case N.NULL:{this._err(G.unexpectedNullCharacter),r.publicId+=Dt;break}case N.GREATER_THAN_SIGN:{this._err(G.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=M.DATA;break}case N.EOF:{this._err(G.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=M.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case N.GREATER_THAN_SIGN:{this.state=M.DATA,this.emitCurrentDoctype(r);break}case N.QUOTATION_MARK:{this._err(G.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=M.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{this._err(G.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=M.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case N.EOF:{this._err(G.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(G.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=M.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const r=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=M.DATA;break}case N.QUOTATION_MARK:{r.systemId="",this.state=M.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{r.systemId="",this.state=M.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case N.EOF:{this._err(G.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(G.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=M.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const r=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=M.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case N.QUOTATION_MARK:{this._err(G.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=M.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{this._err(G.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=M.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err(G.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=M.DATA,this.emitCurrentDoctype(r);break}case N.EOF:{this._err(G.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(G.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=M.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.QUOTATION_MARK:{r.systemId="",this.state=M.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{r.systemId="",this.state=M.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err(G.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=M.DATA,this.emitCurrentDoctype(r);break}case N.EOF:{this._err(G.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(G.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=M.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case N.QUOTATION_MARK:{this.state=M.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case N.NULL:{this._err(G.unexpectedNullCharacter),r.systemId+=Dt;break}case N.GREATER_THAN_SIGN:{this._err(G.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=M.DATA;break}case N.EOF:{this._err(G.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case N.APOSTROPHE:{this.state=M.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case N.NULL:{this._err(G.unexpectedNullCharacter),r.systemId+=Dt;break}case N.GREATER_THAN_SIGN:{this._err(G.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=M.DATA;break}case N.EOF:{this._err(G.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=M.DATA;break}case N.EOF:{this._err(G.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(G.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=M.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const r=this.currentToken;switch(t){case N.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=M.DATA;break}case N.NULL:{this._err(G.unexpectedNullCharacter);break}case N.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case N.RIGHT_SQUARE_BRACKET:{this.state=M.CDATA_SECTION_BRACKET;break}case N.EOF:{this._err(G.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===N.RIGHT_SQUARE_BRACKET?this.state=M.CDATA_SECTION_END:(this._emitChars("]"),this.state=M.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case N.GREATER_THAN_SIGN:{this.state=M.DATA;break}case N.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=M.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(N.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&k2(this.preprocessor.peek(1))?M.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){k2(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===N.SEMICOLON&&this._err(G.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const S5=new Set([m.DD,m.DT,m.LI,m.OPTGROUP,m.OPTION,m.P,m.RB,m.RP,m.RT,m.RTC]),S2=new Set([...S5,m.CAPTION,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]),bc=new Set([m.APPLET,m.CAPTION,m.HTML,m.MARQUEE,m.OBJECT,m.TABLE,m.TD,m.TEMPLATE,m.TH]),lD=new Set([...bc,m.OL,m.UL]),cD=new Set([...bc,m.BUTTON]),A2=new Set([m.ANNOTATION_XML,m.MI,m.MN,m.MO,m.MS,m.MTEXT]),C2=new Set([m.DESC,m.FOREIGN_OBJECT,m.TITLE]),dD=new Set([m.TR,m.TEMPLATE,m.HTML]),hD=new Set([m.TBODY,m.TFOOT,m.THEAD,m.TEMPLATE,m.HTML]),fD=new Set([m.TABLE,m.TEMPLATE,m.HTML]),pD=new Set([m.TD,m.TH]);class mD{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=m.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===m.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===re.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){const n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){const a=this._indexOf(t)+1;this.items.splice(a,0,r),this.tagIDs.splice(a,0,n),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==re.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){const r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(If,re.HTML)}popUntilTableCellPopped(){this.popUntilPopped(pD,re.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(fD,re.HTML)}clearBackToTableBodyContext(){this.clearBackTo(hD,re.HTML)}clearBackToTableRowContext(){this.clearBackTo(dD,re.HTML)}remove(t){const r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===m.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===m.HTML}hasInDynamicScope(t,r){for(let n=this.stackTop;n>=0;n--){const a=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case re.HTML:{if(a===t)return!0;if(r.has(a))return!1;break}case re.SVG:{if(C2.has(a))return!1;break}case re.MATHML:{if(A2.has(a))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,bc)}hasInListItemScope(t){return this.hasInDynamicScope(t,lD)}hasInButtonScope(t){return this.hasInDynamicScope(t,cD)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case re.HTML:{if(If.has(r))return!0;if(bc.has(r))return!1;break}case re.SVG:{if(C2.has(r))return!1;break}case re.MATHML:{if(A2.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===re.HTML)switch(this.tagIDs[r]){case t:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===re.HTML)switch(this.tagIDs[t]){case m.TBODY:case m.THEAD:case m.TFOOT:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===re.HTML)switch(this.tagIDs[r]){case t:return!0;case m.OPTION:case m.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&S5.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&S2.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&S2.has(this.currentTagId);)this.pop()}}const Dd=3;var Vn;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Vn||(Vn={}));const I2={type:Vn.Marker};class gD{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){const n=[],a=r.length,i=this.treeAdapter.getTagName(t),s=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const u=this.entries[o];if(u.type===Vn.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===i&&this.treeAdapter.getNamespaceURI(l)===s){const c=this.treeAdapter.getAttrList(l);c.length===a&&n.push({idx:o,attrs:c})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<Dd)return;const r=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,r);if(n.length<Dd)return;const a=new Map(r.map(s=>[s.name,s.value]));let i=0;for(let s=0;s<n.length;s++){const o=n[s];o.attrs.every(u=>a.get(u.name)===u.value)&&(i+=1,i>=Dd&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(I2)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:Vn.Element,element:t,token:r})}insertElementAfterBookmark(t,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:Vn.Element,element:t,token:r})}removeEntry(t){const r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const t=this.entries.indexOf(I2);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const r=this.entries.find(n=>n.type===Vn.Marker||this.treeAdapter.getTagName(n.element)===t);return r&&r.type===Vn.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===Vn.Element&&r.element===t)}}const Wa={createDocument(){return{nodeName:"#document",mode:un.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){const n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,n){const a=e.childNodes.find(i=>i.nodeName==="#documentType");if(a)a.name=t,a.publicId=r,a.systemId=n;else{const i={nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null};Wa.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const r=e.childNodes[e.childNodes.length-1];if(Wa.isTextNode(r)){r.value+=t;return}}Wa.appendChild(e,Wa.createTextNode(t))},insertTextBefore(e,t,r){const n=e.childNodes[e.childNodes.indexOf(r)-1];n&&Wa.isTextNode(n)?n.value+=t:Wa.insertBefore(e,Wa.createTextNode(t),r)},adoptAttributes(e,t){const r=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},A5="html",yD="about:legacy-compat",bD="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",C5=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],vD=[...C5,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],xD=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),I5=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],wD=[...I5,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function N2(e,t){return t.some(r=>e.startsWith(r))}function TD(e){return e.name===A5&&e.publicId===null&&(e.systemId===null||e.systemId===yD)}function ED(e){if(e.name!==A5)return un.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===bD)return un.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),xD.has(r))return un.QUIRKS;let n=t===null?vD:C5;if(N2(r,n))return un.QUIRKS;if(n=t===null?I5:wD,N2(r,n))return un.LIMITED_QUIRKS}return un.NO_QUIRKS}const R2={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},kD="definitionurl",_D="definitionURL",SD=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),AD=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:re.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:re.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:re.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:re.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:re.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:re.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:re.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:re.XML}],["xml:space",{prefix:"xml",name:"space",namespace:re.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:re.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:re.XMLNS}]]),CD=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),ID=new Set([m.B,m.BIG,m.BLOCKQUOTE,m.BODY,m.BR,m.CENTER,m.CODE,m.DD,m.DIV,m.DL,m.DT,m.EM,m.EMBED,m.H1,m.H2,m.H3,m.H4,m.H5,m.H6,m.HEAD,m.HR,m.I,m.IMG,m.LI,m.LISTING,m.MENU,m.META,m.NOBR,m.OL,m.P,m.PRE,m.RUBY,m.S,m.SMALL,m.SPAN,m.STRONG,m.STRIKE,m.SUB,m.SUP,m.TABLE,m.TT,m.U,m.UL,m.VAR]);function ND(e){const t=e.tagID;return t===m.FONT&&e.attrs.some(({name:n})=>n===Mi.COLOR||n===Mi.SIZE||n===Mi.FACE)||ID.has(t)}function N5(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===kD){e.attrs[t].name=_D;break}}function R5(e){for(let t=0;t<e.attrs.length;t++){const r=SD.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}function Pm(e){for(let t=0;t<e.attrs.length;t++){const r=AD.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}function RD(e){const t=CD.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Ks(e.tagName))}function OD(e,t){return t===re.MATHML&&(e===m.MI||e===m.MO||e===m.MN||e===m.MS||e===m.MTEXT)}function MD(e,t,r){if(t===re.MATHML&&e===m.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===Mi.ENCODING){const a=r[n].value.toLowerCase();return a===R2.TEXT_HTML||a===R2.APPLICATION_XML}}return t===re.SVG&&(e===m.FOREIGN_OBJECT||e===m.DESC||e===m.TITLE)}function PD(e,t,r,n){return(!n||n===re.HTML)&&MD(e,t,r)||(!n||n===re.MATHML)&&OD(e,t)}const DD="hidden",LD=8,FD=3;var j;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(j||(j={}));const BD={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},O5=new Set([m.TABLE,m.TBODY,m.TFOOT,m.THEAD,m.TR]),O2={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Wa,onParseError:null};class M2{constructor(t,r,n=null,a=null){this.fragmentContext=n,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=j.INITIAL,this.originalInsertionMode=j.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...O2,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new uD(this.options,this),this.activeFormattingElements=new gD(this.treeAdapter),this.fragmentContextID=n?Ks(this.treeAdapter.getTagName(n)):m.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new mD(this.document,this.treeAdapter,this)}static parse(t,r){const n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){const n={...O2,...r};t??(t=n.treeAdapter.createElement(H.TEMPLATE,re.HTML,[]));const a=n.treeAdapter.createElement("documentmock",re.HTML,[]),i=new this(n,a,t);return i.fragmentContextID===m.TEMPLATE&&i.tmplInsertionModeStack.unshift(j.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var a;if(!this.onParseError)return;const i=(a=t.location)!==null&&a!==void 0?a:BD,s={code:r,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:n?i.startLine:i.endLine,endCol:n?i.startCol:i.endCol,endOffset:n?i.startOffset:i.endOffset};this.onParseError(s)}onItemPush(t,r,n){var a,i;(i=(a=this.treeAdapter).onItemPush)===null||i===void 0||i.call(a,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(n=this.treeAdapter).onItemPop)===null||a===void 0||a.call(n,t,this.openElements.current),r){let i,s;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,s=this.fragmentContextID):{current:i,currentTagId:s}=this.openElements,this._setContextModes(i,s)}}_setContextModes(t,r){const n=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===re.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,re.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=j.TEXT}switchToPlaintextParsing(){this.insertionMode=j.TEXT,this.originalInsertionMode=j.IN_BODY,this.tokenizer.state=Yt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===H.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==re.HTML))switch(this.fragmentContextID){case m.TITLE:case m.TEXTAREA:{this.tokenizer.state=Yt.RCDATA;break}case m.STYLE:case m.XMP:case m.IFRAME:case m.NOEMBED:case m.NOFRAMES:case m.NOSCRIPT:{this.tokenizer.state=Yt.RAWTEXT;break}case m.SCRIPT:{this.tokenizer.state=Yt.SCRIPT_DATA;break}case m.PLAINTEXT:{this.tokenizer.state=Yt.PLAINTEXT;break}}}_setDocumentType(t){const r=t.name||"",n=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,a),t.location){const s=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));s&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,t)}}_appendElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){const n=this.treeAdapter.createElement(t,re.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){const r=this.treeAdapter.createElement(t.tagName,re.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(H.HTML,re.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,m.HTML)}_appendCommentNode(t,r){const n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(r),i=n?a.lastIndexOf(n):a.length,s=a[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){const n=r.location,a=this.treeAdapter.getTagName(t),i=r.type===et.END_TAG&&a===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,i)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===m.SVG&&this.treeAdapter.getTagName(r)===H.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===re.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===m.MGLYPH||t.tagID===m.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,re.HTML)}_processToken(t){switch(t.type){case et.CHARACTER:{this.onCharacter(t);break}case et.NULL_CHARACTER:{this.onNullCharacter(t);break}case et.COMMENT:{this.onComment(t);break}case et.DOCTYPE:{this.onDoctype(t);break}case et.START_TAG:{this._processStartTag(t);break}case et.END_TAG:{this.onEndTag(t);break}case et.EOF:{this.onEof(t);break}case et.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){const a=this.treeAdapter.getNamespaceURI(r),i=this.treeAdapter.getAttrList(r);return PD(t,a,i,n)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const r=this.activeFormattingElements.entries.findIndex(a=>a.type===Vn.Marker||this.openElements.contains(a.element)),n=r===-1?t-1:r-1;for(let a=n;a>=0;a--){const i=this.activeFormattingElements.entries[a];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=j.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(m.P),this.openElements.popUntilTagNamePopped(m.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case m.TR:{this.insertionMode=j.IN_ROW;return}case m.TBODY:case m.THEAD:case m.TFOOT:{this.insertionMode=j.IN_TABLE_BODY;return}case m.CAPTION:{this.insertionMode=j.IN_CAPTION;return}case m.COLGROUP:{this.insertionMode=j.IN_COLUMN_GROUP;return}case m.TABLE:{this.insertionMode=j.IN_TABLE;return}case m.BODY:{this.insertionMode=j.IN_BODY;return}case m.FRAMESET:{this.insertionMode=j.IN_FRAMESET;return}case m.SELECT:{this._resetInsertionModeForSelect(t);return}case m.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case m.HTML:{this.insertionMode=this.headElement?j.AFTER_HEAD:j.BEFORE_HEAD;return}case m.TD:case m.TH:{if(t>0){this.insertionMode=j.IN_CELL;return}break}case m.HEAD:{if(t>0){this.insertionMode=j.IN_HEAD;return}break}}this.insertionMode=j.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===m.TEMPLATE)break;if(n===m.TABLE){this.insertionMode=j.IN_SELECT_IN_TABLE;return}}this.insertionMode=j.IN_SELECT}_isElementCausesFosterParenting(t){return O5.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case m.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===re.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case m.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){const n=this.treeAdapter.getNamespaceURI(t);return aD[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){pF(this,t);return}switch(this.insertionMode){case j.INITIAL:{ho(this,t);break}case j.BEFORE_HTML:{Vo(this,t);break}case j.BEFORE_HEAD:{qo(this,t);break}case j.IN_HEAD:{Wo(this,t);break}case j.IN_HEAD_NO_SCRIPT:{Zo(this,t);break}case j.AFTER_HEAD:{Go(this,t);break}case j.IN_BODY:case j.IN_CAPTION:case j.IN_CELL:case j.IN_TEMPLATE:{P5(this,t);break}case j.TEXT:case j.IN_SELECT:case j.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case j.IN_TABLE:case j.IN_TABLE_BODY:case j.IN_ROW:{Ld(this,t);break}case j.IN_TABLE_TEXT:{$5(this,t);break}case j.IN_COLUMN_GROUP:{vc(this,t);break}case j.AFTER_BODY:{xc(this,t);break}case j.AFTER_AFTER_BODY:{Yl(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){fF(this,t);return}switch(this.insertionMode){case j.INITIAL:{ho(this,t);break}case j.BEFORE_HTML:{Vo(this,t);break}case j.BEFORE_HEAD:{qo(this,t);break}case j.IN_HEAD:{Wo(this,t);break}case j.IN_HEAD_NO_SCRIPT:{Zo(this,t);break}case j.AFTER_HEAD:{Go(this,t);break}case j.TEXT:{this._insertCharacters(t);break}case j.IN_TABLE:case j.IN_TABLE_BODY:case j.IN_ROW:{Ld(this,t);break}case j.IN_COLUMN_GROUP:{vc(this,t);break}case j.AFTER_BODY:{xc(this,t);break}case j.AFTER_AFTER_BODY:{Yl(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Nf(this,t);return}switch(this.insertionMode){case j.INITIAL:case j.BEFORE_HTML:case j.BEFORE_HEAD:case j.IN_HEAD:case j.IN_HEAD_NO_SCRIPT:case j.AFTER_HEAD:case j.IN_BODY:case j.IN_TABLE:case j.IN_CAPTION:case j.IN_COLUMN_GROUP:case j.IN_TABLE_BODY:case j.IN_ROW:case j.IN_CELL:case j.IN_SELECT:case j.IN_SELECT_IN_TABLE:case j.IN_TEMPLATE:case j.IN_FRAMESET:case j.AFTER_FRAMESET:{Nf(this,t);break}case j.IN_TABLE_TEXT:{fo(this,t);break}case j.AFTER_BODY:{qD(this,t);break}case j.AFTER_AFTER_BODY:case j.AFTER_AFTER_FRAMESET:{WD(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case j.INITIAL:{ZD(this,t);break}case j.BEFORE_HEAD:case j.IN_HEAD:case j.IN_HEAD_NO_SCRIPT:case j.AFTER_HEAD:{this._err(t,G.misplacedDoctype);break}case j.IN_TABLE_TEXT:{fo(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,G.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?mF(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case j.INITIAL:{ho(this,t);break}case j.BEFORE_HTML:{GD(this,t);break}case j.BEFORE_HEAD:{KD(this,t);break}case j.IN_HEAD:{Pn(this,t);break}case j.IN_HEAD_NO_SCRIPT:{QD(this,t);break}case j.AFTER_HEAD:{tL(this,t);break}case j.IN_BODY:{vr(this,t);break}case j.IN_TABLE:{Is(this,t);break}case j.IN_TABLE_TEXT:{fo(this,t);break}case j.IN_CAPTION:{XL(this,t);break}case j.IN_COLUMN_GROUP:{Fm(this,t);break}case j.IN_TABLE_BODY:{S0(this,t);break}case j.IN_ROW:{A0(this,t);break}case j.IN_CELL:{eF(this,t);break}case j.IN_SELECT:{H5(this,t);break}case j.IN_SELECT_IN_TABLE:{rF(this,t);break}case j.IN_TEMPLATE:{aF(this,t);break}case j.AFTER_BODY:{sF(this,t);break}case j.IN_FRAMESET:{oF(this,t);break}case j.AFTER_FRAMESET:{lF(this,t);break}case j.AFTER_AFTER_BODY:{dF(this,t);break}case j.AFTER_AFTER_FRAMESET:{hF(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?gF(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case j.INITIAL:{ho(this,t);break}case j.BEFORE_HTML:{YD(this,t);break}case j.BEFORE_HEAD:{XD(this,t);break}case j.IN_HEAD:{JD(this,t);break}case j.IN_HEAD_NO_SCRIPT:{eL(this,t);break}case j.AFTER_HEAD:{rL(this,t);break}case j.IN_BODY:{_0(this,t);break}case j.TEXT:{zL(this,t);break}case j.IN_TABLE:{lu(this,t);break}case j.IN_TABLE_TEXT:{fo(this,t);break}case j.IN_CAPTION:{JL(this,t);break}case j.IN_COLUMN_GROUP:{QL(this,t);break}case j.IN_TABLE_BODY:{Rf(this,t);break}case j.IN_ROW:{U5(this,t);break}case j.IN_CELL:{tF(this,t);break}case j.IN_SELECT:{V5(this,t);break}case j.IN_SELECT_IN_TABLE:{nF(this,t);break}case j.IN_TEMPLATE:{iF(this,t);break}case j.AFTER_BODY:{W5(this,t);break}case j.IN_FRAMESET:{uF(this,t);break}case j.AFTER_FRAMESET:{cF(this,t);break}case j.AFTER_AFTER_BODY:{Yl(this,t);break}}}onEof(t){switch(this.insertionMode){case j.INITIAL:{ho(this,t);break}case j.BEFORE_HTML:{Vo(this,t);break}case j.BEFORE_HEAD:{qo(this,t);break}case j.IN_HEAD:{Wo(this,t);break}case j.IN_HEAD_NO_SCRIPT:{Zo(this,t);break}case j.AFTER_HEAD:{Go(this,t);break}case j.IN_BODY:case j.IN_TABLE:case j.IN_CAPTION:case j.IN_COLUMN_GROUP:case j.IN_TABLE_BODY:case j.IN_ROW:case j.IN_CELL:case j.IN_SELECT:case j.IN_SELECT_IN_TABLE:{B5(this,t);break}case j.TEXT:{UL(this,t);break}case j.IN_TABLE_TEXT:{fo(this,t);break}case j.IN_TEMPLATE:{q5(this,t);break}case j.AFTER_BODY:case j.IN_FRAMESET:case j.AFTER_FRAMESET:case j.AFTER_AFTER_BODY:case j.AFTER_AFTER_FRAMESET:{Lm(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===N.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case j.IN_HEAD:case j.IN_HEAD_NO_SCRIPT:case j.AFTER_HEAD:case j.TEXT:case j.IN_COLUMN_GROUP:case j.IN_SELECT:case j.IN_SELECT_IN_TABLE:case j.IN_FRAMESET:case j.AFTER_FRAMESET:{this._insertCharacters(t);break}case j.IN_BODY:case j.IN_CAPTION:case j.IN_CELL:case j.IN_TEMPLATE:case j.AFTER_BODY:case j.AFTER_AFTER_BODY:case j.AFTER_AFTER_FRAMESET:{M5(this,t);break}case j.IN_TABLE:case j.IN_TABLE_BODY:case j.IN_ROW:{Ld(this,t);break}case j.IN_TABLE_TEXT:{j5(this,t);break}}}}function jD(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):F5(e,t),r}function $D(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){const a=e.openElements.items[n];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[n])&&(r=a)}return r||(e.openElements.shortenToLength(Math.max(n,0)),e.activeFormattingElements.removeEntry(t)),r}function zD(e,t,r){let n=t,a=e.openElements.getCommonAncestor(t);for(let i=0,s=a;s!==r;i++,s=a){a=e.openElements.getCommonAncestor(s);const o=e.activeFormattingElements.getElementEntry(s),u=o&&i>=FD;!o||u?(u&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(s)):(s=UD(e,o),n===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(s,n),n=s)}return n}function UD(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}function HD(e,t,r){const n=e.treeAdapter.getTagName(t),a=Ks(n);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(r);else{const i=e.treeAdapter.getNamespaceURI(t);a===m.TEMPLATE&&i===re.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function VD(e,t,r){const n=e.treeAdapter.getNamespaceURI(r.element),{token:a}=r,i=e.treeAdapter.createElement(a.tagName,n,a.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,a),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,i,a.tagID)}function Dm(e,t){for(let r=0;r<LD;r++){const n=jD(e,t);if(!n)break;const a=$D(e,n);if(!a)break;e.activeFormattingElements.bookmark=n;const i=zD(e,a,n.element),s=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(i),s&&HD(e,s,i),VD(e,a,n)}}function Nf(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function qD(e,t){e._appendCommentNode(t,e.openElements.items[0])}function WD(e,t){e._appendCommentNode(t,e.document)}function Lm(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(n);if(a&&!a.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const i=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(i);s&&!s.endTag&&e._setEndLocation(i,t)}}}}function ZD(e,t){e._setDocumentType(t);const r=t.forceQuirks?un.QUIRKS:ED(t);TD(t)||e._err(t,G.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=j.BEFORE_HTML}function ho(e,t){e._err(t,G.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,un.QUIRKS),e.insertionMode=j.BEFORE_HTML,e._processToken(t)}function GD(e,t){t.tagID===m.HTML?(e._insertElement(t,re.HTML),e.insertionMode=j.BEFORE_HEAD):Vo(e,t)}function YD(e,t){const r=t.tagID;(r===m.HTML||r===m.HEAD||r===m.BODY||r===m.BR)&&Vo(e,t)}function Vo(e,t){e._insertFakeRootElement(),e.insertionMode=j.BEFORE_HEAD,e._processToken(t)}function KD(e,t){switch(t.tagID){case m.HTML:{vr(e,t);break}case m.HEAD:{e._insertElement(t,re.HTML),e.headElement=e.openElements.current,e.insertionMode=j.IN_HEAD;break}default:qo(e,t)}}function XD(e,t){const r=t.tagID;r===m.HEAD||r===m.BODY||r===m.HTML||r===m.BR?qo(e,t):e._err(t,G.endTagWithoutMatchingOpenElement)}function qo(e,t){e._insertFakeElement(H.HEAD,m.HEAD),e.headElement=e.openElements.current,e.insertionMode=j.IN_HEAD,e._processToken(t)}function Pn(e,t){switch(t.tagID){case m.HTML:{vr(e,t);break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case m.TITLE:{e._switchToTextParsing(t,Yt.RCDATA);break}case m.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Yt.RAWTEXT):(e._insertElement(t,re.HTML),e.insertionMode=j.IN_HEAD_NO_SCRIPT);break}case m.NOFRAMES:case m.STYLE:{e._switchToTextParsing(t,Yt.RAWTEXT);break}case m.SCRIPT:{e._switchToTextParsing(t,Yt.SCRIPT_DATA);break}case m.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=j.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(j.IN_TEMPLATE);break}case m.HEAD:{e._err(t,G.misplacedStartTagForHeadElement);break}default:Wo(e,t)}}function JD(e,t){switch(t.tagID){case m.HEAD:{e.openElements.pop(),e.insertionMode=j.AFTER_HEAD;break}case m.BODY:case m.BR:case m.HTML:{Wo(e,t);break}case m.TEMPLATE:{Wi(e,t);break}default:e._err(t,G.endTagWithoutMatchingOpenElement)}}function Wi(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==m.TEMPLATE&&e._err(t,G.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,G.endTagWithoutMatchingOpenElement)}function Wo(e,t){e.openElements.pop(),e.insertionMode=j.AFTER_HEAD,e._processToken(t)}function QD(e,t){switch(t.tagID){case m.HTML:{vr(e,t);break}case m.BASEFONT:case m.BGSOUND:case m.HEAD:case m.LINK:case m.META:case m.NOFRAMES:case m.STYLE:{Pn(e,t);break}case m.NOSCRIPT:{e._err(t,G.nestedNoscriptInHead);break}default:Zo(e,t)}}function eL(e,t){switch(t.tagID){case m.NOSCRIPT:{e.openElements.pop(),e.insertionMode=j.IN_HEAD;break}case m.BR:{Zo(e,t);break}default:e._err(t,G.endTagWithoutMatchingOpenElement)}}function Zo(e,t){const r=t.type===et.EOF?G.openElementsLeftAfterEof:G.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=j.IN_HEAD,e._processToken(t)}function tL(e,t){switch(t.tagID){case m.HTML:{vr(e,t);break}case m.BODY:{e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=j.IN_BODY;break}case m.FRAMESET:{e._insertElement(t,re.HTML),e.insertionMode=j.IN_FRAMESET;break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{e._err(t,G.abandonedHeadElementChild),e.openElements.push(e.headElement,m.HEAD),Pn(e,t),e.openElements.remove(e.headElement);break}case m.HEAD:{e._err(t,G.misplacedStartTagForHeadElement);break}default:Go(e,t)}}function rL(e,t){switch(t.tagID){case m.BODY:case m.HTML:case m.BR:{Go(e,t);break}case m.TEMPLATE:{Wi(e,t);break}default:e._err(t,G.endTagWithoutMatchingOpenElement)}}function Go(e,t){e._insertFakeElement(H.BODY,m.BODY),e.insertionMode=j.IN_BODY,k0(e,t)}function k0(e,t){switch(t.type){case et.CHARACTER:{P5(e,t);break}case et.WHITESPACE_CHARACTER:{M5(e,t);break}case et.COMMENT:{Nf(e,t);break}case et.START_TAG:{vr(e,t);break}case et.END_TAG:{_0(e,t);break}case et.EOF:{B5(e,t);break}}}function M5(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function P5(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function nL(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function aL(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function iL(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,re.HTML),e.insertionMode=j.IN_FRAMESET)}function sL(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,re.HTML)}function oL(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&If.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,re.HTML)}function uL(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function lL(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,re.HTML),r||(e.formElement=e.openElements.current))}function cL(e,t){e.framesetOk=!1;const r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){const a=e.openElements.tagIDs[n];if(r===m.LI&&a===m.LI||(r===m.DD||r===m.DT)&&(a===m.DD||a===m.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==m.ADDRESS&&a!==m.DIV&&a!==m.P&&e._isSpecialElement(e.openElements.items[n],a))break}e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,re.HTML)}function dL(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.tokenizer.state=Yt.PLAINTEXT}function hL(e,t){e.openElements.hasInScope(m.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.framesetOk=!1}function fL(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(H.A);r&&(Dm(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function pL(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function mL(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(m.NOBR)&&(Dm(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function gL(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function yL(e,t){e.treeAdapter.getDocumentMode(e.document)!==un.QUIRKS&&e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=j.IN_TABLE}function D5(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,re.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function L5(e){const t=k5(e,Mi.TYPE);return t!=null&&t.toLowerCase()===DD}function bL(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,re.HTML),L5(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function vL(e,t){e._appendElement(t,re.HTML),t.ackSelfClosing=!0}function xL(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._appendElement(t,re.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function wL(e,t){t.tagName=H.IMG,t.tagID=m.IMG,D5(e,t)}function TL(e,t){e._insertElement(t,re.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Yt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=j.TEXT}function EL(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Yt.RAWTEXT)}function kL(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Yt.RAWTEXT)}function P2(e,t){e._switchToTextParsing(t,Yt.RAWTEXT)}function _L(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===j.IN_TABLE||e.insertionMode===j.IN_CAPTION||e.insertionMode===j.IN_TABLE_BODY||e.insertionMode===j.IN_ROW||e.insertionMode===j.IN_CELL?j.IN_SELECT_IN_TABLE:j.IN_SELECT}function SL(e,t){e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML)}function AL(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,re.HTML)}function CL(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(m.RTC),e._insertElement(t,re.HTML)}function IL(e,t){e._reconstructActiveFormattingElements(),N5(t),Pm(t),t.selfClosing?e._appendElement(t,re.MATHML):e._insertElement(t,re.MATHML),t.ackSelfClosing=!0}function NL(e,t){e._reconstructActiveFormattingElements(),R5(t),Pm(t),t.selfClosing?e._appendElement(t,re.SVG):e._insertElement(t,re.SVG),t.ackSelfClosing=!0}function D2(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML)}function vr(e,t){switch(t.tagID){case m.I:case m.S:case m.B:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.SMALL:case m.STRIKE:case m.STRONG:{pL(e,t);break}case m.A:{fL(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{oL(e,t);break}case m.P:case m.DL:case m.OL:case m.UL:case m.DIV:case m.DIR:case m.NAV:case m.MAIN:case m.MENU:case m.ASIDE:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.DETAILS:case m.ADDRESS:case m.ARTICLE:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{sL(e,t);break}case m.LI:case m.DD:case m.DT:{cL(e,t);break}case m.BR:case m.IMG:case m.WBR:case m.AREA:case m.EMBED:case m.KEYGEN:{D5(e,t);break}case m.HR:{xL(e,t);break}case m.RB:case m.RTC:{AL(e,t);break}case m.RT:case m.RP:{CL(e,t);break}case m.PRE:case m.LISTING:{uL(e,t);break}case m.XMP:{EL(e,t);break}case m.SVG:{NL(e,t);break}case m.HTML:{nL(e,t);break}case m.BASE:case m.LINK:case m.META:case m.STYLE:case m.TITLE:case m.SCRIPT:case m.BGSOUND:case m.BASEFONT:case m.TEMPLATE:{Pn(e,t);break}case m.BODY:{aL(e,t);break}case m.FORM:{lL(e,t);break}case m.NOBR:{mL(e,t);break}case m.MATH:{IL(e,t);break}case m.TABLE:{yL(e,t);break}case m.INPUT:{bL(e,t);break}case m.PARAM:case m.TRACK:case m.SOURCE:{vL(e,t);break}case m.IMAGE:{wL(e,t);break}case m.BUTTON:{hL(e,t);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{gL(e,t);break}case m.IFRAME:{kL(e,t);break}case m.SELECT:{_L(e,t);break}case m.OPTION:case m.OPTGROUP:{SL(e,t);break}case m.NOEMBED:case m.NOFRAMES:{P2(e,t);break}case m.FRAMESET:{iL(e,t);break}case m.TEXTAREA:{TL(e,t);break}case m.NOSCRIPT:{e.options.scriptingEnabled?P2(e,t):D2(e,t);break}case m.PLAINTEXT:{dL(e,t);break}case m.COL:case m.TH:case m.TD:case m.TR:case m.HEAD:case m.FRAME:case m.TBODY:case m.TFOOT:case m.THEAD:case m.CAPTION:case m.COLGROUP:break;default:D2(e,t)}}function RL(e,t){if(e.openElements.hasInScope(m.BODY)&&(e.insertionMode=j.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function OL(e,t){e.openElements.hasInScope(m.BODY)&&(e.insertionMode=j.AFTER_BODY,W5(e,t))}function ML(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function PL(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(m.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(m.FORM):r&&e.openElements.remove(r))}function DL(e){e.openElements.hasInButtonScope(m.P)||e._insertFakeElement(H.P,m.P),e._closePElement()}function LL(e){e.openElements.hasInListItemScope(m.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(m.LI),e.openElements.popUntilTagNamePopped(m.LI))}function FL(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function BL(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function jL(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function $L(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(H.BR,m.BR),e.openElements.pop(),e.framesetOk=!1}function F5(e,t){const r=t.tagName,n=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const i=e.openElements.items[a],s=e.openElements.tagIDs[a];if(n===s&&(n!==m.UNKNOWN||e.treeAdapter.getTagName(i)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(i,s))break}}function _0(e,t){switch(t.tagID){case m.A:case m.B:case m.I:case m.S:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.NOBR:case m.SMALL:case m.STRIKE:case m.STRONG:{Dm(e,t);break}case m.P:{DL(e);break}case m.DL:case m.UL:case m.OL:case m.DIR:case m.DIV:case m.NAV:case m.PRE:case m.MAIN:case m.MENU:case m.ASIDE:case m.BUTTON:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.ADDRESS:case m.ARTICLE:case m.DETAILS:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.LISTING:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{ML(e,t);break}case m.LI:{LL(e);break}case m.DD:case m.DT:{FL(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{BL(e);break}case m.BR:{$L(e);break}case m.BODY:{RL(e,t);break}case m.HTML:{OL(e,t);break}case m.FORM:{PL(e);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{jL(e,t);break}case m.TEMPLATE:{Wi(e,t);break}default:F5(e,t)}}function B5(e,t){e.tmplInsertionModeStack.length>0?q5(e,t):Lm(e,t)}function zL(e,t){var r;t.tagID===m.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function UL(e,t){e._err(t,G.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Ld(e,t){if(e.openElements.currentTagId!==void 0&&O5.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=j.IN_TABLE_TEXT,t.type){case et.CHARACTER:{$5(e,t);break}case et.WHITESPACE_CHARACTER:{j5(e,t);break}}else zu(e,t)}function HL(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,re.HTML),e.insertionMode=j.IN_CAPTION}function VL(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,re.HTML),e.insertionMode=j.IN_COLUMN_GROUP}function qL(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(H.COLGROUP,m.COLGROUP),e.insertionMode=j.IN_COLUMN_GROUP,Fm(e,t)}function WL(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,re.HTML),e.insertionMode=j.IN_TABLE_BODY}function ZL(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(H.TBODY,m.TBODY),e.insertionMode=j.IN_TABLE_BODY,S0(e,t)}function GL(e,t){e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function YL(e,t){L5(t)?e._appendElement(t,re.HTML):zu(e,t),t.ackSelfClosing=!0}function KL(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,re.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Is(e,t){switch(t.tagID){case m.TD:case m.TH:case m.TR:{ZL(e,t);break}case m.STYLE:case m.SCRIPT:case m.TEMPLATE:{Pn(e,t);break}case m.COL:{qL(e,t);break}case m.FORM:{KL(e,t);break}case m.TABLE:{GL(e,t);break}case m.TBODY:case m.TFOOT:case m.THEAD:{WL(e,t);break}case m.INPUT:{YL(e,t);break}case m.CAPTION:{HL(e,t);break}case m.COLGROUP:{VL(e,t);break}default:zu(e,t)}}function lu(e,t){switch(t.tagID){case m.TABLE:{e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode());break}case m.TEMPLATE:{Wi(e,t);break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:zu(e,t)}}function zu(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,k0(e,t),e.fosterParentingEnabled=r}function j5(e,t){e.pendingCharacterTokens.push(t)}function $5(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function fo(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)zu(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const z5=new Set([m.CAPTION,m.COL,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]);function XL(e,t){const r=t.tagID;z5.has(r)?e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=j.IN_TABLE,Is(e,t)):vr(e,t)}function JL(e,t){const r=t.tagID;switch(r){case m.CAPTION:case m.TABLE:{e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=j.IN_TABLE,r===m.TABLE&&lu(e,t));break}case m.BODY:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:_0(e,t)}}function Fm(e,t){switch(t.tagID){case m.HTML:{vr(e,t);break}case m.COL:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case m.TEMPLATE:{Pn(e,t);break}default:vc(e,t)}}function QL(e,t){switch(t.tagID){case m.COLGROUP:{e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=j.IN_TABLE);break}case m.TEMPLATE:{Wi(e,t);break}case m.COL:break;default:vc(e,t)}}function vc(e,t){e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=j.IN_TABLE,e._processToken(t))}function S0(e,t){switch(t.tagID){case m.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,re.HTML),e.insertionMode=j.IN_ROW;break}case m.TH:case m.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(H.TR,m.TR),e.insertionMode=j.IN_ROW,A0(e,t);break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=j.IN_TABLE,Is(e,t));break}default:Is(e,t)}}function Rf(e,t){const r=t.tagID;switch(t.tagID){case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=j.IN_TABLE);break}case m.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=j.IN_TABLE,lu(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:case m.TR:break;default:lu(e,t)}}function A0(e,t){switch(t.tagID){case m.TH:case m.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,re.HTML),e.insertionMode=j.IN_CELL,e.activeFormattingElements.insertMarker();break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=j.IN_TABLE_BODY,S0(e,t));break}default:Is(e,t)}}function U5(e,t){switch(t.tagID){case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=j.IN_TABLE_BODY);break}case m.TABLE:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=j.IN_TABLE_BODY,Rf(e,t));break}case m.TBODY:case m.TFOOT:case m.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(m.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=j.IN_TABLE_BODY,Rf(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:break;default:lu(e,t)}}function eF(e,t){const r=t.tagID;z5.has(r)?(e.openElements.hasInTableScope(m.TD)||e.openElements.hasInTableScope(m.TH))&&(e._closeTableCell(),A0(e,t)):vr(e,t)}function tF(e,t){const r=t.tagID;switch(r){case m.TD:case m.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=j.IN_ROW);break}case m.TABLE:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),U5(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:break;default:_0(e,t)}}function H5(e,t){switch(t.tagID){case m.HTML:{vr(e,t);break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._insertElement(t,re.HTML);break}case m.OPTGROUP:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._insertElement(t,re.HTML);break}case m.HR:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case m.INPUT:case m.KEYGEN:case m.TEXTAREA:case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),t.tagID!==m.SELECT&&e._processStartTag(t));break}case m.SCRIPT:case m.TEMPLATE:{Pn(e,t);break}}}function V5(e,t){switch(t.tagID){case m.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===m.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===m.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop();break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop();break}case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode());break}case m.TEMPLATE:{Wi(e,t);break}}}function rF(e,t){const r=t.tagID;r===m.CAPTION||r===m.TABLE||r===m.TBODY||r===m.TFOOT||r===m.THEAD||r===m.TR||r===m.TD||r===m.TH?(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e._processStartTag(t)):H5(e,t)}function nF(e,t){const r=t.tagID;r===m.CAPTION||r===m.TABLE||r===m.TBODY||r===m.TFOOT||r===m.THEAD||r===m.TR||r===m.TD||r===m.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e.onEndTag(t)):V5(e,t)}function aF(e,t){switch(t.tagID){case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{Pn(e,t);break}case m.CAPTION:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.tmplInsertionModeStack[0]=j.IN_TABLE,e.insertionMode=j.IN_TABLE,Is(e,t);break}case m.COL:{e.tmplInsertionModeStack[0]=j.IN_COLUMN_GROUP,e.insertionMode=j.IN_COLUMN_GROUP,Fm(e,t);break}case m.TR:{e.tmplInsertionModeStack[0]=j.IN_TABLE_BODY,e.insertionMode=j.IN_TABLE_BODY,S0(e,t);break}case m.TD:case m.TH:{e.tmplInsertionModeStack[0]=j.IN_ROW,e.insertionMode=j.IN_ROW,A0(e,t);break}default:e.tmplInsertionModeStack[0]=j.IN_BODY,e.insertionMode=j.IN_BODY,vr(e,t)}}function iF(e,t){t.tagID===m.TEMPLATE&&Wi(e,t)}function q5(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Lm(e,t)}function sF(e,t){t.tagID===m.HTML?vr(e,t):xc(e,t)}function W5(e,t){var r;if(t.tagID===m.HTML){if(e.fragmentContext||(e.insertionMode=j.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===m.HTML){e._setEndLocation(e.openElements.items[0],t);const n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else xc(e,t)}function xc(e,t){e.insertionMode=j.IN_BODY,k0(e,t)}function oF(e,t){switch(t.tagID){case m.HTML:{vr(e,t);break}case m.FRAMESET:{e._insertElement(t,re.HTML);break}case m.FRAME:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case m.NOFRAMES:{Pn(e,t);break}}}function uF(e,t){t.tagID===m.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==m.FRAMESET&&(e.insertionMode=j.AFTER_FRAMESET))}function lF(e,t){switch(t.tagID){case m.HTML:{vr(e,t);break}case m.NOFRAMES:{Pn(e,t);break}}}function cF(e,t){t.tagID===m.HTML&&(e.insertionMode=j.AFTER_AFTER_FRAMESET)}function dF(e,t){t.tagID===m.HTML?vr(e,t):Yl(e,t)}function Yl(e,t){e.insertionMode=j.IN_BODY,k0(e,t)}function hF(e,t){switch(t.tagID){case m.HTML:{vr(e,t);break}case m.NOFRAMES:{Pn(e,t);break}}}function fF(e,t){t.chars=Dt,e._insertCharacters(t)}function pF(e,t){e._insertCharacters(t),e.framesetOk=!1}function Z5(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==re.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function mF(e,t){if(ND(t))Z5(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===re.MATHML?N5(t):n===re.SVG&&(RD(t),R5(t)),Pm(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}function gF(e,t){if(t.tagID===m.P||t.tagID===m.BR){Z5(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===re.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(n);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(r);break}}}H.AREA,H.BASE,H.BASEFONT,H.BGSOUND,H.BR,H.COL,H.EMBED,H.FRAME,H.HR,H.IMG,H.INPUT,H.KEYGEN,H.LINK,H.META,H.PARAM,H.SOURCE,H.TRACK,H.WBR;const C0=G5("end"),ca=G5("start");function G5(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function yF(e){const t=ca(e),r=C0(e);if(t&&r)return{start:t,end:r}}const bF=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,vF=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),L2={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Y5(e,t){const r=IF(e),n=v5("type",{handlers:{root:xF,element:wF,text:TF,comment:X5,doctype:EF,raw:_F},unknown:SF}),a={parser:r?new M2(L2):M2.getFragmentParser(void 0,L2),handle(o){n(o,a)},stitches:!1,options:t||{}};n(e,a),Xs(a,ca());const i=r?a.parser.document:a.parser.getFragment(),s=IP(i,{file:a.options.file});return a.stitches&&Ss(s,"comment",function(o,u,l){const c=o;if(c.value.stitch&&l&&u!==void 0){const d=l.children;return d[u]=c.value.stitch,u}}),s.type==="root"&&s.children.length===1&&s.children[0].type===e.type?s.children[0]:s}function K5(e,t){let r=-1;if(e)for(;++r<e.length;)t.handle(e[r])}function xF(e,t){K5(e.children,t)}function wF(e,t){AF(e,t),K5(e.children,t),CF(e,t)}function TF(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const r={type:et.CHARACTER,chars:e.value,location:Uu(e)};Xs(t,ca(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function EF(e,t){const r={type:et.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Uu(e)};Xs(t,ca(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function kF(e,t){t.stitches=!0;const r=NF(e);if("children"in e&&"children"in r){const n=Y5({type:"root",children:e.children},t.options);r.children=n.children}X5({type:"comment",value:{stitch:r}},t)}function X5(e,t){const r=e.value,n={type:et.COMMENT,data:r,location:Uu(e)};Xs(t,ca(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function _F(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,J5(t,ca(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(bF,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const r=t.parser.tokenizer._consume();t.parser.tokenizer._callState(r)}}function SF(e,t){const r=e;if(t.options.passThrough&&t.options.passThrough.includes(r.type))kF(r,t);else{let n="";throw vF.has(r.type)&&(n=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+r.type+"` node"+n)}}function Xs(e,t){J5(e,t);const r=e.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=e.parser.tokenizer.preprocessor.line,r.location.endCol=e.parser.tokenizer.preprocessor.col+1,r.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Yt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function J5(e,t){if(t&&t.offset!==void 0){const r={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=r}}function AF(e,t){const r=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Yt.PLAINTEXT)return;Xs(t,ca(e));const n=t.parser.openElements.current;let a="namespaceURI"in n?n.namespaceURI:Zn.html;a===Zn.html&&r==="svg"&&(a=Zn.svg);const i=PP({...e,children:[]},{space:a===Zn.svg?"svg":"html"}),s={type:et.START_TAG,tagName:r,tagID:Ks(r),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in i?i.attrs:[],location:Uu(e)};t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=r}function CF(e,t){const r=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&UP.includes(r)||t.parser.tokenizer.state===Yt.PLAINTEXT)return;Xs(t,C0(e));const n={type:et.END_TAG,tagName:r,tagID:Ks(r),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Uu(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),r===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Yt.RCDATA||t.parser.tokenizer.state===Yt.RAWTEXT||t.parser.tokenizer.state===Yt.SCRIPT_DATA)&&(t.parser.tokenizer.state=Yt.DATA)}function IF(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function Uu(e){const t=ca(e)||{line:void 0,column:void 0,offset:void 0},r=C0(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}function NF(e){return"children"in e?Cs({...e,children:[]}):Cs(e)}function RF(e){return function(t,r){return Y5(t,{...e,file:r})}}const xa={eof:null,asterisk:42,underscore:95,tilde:126},Ns={attentionSideAfter:2,characterGroupPunctuation:2,characterGroupWhitespace:1},$n={data:"data",characterEscape:"characterEscape",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",strong:"strong",strongSequence:"strongSequence",strongText:"strongText"},Ar=mi(/[A-Za-z]/),br=mi(/[\dA-Za-z]/),OF=mi(/[#-'*+\--9=?A-Z^-~]/);function wc(e){return e!==null&&(e<32||e===127)}const Of=mi(/\d/),MF=mi(/[\dA-Fa-f]/),PF=mi(/[!-/:-@[-`{-~]/);function Re(e){return e!==null&&e<-2}function Et(e){return e!==null&&(e<0||e===32)}function rt(e){return e===-2||e===-1||e===32}const I0=mi(new RegExp("\\p{P}|\\p{S}","u")),Pi=mi(/\s/);function mi(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function DF(e){return e===161||e===164||e===167||e===168||e===170||e===173||e===174||e>=176&&e<=180||e>=182&&e<=186||e>=188&&e<=191||e===198||e===208||e===215||e===216||e>=222&&e<=225||e===230||e>=232&&e<=234||e===236||e===237||e===240||e===242||e===243||e>=247&&e<=250||e===252||e===254||e===257||e===273||e===275||e===283||e===294||e===295||e===299||e>=305&&e<=307||e===312||e>=319&&e<=322||e===324||e>=328&&e<=331||e===333||e===338||e===339||e===358||e===359||e===363||e===462||e===464||e===466||e===468||e===470||e===472||e===474||e===476||e===593||e===609||e===708||e===711||e>=713&&e<=715||e===717||e===720||e>=728&&e<=731||e===733||e===735||e>=768&&e<=879||e>=913&&e<=929||e>=931&&e<=937||e>=945&&e<=961||e>=963&&e<=969||e===1025||e>=1040&&e<=1103||e===1105||e===8208||e>=8211&&e<=8214||e===8216||e===8217||e===8220||e===8221||e>=8224&&e<=8226||e>=8228&&e<=8231||e===8240||e===8242||e===8243||e===8245||e===8251||e===8254||e===8308||e===8319||e>=8321&&e<=8324||e===8364||e===8451||e===8453||e===8457||e===8467||e===8470||e===8481||e===8482||e===8486||e===8491||e===8531||e===8532||e>=8539&&e<=8542||e>=8544&&e<=8555||e>=8560&&e<=8569||e===8585||e>=8592&&e<=8601||e===8632||e===8633||e===8658||e===8660||e===8679||e===8704||e===8706||e===8707||e===8711||e===8712||e===8715||e===8719||e===8721||e===8725||e===8730||e>=8733&&e<=8736||e===8739||e===8741||e>=8743&&e<=8748||e===8750||e>=8756&&e<=8759||e===8764||e===8765||e===8776||e===8780||e===8786||e===8800||e===8801||e>=8804&&e<=8807||e===8810||e===8811||e===8814||e===8815||e===8834||e===8835||e===8838||e===8839||e===8853||e===8857||e===8869||e===8895||e===8978||e>=9312&&e<=9449||e>=9451&&e<=9547||e>=9552&&e<=9587||e>=9600&&e<=9615||e>=9618&&e<=9621||e===9632||e===9633||e>=9635&&e<=9641||e===9650||e===9651||e===9654||e===9655||e===9660||e===9661||e===9664||e===9665||e>=9670&&e<=9672||e===9675||e>=9678&&e<=9681||e>=9698&&e<=9701||e===9711||e===9733||e===9734||e===9737||e===9742||e===9743||e===9756||e===9758||e===9792||e===9794||e===9824||e===9825||e>=9827&&e<=9829||e>=9831&&e<=9834||e===9836||e===9837||e===9839||e===9886||e===9887||e===9919||e>=9926&&e<=9933||e>=9935&&e<=9939||e>=9941&&e<=9953||e===9955||e===9960||e===9961||e>=9963&&e<=9969||e===9972||e>=9974&&e<=9977||e===9979||e===9980||e===9982||e===9983||e===10045||e>=10102&&e<=10111||e>=11094&&e<=11097||e>=12872&&e<=12879||e>=57344&&e<=63743||e>=65024&&e<=65039||e===65533||e>=127232&&e<=127242||e>=127248&&e<=127277||e>=127280&&e<=127337||e>=127344&&e<=127373||e===127375||e===127376||e>=127387&&e<=127404||e>=917760&&e<=917999||e>=983040&&e<=1048573||e>=1048576&&e<=1114109}function LF(e){return e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510}function FF(e){return e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9776&&e<=9783||e>=9800&&e<=9811||e===9855||e>=9866&&e<=9871||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12773||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e>=94192&&e<=94198||e>=94208&&e<=101589||e>=101631&&e<=101662||e>=101760&&e<=101874||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e>=119552&&e<=119638||e>=119648&&e<=119670||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128728||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129674||e>=129678&&e<=129734||e===129736||e>=129741&&e<=129756||e>=129759&&e<=129770||e>=129775&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}function BF(e){return DF(e)?"ambiguous":LF(e)?"fullwidth":e===8361||e>=65377&&e<=65470||e>=65474&&e<=65479||e>=65482&&e<=65487||e>=65490&&e<=65495||e>=65498&&e<=65500||e>=65512&&e<=65518?"halfwidth":e>=32&&e<=126||e===162||e===163||e===165||e===166||e===172||e===175||e>=10214&&e<=10221||e===10629||e===10630?"narrow":FF(e)?"wide":"neutral"}function jF(e){if(!Number.isSafeInteger(e))throw new TypeError(`Expected a code point, got \`${typeof e}\`.`)}function $F(e){return jF(e),BF(e)}var zF=Object.defineProperty,UF=(e,t,r)=>t in e?zF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,HF=(e,t,r)=>UF(e,t+"",r);function VF(e){return new RegExp("^\\p{Emoji_Presentation}","u").test(String.fromCodePoint(e))}function qF(e){if(!e||e<4352)return!1;switch($F(e)){case"fullwidth":case"halfwidth":return!0;case"wide":return!VF(e);case"narrow":return!1;case"ambiguous":return 917760<=e&&e<=917999?null:!1;case"neutral":return new RegExp("^\\p{sc=Hangul}","u").test(String.fromCodePoint(e))}}function WF(e,t){return t!==65025||!e||e<8216?!1:e===8216||e===8217||e===8220||e===8221}function ZF(e){return e!==null&&e>=65024&&e<=65038}var GF=Q5(new RegExp("\\p{P}|\\p{S}","u")),YF=Q5(/\s/);function Q5(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCodePoint(r))}}var Xr;(e=>{e.spaceOrPunctuation=3,e.cjk=4096,e.cjkPunctuation=4098,e.ivs=8192,e.cjkOrIvs=12288,e.nonEmojiGeneralUseVS=16384,e.variationSelector=24576,e.ivsToCjkRightShift=1})(Xr||(Xr={}));function Ts(e){if(e===xa.eof||Et(e)||YF(e))return Ns.characterGroupWhitespace;let t=0;if(e>=4352){if(ZF(e))return Xr.nonEmojiGeneralUseVS;switch(qF(e)){case null:return Xr.ivs;case!0:t|=Xr.cjk;break}}return GF(e)&&(t|=Ns.characterGroupPunctuation),t}function ew(e,t,r){if(!QF(e))return e;const n=t(),a=Ts(n);return!n||cu(a)?e:WF(n,r)?Xr.cjkPunctuation:KF(a)}function KF(e){return e&~Xr.ivs}function cu(e){return!!(e&Ns.characterGroupWhitespace)}function Tc(e){return(e&Xr.cjkPunctuation)===Ns.characterGroupPunctuation}function Mf(e){return!!(e&Xr.cjk)}function XF(e){return e===Xr.ivs}function JF(e){return!!(e&Xr.cjkOrIvs)}function QF(e){return e===Xr.nonEmojiGeneralUseVS}function F2(e){return!!(e&Xr.spaceOrPunctuation)}function tw(e){return!!(e&&e>=55296&&e<=56319)}function rw(e){return!!(e&&e>=56320&&e<=57343)}function nw(e,t,r){if(t._bufferIndex<2)return e;const a=r({start:{...t,_bufferIndex:t._bufferIndex-2},end:t}).codePointAt(0);return a&&a>=65536?a:e}function eB(e,t,r){const n=e>=65536?2:1;if(t._bufferIndex<1+n)return null;const a=t._bufferIndex-n-2,i=r({start:{...t,_bufferIndex:a>=0?a:0},end:{...t,_bufferIndex:t._bufferIndex-n}}),s=i.charCodeAt(i.length-1);if(Number.isNaN(s))return null;if(i.length<2||s<56320||57343<s)return s;const o=i.codePointAt(0);return o&&o>=65536?o:s}var aw=class{constructor(e,t,r){this.previousCode=e,this.nowPoint=t,this.sliceSerialize=r,HF(this,"cachedValue")}value(){return this.cachedValue===void 0&&(this.cachedValue=eB(this.previousCode,this.nowPoint,this.sliceSerialize)),this.cachedValue}};function iw(e,t,r){const n=r({start:t,end:{...t,_bufferIndex:t._bufferIndex+2}}).codePointAt(0);return n&&n>=65536?n:e}function pr(e,t,r,n){const a=e.length;let i=0,s;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,r=r>0?r:0,n.length<1e4)s=Array.from(n),s.unshift(t,r),e.splice(...s);else for(r&&e.splice(t,r);i<n.length;)s=n.slice(i,i+1e4),s.unshift(t,0),e.splice(...s),i+=1e4,t+=1e4}function hr(e,t){return e.length>0?(pr(e,e.length,0,t),e):t}function Js(e,t,r){const n=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!n.includes(i)&&(t=i(t,r),n.push(i))}return t}var Fd={name:"attention",resolveAll:tB,tokenize:rB};function tB(e,t){let r=-1,n,a,i,s,o,u,l,c;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const d={...e[n][1].end},h={...e[r][1].start};B2(d,-u),B2(h,u),s={type:u>1?$n.strongSequence:$n.emphasisSequence,start:d,end:{...e[n][1].end}},o={type:u>1?$n.strongSequence:$n.emphasisSequence,start:{...e[r][1].start},end:h},i={type:u>1?$n.strongText:$n.emphasisText,start:{...e[n][1].end},end:{...e[r][1].start}},a={type:u>1?$n.strong:$n.emphasis,start:{...s.start},end:{...o.end}},e[n][1].end={...s.start},e[r][1].start={...o.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=hr(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=hr(l,[["enter",a,t],["enter",s,t],["exit",s,t],["enter",i,t]]),t.parser.constructs.insideSpan.null,l=hr(l,Js(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),l=hr(l,[["exit",i,t],["enter",o,t],["exit",o,t],["exit",a,t]]),e[r][1].end.offset-e[r][1].start.offset?(c=2,l=hr(l,[["enter",e[r][1],t],["exit",e[r][1],t]])):c=0,pr(e,n-1,r-n+3,l),r=n+l.length-c-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function rB(e,t){const r=this.parser.constructs.attentionMarkers.null,{now:n,sliceSerialize:a,previous:i}=this,s=rw(i)?nw(i,n(),a):i,o=Ts(s),u=new aw(s,n(),a),l=ew(o,u.value.bind(u),s);let c;return d;function d(f){return c=f,e.enter("attentionSequence"),h(f)}function h(f){if(f===c)return e.consume(f),h;const p=e.exit("attentionSequence"),g=tw(f)?iw(f,n(),a):f,T=Ts(g),y=Tc(l),x=y||cu(l),_=Tc(T),k=_||cu(T),C=JF(l),A=!k||_&&(x||C)||r.includes(f),P=!x||y&&(k||Mf(T))||r.includes(s);return p._open=!!(c===xa.asterisk?A:A&&(F2(l)||!P)),p._close=!!(c===xa.asterisk?P:P&&(F2(T)||!A)),t(f)}}function B2(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}function nB(){return{text:{[xa.asterisk]:Fd,[xa.underscore]:Fd},insideSpan:{null:[Fd]}}}function aB(){const e=this.data();(e.micromarkExtensions||(e.micromarkExtensions=[])).push(nB())}function iB(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:i,resolveAll:a};return r==null&&(r=!0),{text:{[xa.tilde]:n},insideSpan:{null:[n]},attentionMarkers:{null:[xa.tilde]}};function a(s,o){let u=-1;for(;++u<s.length;)if(s[u][0]==="enter"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._close){let l=u;for(;l--;)if(s[l][0]==="exit"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._open&&s[u][1].end.offset-s[u][1].start.offset===s[l][1].end.offset-s[l][1].start.offset){s[u][1].type="strikethroughSequence",s[l][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},s[l][1].start),end:Object.assign({},s[u][1].end)},d={type:"strikethroughText",start:Object.assign({},s[l][1].end),end:Object.assign({},s[u][1].start)},h=[["enter",c,o],["enter",s[l][1],o],["exit",s[l][1],o],["enter",d,o]],f=o.parser.constructs.insideSpan.null;f&&pr(h,h.length,0,Js(f,s.slice(l+1,u),o)),pr(h,h.length,0,[["exit",d,o],["enter",s[u][1],o],["exit",s[u][1],o],["exit",c,o]]),pr(s,l-1,u-l+3,h),u=l+h.length-2;break}}for(u=-1;++u<s.length;)s[u][1].type==="strikethroughSequenceTemporary"&&(s[u][1].type=$n.data);return s}function i(s,o,u){const{now:l,sliceSerialize:c,previous:d}=this,h=rw(d)?nw(d,l(),c):d,f=Ts(h),p=new aw(h,l(),c),g=ew(f,p.value.bind(p),h),T=this.events;let y=0;return x;function x(k){return h===xa.tilde&&T[T.length-1][1].type!==$n.characterEscape?u(k):(s.enter("strikethroughSequenceTemporary"),_(k))}function _(k){const C=Ts(h);if(k===xa.tilde)return y>1?u(k):(s.consume(k),y++,_);if(y<2&&!r)return u(k);const A=s.exit("strikethroughSequenceTemporary"),P=tw(k)?iw(k,l(),c):k,D=Ts(P),F=Tc(g)||cu(g),U=Tc(D)||cu(D),ee=Mf(g)||XF(C);return A._open=!U||D===Ns.attentionSideAfter&&(F||ee),A._close=!F||C===Ns.attentionSideAfter&&(U||Mf(D)),o(k)}}}function sB(e){const t=this.data();(t.micromarkExtensions||(t.micromarkExtensions=[])).push(iB(e))}function j2(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,a=r.indexOf(t);for(;a!==-1;)n++,a=r.indexOf(t,a+t.length);return n}function oB(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function uB(e,t,r){const a=Du((r||{}).ignore||[]),i=lB(t);let s=-1;for(;++s<i.length;)im(e,"text",o);function o(l,c){let d=-1,h;for(;++d<c.length;){const f=c[d],p=h?h.children:void 0;if(a(f,p?p.indexOf(f):void 0,h))return;h=f}if(h)return u(l,c)}function u(l,c){const d=c[c.length-1],h=i[s][0],f=i[s][1];let p=0;const T=d.children.indexOf(l);let y=!1,x=[];h.lastIndex=0;let _=h.exec(l.value);for(;_;){const k=_.index,C={index:_.index,input:_.input,stack:[...c,l]};let A=f(..._,C);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?h.lastIndex=k+1:(p!==k&&x.push({type:"text",value:l.value.slice(p,k)}),Array.isArray(A)?x.push(...A):A&&x.push(A),p=k+_[0].length,y=!0),!h.global)break;_=h.exec(l.value)}return y?(p<l.value.length&&x.push({type:"text",value:l.value.slice(p)}),d.children.splice(T,1,...x)):x=[l],T+x.length}}function lB(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const a=r[n];t.push([cB(a[0]),dB(a[1])])}return t}function cB(e){return typeof e=="string"?new RegExp(oB(e),"g"):e}function dB(e){return typeof e=="function"?e:function(){return e}}const Bd="phrasing",jd=["autolink","link","image","label"];function hB(){return{transforms:[vB],enter:{literalAutolink:pB,literalAutolinkEmail:$d,literalAutolinkHttp:$d,literalAutolinkWww:$d},exit:{literalAutolink:bB,literalAutolinkEmail:yB,literalAutolinkHttp:mB,literalAutolinkWww:gB}}}function fB(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Bd,notInConstruct:jd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Bd,notInConstruct:jd},{character:":",before:"[ps]",after:"\\/",inConstruct:Bd,notInConstruct:jd}]}}function pB(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function $d(e){this.config.enter.autolinkProtocol.call(this,e)}function mB(e){this.config.exit.autolinkProtocol.call(this,e)}function gB(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function yB(e){this.config.exit.autolinkEmail.call(this,e)}function bB(e){this.exit(e)}function vB(e){uB(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,xB],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),wB]],{ignore:["link","linkReference"]})}function xB(e,t,r,n,a){let i="";if(!sw(a)||(/^w/i.test(t)&&(r=t+r,t="",i="http://"),!TB(r)))return!1;const s=EB(r+n);if(!s[0])return!1;const o={type:"link",title:null,url:i+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function wB(e,t,r,n){return!sw(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function TB(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function EB(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const a=j2(e,"(");let i=j2(e,")");for(;n!==-1&&a>i;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),i++;return[e,r]}function sw(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Pi(r)||I0(r))&&(!t||r!==47)}function On(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}ow.peek=OB;function kB(){this.buffer()}function _B(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function SB(){this.buffer()}function AB(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function CB(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=On(this.sliceSerialize(e)).toLowerCase(),r.label=t}function IB(e){this.exit(e)}function NB(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=On(this.sliceSerialize(e)).toLowerCase(),r.label=t}function RB(e){this.exit(e)}function OB(){return"["}function ow(e,t,r,n){const a=r.createTracker(n);let i=a.move("[^");const s=r.enter("footnoteReference"),o=r.enter("reference");return i+=a.move(r.safe(r.associationId(e),{after:"]",before:i})),o(),s(),i+=a.move("]"),i}function MB(){return{enter:{gfmFootnoteCallString:kB,gfmFootnoteCall:_B,gfmFootnoteDefinitionLabelString:SB,gfmFootnoteDefinition:AB},exit:{gfmFootnoteCallString:CB,gfmFootnoteCall:IB,gfmFootnoteDefinitionLabelString:NB,gfmFootnoteDefinition:RB}}}function PB(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:ow},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,a,i,s){const o=i.createTracker(s);let u=o.move("[^");const l=i.enter("footnoteDefinition"),c=i.enter("label");return u+=o.move(i.safe(i.associationId(n),{before:u,after:"]"})),c(),u+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),u+=o.move((t?`
`:" ")+i.indentLines(i.containerFlow(n,o.current()),t?uw:DB))),l(),u}}function DB(e,t,r){return t===0?e:uw(e,t,r)}function uw(e,t,r){return(r?"":"    ")+e}const LB=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];lw.peek=zB;function FB(){return{canContainEols:["delete"],enter:{strikethrough:jB},exit:{strikethrough:$B}}}function BB(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:LB}],handlers:{delete:lw}}}function jB(e){this.enter({type:"delete",children:[]},e)}function $B(e){this.exit(e)}function lw(e,t,r,n){const a=r.createTracker(n),i=r.enter("strikethrough");let s=a.move("~~");return s+=r.containerPhrasing(e,{...a.current(),before:s,after:"~"}),s+=a.move("~~"),i(),s}function zB(){return"~"}function UB(e){return e.length}function HB(e,t){const r=t||{},n=(r.align||[]).concat(),a=r.stringLength||UB,i=[],s=[],o=[],u=[];let l=0,c=-1;for(;++c<e.length;){const g=[],T=[];let y=-1;for(e[c].length>l&&(l=e[c].length);++y<e[c].length;){const x=VB(e[c][y]);if(r.alignDelimiters!==!1){const _=a(x);T[y]=_,(u[y]===void 0||_>u[y])&&(u[y]=_)}g.push(x)}s[c]=g,o[c]=T}let d=-1;if(typeof n=="object"&&"length"in n)for(;++d<l;)i[d]=$2(n[d]);else{const g=$2(n);for(;++d<l;)i[d]=g}d=-1;const h=[],f=[];for(;++d<l;){const g=i[d];let T="",y="";g===99?(T=":",y=":"):g===108?T=":":g===114&&(y=":");let x=r.alignDelimiters===!1?1:Math.max(1,u[d]-T.length-y.length);const _=T+"-".repeat(x)+y;r.alignDelimiters!==!1&&(x=T.length+x+y.length,x>u[d]&&(u[d]=x),f[d]=x),h[d]=_}s.splice(1,0,h),o.splice(1,0,f),c=-1;const p=[];for(;++c<s.length;){const g=s[c],T=o[c];d=-1;const y=[];for(;++d<l;){const x=g[d]||"";let _="",k="";if(r.alignDelimiters!==!1){const C=u[d]-(T[d]||0),A=i[d];A===114?_=" ".repeat(C):A===99?C%2?(_=" ".repeat(C/2+.5),k=" ".repeat(C/2-.5)):(_=" ".repeat(C/2),k=_):k=" ".repeat(C)}r.delimiterStart!==!1&&!d&&y.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&x==="")&&(r.delimiterStart!==!1||d)&&y.push(" "),r.alignDelimiters!==!1&&y.push(_),y.push(x),r.alignDelimiters!==!1&&y.push(k),r.padding!==!1&&y.push(" "),(r.delimiterEnd!==!1||d!==l-1)&&y.push("|")}p.push(r.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return p.join(`
`)}function VB(e){return e==null?"":String(e)}function $2(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function qB(e,t,r,n){const a=r.enter("blockquote"),i=r.createTracker(n);i.move("> "),i.shift(2);const s=r.indentLines(r.containerFlow(e,i.current()),WB);return a(),s}function WB(e,t,r){return">"+(r?"":" ")+e}function ZB(e,t){return z2(e,t.inConstruct,!0)&&!z2(e,t.notInConstruct,!1)}function z2(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function U2(e,t,r,n){let a=-1;for(;++a<r.unsafe.length;)if(r.unsafe[a].character===`
`&&ZB(r.stack,r.unsafe[a]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function cw(e,t){const r=String(e);let n=r.indexOf(t),a=n,i=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===a?++i>s&&(s=i):i=1,a=n+t.length,n=r.indexOf(t,a);return s}function GB(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function YB(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function KB(e,t,r,n){const a=YB(r),i=e.value||"",s=a==="`"?"GraveAccent":"Tilde";if(GB(e,r)){const d=r.enter("codeIndented"),h=r.indentLines(i,XB);return d(),h}const o=r.createTracker(n),u=a.repeat(Math.max(cw(i,a)+1,3)),l=r.enter("codeFenced");let c=o.move(u);if(e.lang){const d=r.enter(`codeFencedLang${s}`);c+=o.move(r.safe(e.lang,{before:c,after:" ",encode:["`"],...o.current()})),d()}if(e.lang&&e.meta){const d=r.enter(`codeFencedMeta${s}`);c+=o.move(" "),c+=o.move(r.safe(e.meta,{before:c,after:`
`,encode:["`"],...o.current()})),d()}return c+=o.move(`
`),i&&(c+=o.move(i+`
`)),c+=o.move(u),l(),c}function XB(e,t,r){return(r?"":"    ")+e}function Bm(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function JB(e,t,r,n){const a=Bm(r),i=a==='"'?"Quote":"Apostrophe",s=r.enter("definition");let o=r.enter("label");const u=r.createTracker(n);let l=u.move("[");return l+=u.move(r.safe(r.associationId(e),{before:l,after:"]",...u.current()})),l+=u.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(r.safe(e.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(o=r.enter("destinationRaw"),l+=u.move(r.safe(e.url,{before:l,after:e.title?" ":`
`,...u.current()}))),o(),e.title&&(o=r.enter(`title${i}`),l+=u.move(" "+a),l+=u.move(r.safe(e.title,{before:l,after:a,...u.current()})),l+=u.move(a),o()),s(),l}function QB(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function du(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Rs(e){if(e===null||Et(e)||Pi(e))return 1;if(I0(e))return 2}function Ec(e,t,r){const n=Rs(e),a=Rs(t);return n===void 0?a===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}dw.peek=ej;function dw(e,t,r,n){const a=QB(r),i=r.enter("emphasis"),s=r.createTracker(n),o=s.move(a);let u=s.move(r.containerPhrasing(e,{after:a,before:o,...s.current()}));const l=u.charCodeAt(0),c=Ec(n.before.charCodeAt(n.before.length-1),l,a);c.inside&&(u=du(l)+u.slice(1));const d=u.charCodeAt(u.length-1),h=Ec(n.after.charCodeAt(0),d,a);h.inside&&(u=u.slice(0,-1)+du(d));const f=s.move(a);return i(),r.attentionEncodeSurroundingInfo={after:h.outside,before:c.outside},o+u+f}function ej(e,t,r){return r.options.emphasis||"*"}const tj={};function jm(e,t){const r=tj,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,a=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return hw(e,n,a)}function hw(e,t,r){if(rj(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return H2(e.children,t,r)}return Array.isArray(e)?H2(e,t,r):""}function H2(e,t,r){const n=[];let a=-1;for(;++a<e.length;)n[a]=hw(e[a],t,r);return n.join("")}function rj(e){return!!(e&&typeof e=="object")}function nj(e,t){let r=!1;return Ss(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,hf}),!!((!e.depth||e.depth<3)&&jm(e)&&(t.options.setext||r))}function aj(e,t,r,n){const a=Math.max(Math.min(6,e.depth||1),1),i=r.createTracker(n);if(nj(e,r)){const c=r.enter("headingSetext"),d=r.enter("phrasing"),h=r.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return d(),c(),h+`
`+(a===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(a),o=r.enter("headingAtx"),u=r.enter("phrasing");i.move(s+" ");let l=r.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(l)&&(l=du(l.charCodeAt(0))+l.slice(1)),l=l?s+" "+l:s,r.options.closeAtx&&(l+=" "+s),u(),o(),l}fw.peek=ij;function fw(e){return e.value||""}function ij(){return"<"}pw.peek=sj;function pw(e,t,r,n){const a=Bm(r),i=a==='"'?"Quote":"Apostrophe",s=r.enter("image");let o=r.enter("label");const u=r.createTracker(n);let l=u.move("![");return l+=u.move(r.safe(e.alt,{before:l,after:"]",...u.current()})),l+=u.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(r.safe(e.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(o=r.enter("destinationRaw"),l+=u.move(r.safe(e.url,{before:l,after:e.title?" ":")",...u.current()}))),o(),e.title&&(o=r.enter(`title${i}`),l+=u.move(" "+a),l+=u.move(r.safe(e.title,{before:l,after:a,...u.current()})),l+=u.move(a),o()),l+=u.move(")"),s(),l}function sj(){return"!"}mw.peek=oj;function mw(e,t,r,n){const a=e.referenceType,i=r.enter("imageReference");let s=r.enter("label");const o=r.createTracker(n);let u=o.move("![");const l=r.safe(e.alt,{before:u,after:"]",...o.current()});u+=o.move(l+"]["),s();const c=r.stack;r.stack=[],s=r.enter("reference");const d=r.safe(r.associationId(e),{before:u,after:"]",...o.current()});return s(),r.stack=c,i(),a==="full"||!l||l!==d?u+=o.move(d+"]"):a==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function oj(){return"!"}gw.peek=uj;function gw(e,t,r){let n=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(n);)a+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++i<r.unsafe.length;){const s=r.unsafe[i],o=r.compilePattern(s);let u;if(s.atBreak)for(;u=o.exec(n);){let l=u.index;n.charCodeAt(l)===10&&n.charCodeAt(l-1)===13&&l--,n=n.slice(0,l)+" "+n.slice(u.index+1)}}return a+n+a}function uj(){return"`"}function yw(e,t){const r=jm(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}bw.peek=lj;function bw(e,t,r,n){const a=Bm(r),i=a==='"'?"Quote":"Apostrophe",s=r.createTracker(n);let o,u;if(yw(e,r)){const c=r.stack;r.stack=[],o=r.enter("autolink");let d=s.move("<");return d+=s.move(r.containerPhrasing(e,{before:d,after:">",...s.current()})),d+=s.move(">"),o(),r.stack=c,d}o=r.enter("link"),u=r.enter("label");let l=s.move("[");return l+=s.move(r.containerPhrasing(e,{before:l,after:"](",...s.current()})),l+=s.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=r.enter("destinationLiteral"),l+=s.move("<"),l+=s.move(r.safe(e.url,{before:l,after:">",...s.current()})),l+=s.move(">")):(u=r.enter("destinationRaw"),l+=s.move(r.safe(e.url,{before:l,after:e.title?" ":")",...s.current()}))),u(),e.title&&(u=r.enter(`title${i}`),l+=s.move(" "+a),l+=s.move(r.safe(e.title,{before:l,after:a,...s.current()})),l+=s.move(a),u()),l+=s.move(")"),o(),l}function lj(e,t,r){return yw(e,r)?"<":"["}vw.peek=cj;function vw(e,t,r,n){const a=e.referenceType,i=r.enter("linkReference");let s=r.enter("label");const o=r.createTracker(n);let u=o.move("[");const l=r.containerPhrasing(e,{before:u,after:"]",...o.current()});u+=o.move(l+"]["),s();const c=r.stack;r.stack=[],s=r.enter("reference");const d=r.safe(r.associationId(e),{before:u,after:"]",...o.current()});return s(),r.stack=c,i(),a==="full"||!l||l!==d?u+=o.move(d+"]"):a==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function cj(){return"["}function $m(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function dj(e){const t=$m(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function hj(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function xw(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function fj(e,t,r,n){const a=r.enter("list"),i=r.bulletCurrent;let s=e.ordered?hj(r):$m(r);const o=e.ordered?s==="."?")":".":dj(r);let u=t&&r.bulletLastUsed?s===r.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&c&&(!c.children||!c.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(u=!0),xw(r)===s&&c){let d=-1;for(;++d<e.children.length;){const h=e.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(s=o),r.bulletCurrent=s;const l=r.containerFlow(e,n);return r.bulletLastUsed=s,r.bulletCurrent=i,a(),l}function pj(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function mj(e,t,r,n){const a=pj(r);let i=r.bulletCurrent||$m(r);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let s=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=r.createTracker(n);o.move(i+" ".repeat(s-i.length)),o.shift(s);const u=r.enter("listItem"),l=r.indentLines(r.containerFlow(e,o.current()),c);return u(),l;function c(d,h,f){return h?(f?"":" ".repeat(s))+d:(f?i:i+" ".repeat(s-i.length))+d}}function gj(e,t,r,n){const a=r.enter("paragraph"),i=r.enter("phrasing"),s=r.containerPhrasing(e,n);return i(),a(),s}const yj=Du(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function bj(e,t,r,n){return(e.children.some(function(s){return yj(s)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function vj(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}ww.peek=xj;function ww(e,t,r,n){const a=vj(r),i=r.enter("strong"),s=r.createTracker(n),o=s.move(a+a);let u=s.move(r.containerPhrasing(e,{after:a,before:o,...s.current()}));const l=u.charCodeAt(0),c=Ec(n.before.charCodeAt(n.before.length-1),l,a);c.inside&&(u=du(l)+u.slice(1));const d=u.charCodeAt(u.length-1),h=Ec(n.after.charCodeAt(0),d,a);h.inside&&(u=u.slice(0,-1)+du(d));const f=s.move(a+a);return i(),r.attentionEncodeSurroundingInfo={after:h.outside,before:c.outside},o+u+f}function xj(e,t,r){return r.options.strong||"*"}function wj(e,t,r,n){return r.safe(e.value,n)}function Tj(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Ej(e,t,r){const n=(xw(r)+(r.options.ruleSpaces?" ":"")).repeat(Tj(r));return r.options.ruleSpaces?n.slice(0,-1):n}const Tw={blockquote:qB,break:U2,code:KB,definition:JB,emphasis:dw,hardBreak:U2,heading:aj,html:fw,image:pw,imageReference:mw,inlineCode:gw,link:bw,linkReference:vw,list:fj,listItem:mj,paragraph:gj,root:bj,strong:ww,text:wj,thematicBreak:Ej},V2=document.createElement("i");function zm(e){const t="&"+e+";";V2.innerHTML=t;const r=V2.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Ew(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}const kj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function _j(e){return e.replace(kj,Sj)}function Sj(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const a=r.charCodeAt(1),i=a===120||a===88;return Ew(r.slice(i?2:1),i?16:10)}return zm(r)||e}function Aj(){return{enter:{table:Cj,tableData:q2,tableHeader:q2,tableRow:Nj},exit:{codeText:Rj,table:Ij,tableData:zd,tableHeader:zd,tableRow:zd}}}function Cj(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function Ij(e){this.exit(e),this.data.inTable=void 0}function Nj(e){this.enter({type:"tableRow",children:[]},e)}function zd(e){this.exit(e)}function q2(e){this.enter({type:"tableCell",children:[]},e)}function Rj(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Oj));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function Oj(e,t){return t==="|"?t:e}function Mj(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,a=t.stringLength,i=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:u,tableRow:o}};function s(f,p,g,T){return l(c(f,g,T),f.align)}function o(f,p,g,T){const y=d(f,g,T),x=l([y]);return x.slice(0,x.indexOf(`
`))}function u(f,p,g,T){const y=g.enter("tableCell"),x=g.enter("phrasing"),_=g.containerPhrasing(f,{...T,before:i,after:i});return x(),y(),_}function l(f,p){return HB(f,{align:p,alignDelimiters:n,padding:r,stringLength:a})}function c(f,p,g){const T=f.children;let y=-1;const x=[],_=p.enter("table");for(;++y<T.length;)x[y]=d(T[y],p,g);return _(),x}function d(f,p,g){const T=f.children;let y=-1;const x=[],_=p.enter("tableRow");for(;++y<T.length;)x[y]=u(T[y],f,p,g);return _(),x}function h(f,p,g){let T=Tw.inlineCode(f,p,g);return g.stack.includes("tableCell")&&(T=T.replace(/\|/g,"\\$&")),T}}function Pj(){return{exit:{taskListCheckValueChecked:W2,taskListCheckValueUnchecked:W2,paragraph:Lj}}}function Dj(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Fj}}}function W2(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Lj(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const a=t.children;let i=-1,s;for(;++i<a.length;){const o=a[i];if(o.type==="paragraph"){s=o;break}}s===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function Fj(e,t,r,n){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);i&&o.move(s);let u=Tw.listItem(e,t,r,{...n,...o.current()});return i&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,l)),u;function l(c){return c+s}}function Bj(){return[hB(),MB(),FB(),Aj(),Pj()]}function jj(e){return{extensions:[fB(),PB(e),BB(),Mj(e),Dj()]}}const Z2={}.hasOwnProperty;function kw(e){const t={};let r=-1;for(;++r<e.length;)$j(t,e[r]);return t}function $j(e,t){let r;for(r in t){const a=(Z2.call(e,r)?e[r]:void 0)||(e[r]={}),i=t[r];let s;if(i)for(s in i){Z2.call(a,s)||(a[s]=[]);const o=i[s];zj(a[s],Array.isArray(o)?o:o?[o]:[])}}}function zj(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);pr(e,0,0,n)}const Uj={tokenize:Gj,partial:!0},_w={tokenize:Yj,partial:!0},Sw={tokenize:Kj,partial:!0},Aw={tokenize:Xj,partial:!0},Hj={tokenize:Jj,partial:!0},Cw={name:"wwwAutolink",tokenize:Wj,previous:Nw},Iw={name:"protocolAutolink",tokenize:Zj,previous:Rw},La={name:"emailAutolink",tokenize:qj,previous:Ow},da={};function Vj(){return{text:da}}let xi=48;for(;xi<123;)da[xi]=La,xi++,xi===58?xi=65:xi===91&&(xi=97);da[43]=La;da[45]=La;da[46]=La;da[95]=La;da[72]=[La,Iw];da[104]=[La,Iw];da[87]=[La,Cw];da[119]=[La,Cw];function qj(e,t,r){const n=this;let a,i;return s;function s(d){return!Pf(d)||!Ow.call(n,n.previous)||Um(n.events)?r(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(d))}function o(d){return Pf(d)?(e.consume(d),o):d===64?(e.consume(d),u):r(d)}function u(d){return d===46?e.check(Hj,c,l)(d):d===45||d===95||br(d)?(i=!0,e.consume(d),u):c(d)}function l(d){return e.consume(d),a=!0,u}function c(d){return i&&a&&Ar(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):r(d)}}function Wj(e,t,r){const n=this;return a;function a(s){return s!==87&&s!==119||!Nw.call(n,n.previous)||Um(n.events)?r(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Uj,e.attempt(_w,e.attempt(Sw,i),r),r)(s))}function i(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function Zj(e,t,r){const n=this;let a="",i=!1;return s;function s(d){return(d===72||d===104)&&Rw.call(n,n.previous)&&!Um(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(d),e.consume(d),o):r(d)}function o(d){if(Ar(d)&&a.length<5)return a+=String.fromCodePoint(d),e.consume(d),o;if(d===58){const h=a.toLowerCase();if(h==="http"||h==="https")return e.consume(d),u}return r(d)}function u(d){return d===47?(e.consume(d),i?l:(i=!0,u)):r(d)}function l(d){return d===null||wc(d)||Et(d)||Pi(d)||I0(d)?r(d):e.attempt(_w,e.attempt(Sw,c),r)(d)}function c(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function Gj(e,t,r){let n=0;return a;function a(s){return(s===87||s===119)&&n<3?(n++,e.consume(s),a):s===46&&n===3?(e.consume(s),i):r(s)}function i(s){return s===null?r(s):t(s)}}function Yj(e,t,r){let n,a,i;return s;function s(l){return l===46||l===95?e.check(Aw,u,o)(l):l===null||Et(l)||Pi(l)||l!==45&&I0(l)?u(l):(i=!0,e.consume(l),s)}function o(l){return l===95?n=!0:(a=n,n=void 0),e.consume(l),s}function u(l){return a||n||!i?r(l):t(l)}}function Kj(e,t){let r=0,n=0;return a;function a(s){return s===40?(r++,e.consume(s),a):s===41&&n<r?i(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(Aw,t,i)(s):s===null||Et(s)||Pi(s)?t(s):(e.consume(s),a)}function i(s){return s===41&&n++,e.consume(s),a}}function Xj(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),i):o===93?(e.consume(o),a):o===60||o===null||Et(o)||Pi(o)?t(o):r(o)}function a(o){return o===null||o===40||o===91||Et(o)||Pi(o)?t(o):n(o)}function i(o){return Ar(o)?s(o):r(o)}function s(o){return o===59?(e.consume(o),n):Ar(o)?(e.consume(o),s):r(o)}}function Jj(e,t,r){return n;function n(i){return e.consume(i),a}function a(i){return br(i)?r(i):t(i)}}function Nw(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Et(e)}function Rw(e){return!Ar(e)}function Ow(e){return!(e===47||Pf(e))}function Pf(e){return e===43||e===45||e===46||e===95||br(e)}function Um(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}function Qs(e){const t=[];let r=-1,n=0,a=0;for(;++r<e.length;){const i=e.charCodeAt(r);let s="";if(i===37&&br(e.charCodeAt(r+1))&&br(e.charCodeAt(r+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(s=String.fromCharCode(i));else if(i>55295&&i<57344){const o=e.charCodeAt(r+1);i<56320&&o>56319&&o<57344?(s=String.fromCharCode(i,o),a=1):s=""}else s=String.fromCharCode(i);s&&(t.push(e.slice(n,r),encodeURIComponent(s)),n=r+a+1,s=""),a&&(r+=a,a=0)}return t.join("")+e.slice(n)}const Df={name:"attention",resolveAll:Qj,tokenize:e$};function Qj(e,t){let r=-1,n,a,i,s,o,u,l,c;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const d={...e[n][1].end},h={...e[r][1].start};G2(d,-u),G2(h,u),s={type:u>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},o={type:u>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:h},i={type:u>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},a={type:u>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[n][1].end={...s.start},e[r][1].start={...o.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=hr(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=hr(l,[["enter",a,t],["enter",s,t],["exit",s,t],["enter",i,t]]),l=hr(l,Js(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),l=hr(l,[["exit",i,t],["enter",o,t],["exit",o,t],["exit",a,t]]),e[r][1].end.offset-e[r][1].start.offset?(c=2,l=hr(l,[["enter",e[r][1],t],["exit",e[r][1],t]])):c=0,pr(e,n-1,r-n+3,l),r=n+l.length-c-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function e$(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,a=Rs(n);let i;return s;function s(u){return i=u,e.enter("attentionSequence"),o(u)}function o(u){if(u===i)return e.consume(u),o;const l=e.exit("attentionSequence"),c=Rs(u),d=!c||c===2&&a||r.includes(u),h=!a||a===2&&c||r.includes(n);return l._open=!!(i===42?d:d&&(a||!h)),l._close=!!(i===42?h:h&&(c||!d)),t(u)}}function G2(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const t$={name:"autolink",tokenize:r$};function r$(e,t,r){let n=0;return a;function a(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(f){return Ar(f)?(e.consume(f),s):f===64?r(f):l(f)}function s(f){return f===43||f===45||f===46||br(f)?(n=1,o(f)):l(f)}function o(f){return f===58?(e.consume(f),n=0,u):(f===43||f===45||f===46||br(f))&&n++<32?(e.consume(f),o):(n=0,l(f))}function u(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||wc(f)?r(f):(e.consume(f),u)}function l(f){return f===64?(e.consume(f),c):OF(f)?(e.consume(f),l):r(f)}function c(f){return br(f)?d(f):r(f)}function d(f){return f===46?(e.consume(f),n=0,c):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):h(f)}function h(f){if((f===45||br(f))&&n++<63){const p=f===45?h:d;return e.consume(f),p}return r(f)}}function tt(e,t,r,n){const a=n?n-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(u){return rt(u)?(e.enter(r),o(u)):t(u)}function o(u){return rt(u)&&i++<a?(e.consume(u),o):(e.exit(r),t(u))}}const Hu={partial:!0,tokenize:n$};function n$(e,t,r){return n;function n(i){return rt(i)?tt(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||Re(i)?t(i):r(i)}}const Mw={continuation:{tokenize:i$},exit:s$,name:"blockQuote",tokenize:a$};function a$(e,t,r){const n=this;return a;function a(s){if(s===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),i}return r(s)}function i(s){return rt(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function i$(e,t,r){const n=this;return a;function a(s){return rt(s)?tt(e,i,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):i(s)}function i(s){return e.attempt(Mw,t,r)(s)}}function s$(e){e.exit("blockQuote")}const Pw={name:"characterEscape",tokenize:o$};function o$(e,t,r){return n;function n(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return PF(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(i)}}const Dw={name:"characterReference",tokenize:u$};function u$(e,t,r){const n=this;let a=0,i,s;return o;function o(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),u}function u(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),i=31,s=br,c(d))}function l(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,s=MF,c):(e.enter("characterReferenceValue"),i=7,s=Of,c(d))}function c(d){if(d===59&&a){const h=e.exit("characterReferenceValue");return s===br&&!zm(n.sliceSerialize(h))?r(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(d)&&a++<i?(e.consume(d),c):r(d)}}const Y2={partial:!0,tokenize:c$},K2={concrete:!0,name:"codeFenced",tokenize:l$};function l$(e,t,r){const n=this,a={partial:!0,tokenize:C};let i=0,s=0,o;return u;function u(A){return l(A)}function l(A){const P=n.events[n.events.length-1];return i=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,o=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(A)}function c(A){return A===o?(s++,e.consume(A),c):s<3?r(A):(e.exit("codeFencedFenceSequence"),rt(A)?tt(e,d,"whitespace")(A):d(A))}function d(A){return A===null||Re(A)?(e.exit("codeFencedFence"),n.interrupt?t(A):e.check(Y2,g,k)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(A))}function h(A){return A===null||Re(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(A)):rt(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),tt(e,f,"whitespace")(A)):A===96&&A===o?r(A):(e.consume(A),h)}function f(A){return A===null||Re(A)?d(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(A))}function p(A){return A===null||Re(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(A)):A===96&&A===o?r(A):(e.consume(A),p)}function g(A){return e.attempt(a,k,T)(A)}function T(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),y}function y(A){return i>0&&rt(A)?tt(e,x,"linePrefix",i+1)(A):x(A)}function x(A){return A===null||Re(A)?e.check(Y2,g,k)(A):(e.enter("codeFlowValue"),_(A))}function _(A){return A===null||Re(A)?(e.exit("codeFlowValue"),x(A)):(e.consume(A),_)}function k(A){return e.exit("codeFenced"),t(A)}function C(A,P,D){let $=0;return F;function F(J){return A.enter("lineEnding"),A.consume(J),A.exit("lineEnding"),q}function q(J){return A.enter("codeFencedFence"),rt(J)?tt(A,U,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):U(J)}function U(J){return J===o?(A.enter("codeFencedFenceSequence"),ee(J)):D(J)}function ee(J){return J===o?($++,A.consume(J),ee):$>=s?(A.exit("codeFencedFenceSequence"),rt(J)?tt(A,Z,"whitespace")(J):Z(J)):D(J)}function Z(J){return J===null||Re(J)?(A.exit("codeFencedFence"),P(J)):D(J)}}}function c$(e,t,r){const n=this;return a;function a(s){return s===null?r(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i)}function i(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}const Ud={name:"codeIndented",tokenize:h$},d$={partial:!0,tokenize:f$};function h$(e,t,r){const n=this;return a;function a(l){return e.enter("codeIndented"),tt(e,i,"linePrefix",5)(l)}function i(l){const c=n.events[n.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(l):r(l)}function s(l){return l===null?u(l):Re(l)?e.attempt(d$,s,u)(l):(e.enter("codeFlowValue"),o(l))}function o(l){return l===null||Re(l)?(e.exit("codeFlowValue"),s(l)):(e.consume(l),o)}function u(l){return e.exit("codeIndented"),t(l)}}function f$(e,t,r){const n=this;return a;function a(s){return n.parser.lazy[n.now().line]?r(s):Re(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):tt(e,i,"linePrefix",5)(s)}function i(s){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Re(s)?a(s):r(s)}}const p$={name:"codeText",previous:g$,resolve:m$,tokenize:y$};function m$(e){let t=e.length-4,r=3,n,a;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)a===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(a=n):(n===t||e[n][1].type==="lineEnding")&&(e[a][1].type="codeTextData",n!==a+2&&(e[a][1].end=e[n-1][1].end,e.splice(a+2,n-a-2),t-=n-a-2,n=a+2),a=void 0);return e}function g$(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function y$(e,t,r){let n=0,a,i;return s;function s(d){return e.enter("codeText"),e.enter("codeTextSequence"),o(d)}function o(d){return d===96?(e.consume(d),n++,o):(e.exit("codeTextSequence"),u(d))}function u(d){return d===null?r(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),u):d===96?(i=e.enter("codeTextSequence"),a=0,c(d)):Re(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(d))}function l(d){return d===null||d===32||d===96||Re(d)?(e.exit("codeTextData"),u(d)):(e.consume(d),l)}function c(d){return d===96?(e.consume(d),a++,c):a===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(i.type="codeTextData",l(d))}}class b${constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const a=r||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return n&&po(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),po(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),po(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);po(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);po(this.left,r.reverse())}}}function po(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function Lw(e){const t={};let r=-1,n,a,i,s,o,u,l;const c=new b$(e);for(;++r<c.length;){for(;r in t;)r=t[r];if(n=c.get(r),r&&n[1].type==="chunkFlow"&&c.get(r-1)[1].type==="listItemPrefix"&&(u=n[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,v$(c,r)),r=t[r],l=!0);else if(n[1]._container){for(i=r,a=void 0;i--;)if(s=c.get(i),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(a&&(c.get(a)[1].type="lineEndingBlank"),s[1].type="lineEnding",a=i);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;a&&(n[1].end={...c.get(a)[1].start},o=c.slice(a,r),o.unshift(n),c.splice(a,r-a+1,o))}}return pr(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function v$(e,t){const r=e.get(t)[1],n=e.get(t)[2];let a=t-1;const i=[];let s=r._tokenizer;s||(s=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,u=[],l={};let c,d,h=-1,f=r,p=0,g=0;const T=[g];for(;f;){for(;e.get(++a)[1]!==f;);i.push(a),f._tokenizer||(c=n.sliceStream(f),f.next||c.push(null),d&&s.defineSkip(f.start),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=r;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,T.push(g),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(s.events=[],f?(f._tokenizer=void 0,f.previous=void 0):T.pop(),h=T.length;h--;){const y=o.slice(T[h],T[h+1]),x=i.pop();u.push([x,x+y.length-1]),e.splice(x,2,y)}for(u.reverse(),h=-1;++h<u.length;)l[p+u[h][0]]=p+u[h][1],p+=u[h][1]-u[h][0]-1;return l}const x$={resolve:T$,tokenize:E$},w$={partial:!0,tokenize:k$};function T$(e){return Lw(e),e}function E$(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),a(o)}function a(o){return o===null?i(o):Re(o)?e.check(w$,s,i)(o):(e.consume(o),a)}function i(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,a}}function k$(e,t,r){const n=this;return a;function a(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),tt(e,i,"linePrefix")}function i(s){if(s===null||Re(s))return r(s);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(n.parser.constructs.flow,r,t)(s)}}function Fw(e,t,r,n,a,i,s,o,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(e.enter(n),e.enter(a),e.enter(i),e.consume(y),e.exit(i),h):y===null||y===32||y===41||wc(y)?r(y):(e.enter(n),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(y))}function h(y){return y===62?(e.enter(i),e.consume(y),e.exit(i),e.exit(a),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(e.exit("chunkString"),e.exit(o),h(y)):y===null||y===60||Re(y)?r(y):(e.consume(y),y===92?p:f)}function p(y){return y===60||y===62||y===92?(e.consume(y),f):f(y)}function g(y){return!c&&(y===null||y===41||Et(y))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(n),t(y)):c<l&&y===40?(e.consume(y),c++,g):y===41?(e.consume(y),c--,g):y===null||y===32||y===40||wc(y)?r(y):(e.consume(y),y===92?T:g)}function T(y){return y===40||y===41||y===92?(e.consume(y),g):g(y)}}function Bw(e,t,r,n,a,i){const s=this;let o=0,u;return l;function l(f){return e.enter(n),e.enter(a),e.consume(f),e.exit(a),e.enter(i),c}function c(f){return o>999||f===null||f===91||f===93&&!u||f===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?r(f):f===93?(e.exit(i),e.enter(a),e.consume(f),e.exit(a),e.exit(n),t):Re(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||Re(f)||o++>999?(e.exit("chunkString"),c(f)):(e.consume(f),u||(u=!rt(f)),f===92?h:d)}function h(f){return f===91||f===92||f===93?(e.consume(f),o++,d):d(f)}}function jw(e,t,r,n,a,i){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(n),e.enter(a),e.consume(h),e.exit(a),s=h===40?41:h,u):r(h)}function u(h){return h===s?(e.enter(a),e.consume(h),e.exit(a),e.exit(n),t):(e.enter(i),l(h))}function l(h){return h===s?(e.exit(i),u(s)):h===null?r(h):Re(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),tt(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===s||h===null||Re(h)?(e.exit("chunkString"),l(h)):(e.consume(h),h===92?d:c)}function d(h){return h===s||h===92?(e.consume(h),c):c(h)}}function Yo(e,t){let r;return n;function n(a){return Re(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r=!0,n):rt(a)?tt(e,n,r?"linePrefix":"lineSuffix")(a):t(a)}}const _$={name:"definition",tokenize:A$},S$={partial:!0,tokenize:C$};function A$(e,t,r){const n=this;let a;return i;function i(f){return e.enter("definition"),s(f)}function s(f){return Bw.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return a=On(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),u):r(f)}function u(f){return Et(f)?Yo(e,l)(f):l(f)}function l(f){return Fw(e,c,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function c(f){return e.attempt(S$,d,d)(f)}function d(f){return rt(f)?tt(e,h,"whitespace")(f):h(f)}function h(f){return f===null||Re(f)?(e.exit("definition"),n.parser.defined.push(a),t(f)):r(f)}}function C$(e,t,r){return n;function n(o){return Et(o)?Yo(e,a)(o):r(o)}function a(o){return jw(e,i,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return rt(o)?tt(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Re(o)?t(o):r(o)}}const I$={name:"hardBreakEscape",tokenize:N$};function N$(e,t,r){return n;function n(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return Re(i)?(e.exit("hardBreakEscape"),t(i)):r(i)}}const R$={name:"headingAtx",resolve:O$,tokenize:M$};function O$(e,t){let r=e.length-2,n=3,a,i;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(a={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},i={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},pr(e,n,r-n+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function M$(e,t,r){let n=0;return a;function a(c){return e.enter("atxHeading"),i(c)}function i(c){return e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&n++<6?(e.consume(c),s):c===null||Et(c)?(e.exit("atxHeadingSequence"),o(c)):r(c)}function o(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||Re(c)?(e.exit("atxHeading"),t(c)):rt(c)?tt(e,o,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),o(c))}function l(c){return c===null||c===35||Et(c)?(e.exit("atxHeadingText"),o(c)):(e.consume(c),l)}}const P$=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],X2=["pre","script","style","textarea"],D$={concrete:!0,name:"htmlFlow",resolveTo:B$,tokenize:j$},L$={partial:!0,tokenize:z$},F$={partial:!0,tokenize:$$};function B$(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function j$(e,t,r){const n=this;let a,i,s,o,u;return l;function l(O){return c(O)}function c(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),d}function d(O){return O===33?(e.consume(O),h):O===47?(e.consume(O),i=!0,g):O===63?(e.consume(O),a=3,n.interrupt?t:R):Ar(O)?(e.consume(O),s=String.fromCharCode(O),T):r(O)}function h(O){return O===45?(e.consume(O),a=2,f):O===91?(e.consume(O),a=5,o=0,p):Ar(O)?(e.consume(O),a=4,n.interrupt?t:R):r(O)}function f(O){return O===45?(e.consume(O),n.interrupt?t:R):r(O)}function p(O){const Ie="CDATA[";return O===Ie.charCodeAt(o++)?(e.consume(O),o===Ie.length?n.interrupt?t:U:p):r(O)}function g(O){return Ar(O)?(e.consume(O),s=String.fromCharCode(O),T):r(O)}function T(O){if(O===null||O===47||O===62||Et(O)){const Ie=O===47,me=s.toLowerCase();return!Ie&&!i&&X2.includes(me)?(a=1,n.interrupt?t(O):U(O)):P$.includes(s.toLowerCase())?(a=6,Ie?(e.consume(O),y):n.interrupt?t(O):U(O)):(a=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(O):i?x(O):_(O))}return O===45||br(O)?(e.consume(O),s+=String.fromCharCode(O),T):r(O)}function y(O){return O===62?(e.consume(O),n.interrupt?t:U):r(O)}function x(O){return rt(O)?(e.consume(O),x):F(O)}function _(O){return O===47?(e.consume(O),F):O===58||O===95||Ar(O)?(e.consume(O),k):rt(O)?(e.consume(O),_):F(O)}function k(O){return O===45||O===46||O===58||O===95||br(O)?(e.consume(O),k):C(O)}function C(O){return O===61?(e.consume(O),A):rt(O)?(e.consume(O),C):_(O)}function A(O){return O===null||O===60||O===61||O===62||O===96?r(O):O===34||O===39?(e.consume(O),u=O,P):rt(O)?(e.consume(O),A):D(O)}function P(O){return O===u?(e.consume(O),u=null,$):O===null||Re(O)?r(O):(e.consume(O),P)}function D(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Et(O)?C(O):(e.consume(O),D)}function $(O){return O===47||O===62||rt(O)?_(O):r(O)}function F(O){return O===62?(e.consume(O),q):r(O)}function q(O){return O===null||Re(O)?U(O):rt(O)?(e.consume(O),q):r(O)}function U(O){return O===45&&a===2?(e.consume(O),be):O===60&&a===1?(e.consume(O),Te):O===62&&a===4?(e.consume(O),pe):O===63&&a===3?(e.consume(O),R):O===93&&a===5?(e.consume(O),ne):Re(O)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(L$,W,ee)(O)):O===null||Re(O)?(e.exit("htmlFlowData"),ee(O)):(e.consume(O),U)}function ee(O){return e.check(F$,Z,W)(O)}function Z(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),J}function J(O){return O===null||Re(O)?ee(O):(e.enter("htmlFlowData"),U(O))}function be(O){return O===45?(e.consume(O),R):U(O)}function Te(O){return O===47?(e.consume(O),s="",ye):U(O)}function ye(O){if(O===62){const Ie=s.toLowerCase();return X2.includes(Ie)?(e.consume(O),pe):U(O)}return Ar(O)&&s.length<8?(e.consume(O),s+=String.fromCharCode(O),ye):U(O)}function ne(O){return O===93?(e.consume(O),R):U(O)}function R(O){return O===62?(e.consume(O),pe):O===45&&a===2?(e.consume(O),R):U(O)}function pe(O){return O===null||Re(O)?(e.exit("htmlFlowData"),W(O)):(e.consume(O),pe)}function W(O){return e.exit("htmlFlow"),t(O)}}function $$(e,t,r){const n=this;return a;function a(s){return Re(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):r(s)}function i(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}function z$(e,t,r){return n;function n(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Hu,t,r)}}const U$={name:"htmlText",tokenize:H$};function H$(e,t,r){const n=this;let a,i,s;return o;function o(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),u}function u(R){return R===33?(e.consume(R),l):R===47?(e.consume(R),C):R===63?(e.consume(R),_):Ar(R)?(e.consume(R),D):r(R)}function l(R){return R===45?(e.consume(R),c):R===91?(e.consume(R),i=0,p):Ar(R)?(e.consume(R),x):r(R)}function c(R){return R===45?(e.consume(R),f):r(R)}function d(R){return R===null?r(R):R===45?(e.consume(R),h):Re(R)?(s=d,Te(R)):(e.consume(R),d)}function h(R){return R===45?(e.consume(R),f):d(R)}function f(R){return R===62?be(R):R===45?h(R):d(R)}function p(R){const pe="CDATA[";return R===pe.charCodeAt(i++)?(e.consume(R),i===pe.length?g:p):r(R)}function g(R){return R===null?r(R):R===93?(e.consume(R),T):Re(R)?(s=g,Te(R)):(e.consume(R),g)}function T(R){return R===93?(e.consume(R),y):g(R)}function y(R){return R===62?be(R):R===93?(e.consume(R),y):g(R)}function x(R){return R===null||R===62?be(R):Re(R)?(s=x,Te(R)):(e.consume(R),x)}function _(R){return R===null?r(R):R===63?(e.consume(R),k):Re(R)?(s=_,Te(R)):(e.consume(R),_)}function k(R){return R===62?be(R):_(R)}function C(R){return Ar(R)?(e.consume(R),A):r(R)}function A(R){return R===45||br(R)?(e.consume(R),A):P(R)}function P(R){return Re(R)?(s=P,Te(R)):rt(R)?(e.consume(R),P):be(R)}function D(R){return R===45||br(R)?(e.consume(R),D):R===47||R===62||Et(R)?$(R):r(R)}function $(R){return R===47?(e.consume(R),be):R===58||R===95||Ar(R)?(e.consume(R),F):Re(R)?(s=$,Te(R)):rt(R)?(e.consume(R),$):be(R)}function F(R){return R===45||R===46||R===58||R===95||br(R)?(e.consume(R),F):q(R)}function q(R){return R===61?(e.consume(R),U):Re(R)?(s=q,Te(R)):rt(R)?(e.consume(R),q):$(R)}function U(R){return R===null||R===60||R===61||R===62||R===96?r(R):R===34||R===39?(e.consume(R),a=R,ee):Re(R)?(s=U,Te(R)):rt(R)?(e.consume(R),U):(e.consume(R),Z)}function ee(R){return R===a?(e.consume(R),a=void 0,J):R===null?r(R):Re(R)?(s=ee,Te(R)):(e.consume(R),ee)}function Z(R){return R===null||R===34||R===39||R===60||R===61||R===96?r(R):R===47||R===62||Et(R)?$(R):(e.consume(R),Z)}function J(R){return R===47||R===62||Et(R)?$(R):r(R)}function be(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):r(R)}function Te(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),ye}function ye(R){return rt(R)?tt(e,ne,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):ne(R)}function ne(R){return e.enter("htmlTextData"),s(R)}}const Hm={name:"labelEnd",resolveAll:Z$,resolveTo:G$,tokenize:Y$},V$={tokenize:K$},q$={tokenize:X$},W$={tokenize:J$};function Z$(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const a=n.type==="labelImage"?4:2;n.type="data",t+=a}}return e.length!==r.length&&pr(e,0,e.length,r),e}function G$(e,t){let r=e.length,n=0,a,i,s,o;for(;r--;)if(a=e[r][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[r][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(s){if(e[r][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=r,a.type!=="labelLink")){n=2;break}}else a.type==="labelEnd"&&(s=r);const u={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},l={type:"label",start:{...e[i][1].start},end:{...e[s][1].end}},c={type:"labelText",start:{...e[i+n+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",u,t],["enter",l,t]],o=hr(o,e.slice(i+1,i+n+3)),o=hr(o,[["enter",c,t]]),o=hr(o,Js(t.parser.constructs.insideSpan.null,e.slice(i+n+4,s-3),t)),o=hr(o,[["exit",c,t],e[s-2],e[s-1],["exit",l,t]]),o=hr(o,e.slice(s+1)),o=hr(o,[["exit",u,t]]),pr(e,i,e.length,o),e}function Y$(e,t,r){const n=this;let a=n.events.length,i,s;for(;a--;)if((n.events[a][1].type==="labelImage"||n.events[a][1].type==="labelLink")&&!n.events[a][1]._balanced){i=n.events[a][1];break}return o;function o(h){return i?i._inactive?d(h):(s=n.parser.defined.includes(On(n.sliceSerialize({start:i.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),u):r(h)}function u(h){return h===40?e.attempt(V$,c,s?c:d)(h):h===91?e.attempt(q$,c,s?l:d)(h):s?c(h):d(h)}function l(h){return e.attempt(W$,c,d)(h)}function c(h){return t(h)}function d(h){return i._balanced=!0,r(h)}}function K$(e,t,r){return n;function n(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),a}function a(d){return Et(d)?Yo(e,i)(d):i(d)}function i(d){return d===41?c(d):Fw(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return Et(d)?Yo(e,u)(d):c(d)}function o(d){return r(d)}function u(d){return d===34||d===39||d===40?jw(e,l,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function l(d){return Et(d)?Yo(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):r(d)}}function X$(e,t,r){const n=this;return a;function a(o){return Bw.call(n,e,i,s,"reference","referenceMarker","referenceString")(o)}function i(o){return n.parser.defined.includes(On(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function s(o){return r(o)}}function J$(e,t,r){return n;function n(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):r(i)}}const Q$={name:"labelStartImage",resolveAll:Hm.resolveAll,tokenize:ez};function ez(e,t,r){const n=this;return a;function a(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),i}function i(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):r(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const tz={name:"labelStartLink",resolveAll:Hm.resolveAll,tokenize:rz};function rz(e,t,r){const n=this;return a;function a(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),i}function i(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const Hd={name:"lineEnding",tokenize:nz};function nz(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),tt(e,t,"linePrefix")}}const Kl={name:"thematicBreak",tokenize:az};function az(e,t,r){let n=0,a;return i;function i(l){return e.enter("thematicBreak"),s(l)}function s(l){return a=l,o(l)}function o(l){return l===a?(e.enter("thematicBreakSequence"),u(l)):n>=3&&(l===null||Re(l))?(e.exit("thematicBreak"),t(l)):r(l)}function u(l){return l===a?(e.consume(l),n++,u):(e.exit("thematicBreakSequence"),rt(l)?tt(e,o,"whitespace")(l):o(l))}}const Lr={continuation:{tokenize:uz},exit:cz,name:"list",tokenize:oz},iz={partial:!0,tokenize:dz},sz={partial:!0,tokenize:lz};function oz(e,t,r){const n=this,a=n.events[n.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,s=0;return o;function o(f){const p=n.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!n.containerState.marker||f===n.containerState.marker:Of(f)){if(n.containerState.type||(n.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(Kl,r,l)(f):l(f);if(!n.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(f)}return r(f)}function u(f){return Of(f)&&++s<10?(e.consume(f),u):(!n.interrupt||s<2)&&(n.containerState.marker?f===n.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),l(f)):r(f)}function l(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||f,e.check(Hu,n.interrupt?r:c,e.attempt(iz,h,d))}function c(f){return n.containerState.initialBlankLine=!0,i++,h(f)}function d(f){return rt(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),h):r(f)}function h(f){return n.containerState.size=i+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function uz(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Hu,a,i);function a(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,tt(e,t,"listItemIndent",n.containerState.size+1)(o)}function i(o){return n.containerState.furtherBlankLines||!rt(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(sz,t,s)(o))}function s(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,tt(e,e.attempt(Lr,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function lz(e,t,r){const n=this;return tt(e,a,"listItemIndent",n.containerState.size+1);function a(i){const s=n.events[n.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===n.containerState.size?t(i):r(i)}}function cz(e){e.exit(this.containerState.type)}function dz(e,t,r){const n=this;return tt(e,a,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const s=n.events[n.events.length-1];return!rt(i)&&s&&s[1].type==="listItemPrefixWhitespace"?t(i):r(i)}}const J2={name:"setextUnderline",resolveTo:hz,tokenize:fz};function hz(e,t){let r=e.length,n,a,i;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(a=r)}else e[r][1].type==="content"&&e.splice(r,1),!i&&e[r][1].type==="definition"&&(i=r);const s={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",s,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=s,e.push(["exit",s,t]),e}function fz(e,t,r){const n=this;let a;return i;function i(l){let c=n.events.length,d;for(;c--;)if(n.events[c][1].type!=="lineEnding"&&n.events[c][1].type!=="linePrefix"&&n.events[c][1].type!=="content"){d=n.events[c][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||d)?(e.enter("setextHeadingLine"),a=l,s(l)):r(l)}function s(l){return e.enter("setextHeadingLineSequence"),o(l)}function o(l){return l===a?(e.consume(l),o):(e.exit("setextHeadingLineSequence"),rt(l)?tt(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||Re(l)?(e.exit("setextHeadingLine"),t(l)):r(l)}}const pz={tokenize:Tz,partial:!0};function mz(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:vz,continuation:{tokenize:xz},exit:wz}},text:{91:{name:"gfmFootnoteCall",tokenize:bz},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:gz,resolveTo:yz}}}}function gz(e,t,r){const n=this;let a=n.events.length;const i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s;for(;a--;){const u=n.events[a][1];if(u.type==="labelImage"){s=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!s||!s._balanced)return r(u);const l=On(n.sliceSerialize({start:s.end,end:n.now()}));return l.codePointAt(0)!==94||!i.includes(l.slice(1))?r(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function yz(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function bz(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i=0,s;return o;function o(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),u}function u(d){return d!==94?r(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(d){if(i>999||d===93&&!s||d===null||d===91||Et(d))return r(d);if(d===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return a.includes(On(n.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(d)}return Et(d)||(s=!0),i++,e.consume(d),d===92?c:l}function c(d){return d===91||d===92||d===93?(e.consume(d),i++,l):l(d)}}function vz(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i,s=0,o;return u;function u(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),l}function l(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):r(p)}function c(p){if(s>999||p===93&&!o||p===null||p===91||Et(p))return r(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return i=On(n.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Et(p)||(o=!0),s++,e.consume(p),p===92?d:c}function d(p){return p===91||p===92||p===93?(e.consume(p),s++,c):c(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),a.includes(i)||a.push(i),tt(e,f,"gfmFootnoteDefinitionWhitespace")):r(p)}function f(p){return t(p)}}function xz(e,t,r){return e.check(Hu,t,e.attempt(pz,t,r))}function wz(e){e.exit("gfmFootnoteDefinition")}function Tz(e,t,r){const n=this;return tt(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const s=n.events[n.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(i):r(i)}}function Ez(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:i,resolveAll:a};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function a(s,o){let u=-1;for(;++u<s.length;)if(s[u][0]==="enter"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._close){let l=u;for(;l--;)if(s[l][0]==="exit"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._open&&s[u][1].end.offset-s[u][1].start.offset===s[l][1].end.offset-s[l][1].start.offset){s[u][1].type="strikethroughSequence",s[l][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},s[l][1].start),end:Object.assign({},s[u][1].end)},d={type:"strikethroughText",start:Object.assign({},s[l][1].end),end:Object.assign({},s[u][1].start)},h=[["enter",c,o],["enter",s[l][1],o],["exit",s[l][1],o],["enter",d,o]],f=o.parser.constructs.insideSpan.null;f&&pr(h,h.length,0,Js(f,s.slice(l+1,u),o)),pr(h,h.length,0,[["exit",d,o],["enter",s[u][1],o],["exit",s[u][1],o],["exit",c,o]]),pr(s,l-1,u-l+3,h),u=l+h.length-2;break}}for(u=-1;++u<s.length;)s[u][1].type==="strikethroughSequenceTemporary"&&(s[u][1].type="data");return s}function i(s,o,u){const l=this.previous,c=this.events;let d=0;return h;function h(p){return l===126&&c[c.length-1][1].type!=="characterEscape"?u(p):(s.enter("strikethroughSequenceTemporary"),f(p))}function f(p){const g=Rs(l);if(p===126)return d>1?u(p):(s.consume(p),d++,f);if(d<2&&!r)return u(p);const T=s.exit("strikethroughSequenceTemporary"),y=Rs(p);return T._open=!y||y===2&&!!g,T._close=!g||g===2&&!!y,o(p)}}}class kz{constructor(){this.map=[]}add(t,r,n){_z(this,t,r,n)}consume(t){if(this.map.sort(function(i,s){return i[0]-s[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let a=n.pop();for(;a;){for(const i of a)t.push(i);a=n.pop()}this.map.length=0}}function _z(e,t,r,n){let a=0;if(!(r===0&&n.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=r,e.map[a][2].push(...n);return}a+=1}e.map.push([t,r,n])}}function Sz(e,t){let r=!1;const n=[];for(;t<e.length;){const a=e[t];if(r){if(a[0]==="enter")a[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=n.length-1;n[i]=n[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function Az(){return{flow:{null:{name:"table",tokenize:Cz,resolveAll:Iz}}}}function Cz(e,t,r){const n=this;let a=0,i=0,s;return o;function o(F){let q=n.events.length-1;for(;q>-1;){const Z=n.events[q][1].type;if(Z==="lineEnding"||Z==="linePrefix")q--;else break}const U=q>-1?n.events[q][1].type:null,ee=U==="tableHead"||U==="tableRow"?A:u;return ee===A&&n.parser.lazy[n.now().line]?r(F):ee(F)}function u(F){return e.enter("tableHead"),e.enter("tableRow"),l(F)}function l(F){return F===124||(s=!0,i+=1),c(F)}function c(F){return F===null?r(F):Re(F)?i>1?(i=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),f):r(F):rt(F)?tt(e,c,"whitespace")(F):(i+=1,s&&(s=!1,a+=1),F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),s=!0,c):(e.enter("data"),d(F)))}function d(F){return F===null||F===124||Et(F)?(e.exit("data"),c(F)):(e.consume(F),F===92?h:d)}function h(F){return F===92||F===124?(e.consume(F),d):d(F)}function f(F){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(F):(e.enter("tableDelimiterRow"),s=!1,rt(F)?tt(e,p,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):p(F))}function p(F){return F===45||F===58?T(F):F===124?(s=!0,e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),g):C(F)}function g(F){return rt(F)?tt(e,T,"whitespace")(F):T(F)}function T(F){return F===58?(i+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),y):F===45?(i+=1,y(F)):F===null||Re(F)?k(F):C(F)}function y(F){return F===45?(e.enter("tableDelimiterFiller"),x(F)):C(F)}function x(F){return F===45?(e.consume(F),x):F===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),_):(e.exit("tableDelimiterFiller"),_(F))}function _(F){return rt(F)?tt(e,k,"whitespace")(F):k(F)}function k(F){return F===124?p(F):F===null||Re(F)?!s||a!==i?C(F):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(F)):C(F)}function C(F){return r(F)}function A(F){return e.enter("tableRow"),P(F)}function P(F){return F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),P):F===null||Re(F)?(e.exit("tableRow"),t(F)):rt(F)?tt(e,P,"whitespace")(F):(e.enter("data"),D(F))}function D(F){return F===null||F===124||Et(F)?(e.exit("data"),P(F)):(e.consume(F),F===92?$:D)}function $(F){return F===92||F===124?(e.consume(F),D):D(F)}}function Iz(e,t){let r=-1,n=!0,a=0,i=[0,0,0,0],s=[0,0,0,0],o=!1,u=0,l,c,d;const h=new kz;for(;++r<e.length;){const f=e[r],p=f[1];f[0]==="enter"?p.type==="tableHead"?(o=!1,u!==0&&(Q2(h,t,u,l,c),c=void 0,u=0),l={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(r,0,[["enter",l,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(n=!0,d=void 0,i=[0,0,0,0],s=[0,r+1,0,0],o&&(o=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(r,0,[["enter",c,t]])),a=p.type==="tableDelimiterRow"?2:c?3:1):a&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(n=!1,s[2]===0&&(i[1]!==0&&(s[0]=s[1],d=Al(h,t,i,a,void 0,d),i=[0,0,0,0]),s[2]=r)):p.type==="tableCellDivider"&&(n?n=!1:(i[1]!==0&&(s[0]=s[1],d=Al(h,t,i,a,void 0,d)),i=s,s=[i[1],r,0,0])):p.type==="tableHead"?(o=!0,u=r):p.type==="tableRow"||p.type==="tableDelimiterRow"?(u=r,i[1]!==0?(s[0]=s[1],d=Al(h,t,i,a,r,d)):s[1]!==0&&(d=Al(h,t,s,a,r,d)),a=0):a&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=r)}for(u!==0&&Q2(h,t,u,l,c),h.consume(t.events),r=-1;++r<t.events.length;){const f=t.events[r];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=Sz(t.events,r))}return e}function Al(e,t,r,n,a,i){const s=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(i.end=Object.assign({},is(t.events,r[0])),e.add(r[0],0,[["exit",i,t]]));const u=is(t.events,r[1]);if(i={type:s,start:Object.assign({},u),end:Object.assign({},u)},e.add(r[1],0,[["enter",i,t]]),r[2]!==0){const l=is(t.events,r[2]),c=is(t.events,r[3]),d={type:o,start:Object.assign({},l),end:Object.assign({},c)};if(e.add(r[2],0,[["enter",d,t]]),n!==2){const h=t.events[r[2]],f=t.events[r[3]];if(h[1].end=Object.assign({},f[1].end),h[1].type="chunkText",h[1].contentType="text",r[3]>r[2]+1){const p=r[2]+1,g=r[3]-r[2]-1;e.add(p,g,[])}}e.add(r[3]+1,0,[["exit",d,t]])}return a!==void 0&&(i.end=Object.assign({},is(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function Q2(e,t,r,n,a){const i=[],s=is(t.events,r);a&&(a.end=Object.assign({},s),i.push(["exit",a,t])),n.end=Object.assign({},s),i.push(["exit",n,t]),e.add(r+1,0,i)}function is(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const Nz={name:"tasklistCheck",tokenize:Oz};function Rz(){return{text:{91:Nz}}}function Oz(e,t,r){const n=this;return a;function a(u){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),i)}function i(u){return Et(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),s):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),s):r(u)}function s(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(u)}function o(u){return Re(u)?t(u):rt(u)?e.check({tokenize:Mz},t,r)(u):r(u)}}function Mz(e,t,r){return tt(e,n,"whitespace");function n(a){return a===null?r(a):t(a)}}function Pz(e){return kw([Vj(),mz(),Ez(e),Az(),Rz()])}const Dz={};function Lz(e){const t=this,r=e||Dz,n=t.data(),a=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),s=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);a.push(Pz(r)),i.push(Bj()),s.push(jj(r))}function Fz(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:i},exit:{mathFlow:a,mathFlowFence:n,mathFlowFenceMeta:r,mathFlowValue:o,mathText:s,mathTextData:o}};function e(u){const l={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[l]}},u)}function t(){this.buffer()}function r(){const u=this.resume(),l=this.stack[this.stack.length-1];l.type,l.meta=u}function n(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function a(u){const l=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),c=this.stack[this.stack.length-1];c.type,this.exit(u),c.value=l;const d=c.data.hChildren[0];d.type,d.tagName,d.children.push({type:"text",value:l}),this.data.mathFlowInside=void 0}function i(u){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},u),this.buffer()}function s(u){const l=this.resume(),c=this.stack[this.stack.length-1];c.type,this.exit(u),c.value=l,c.data.hChildren.push({type:"text",value:l})}function o(u){this.config.enter.data.call(this,u),this.config.exit.data.call(this,u)}}function Bz(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),n.peek=a,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:n}};function r(i,s,o,u){const l=i.value||"",c=o.createTracker(u),d="$".repeat(Math.max(cw(l,"$")+1,2)),h=o.enter("mathFlow");let f=c.move(d);if(i.meta){const p=o.enter("mathFlowMeta");f+=c.move(o.safe(i.meta,{after:`
`,before:f,encode:["$"],...c.current()})),p()}return f+=c.move(`
`),l&&(f+=c.move(l+`
`)),f+=c.move(d),h(),f}function n(i,s,o){let u=i.value||"",l=1;for(t||l++;new RegExp("(^|[^$])"+"\\$".repeat(l)+"([^$]|$)").test(u);)l++;const c="$".repeat(l);/[^ \r\n]/.test(u)&&(/^[ \r\n]/.test(u)&&/[ \r\n]$/.test(u)||/^\$|\$$/.test(u))&&(u=" "+u+" ");let d=-1;for(;++d<o.unsafe.length;){const h=o.unsafe[d];if(!h.atBreak)continue;const f=o.compilePattern(h);let p;for(;p=f.exec(u);){let g=p.index;u.codePointAt(g)===10&&u.codePointAt(g-1)===13&&g--,u=u.slice(0,g)+" "+u.slice(p.index+1)}}return c+u+c}function a(){return"$"}}const jz={tokenize:$z,concrete:!0,name:"mathFlow"},eb={tokenize:zz,partial:!0};function $z(e,t,r){const n=this,a=n.events[n.events.length-1],i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0;let s=0;return o;function o(x){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),u(x)}function u(x){return x===36?(e.consume(x),s++,u):s<2?r(x):(e.exit("mathFlowFenceSequence"),tt(e,l,"whitespace")(x))}function l(x){return x===null||Re(x)?d(x):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),c(x))}function c(x){return x===null||Re(x)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),d(x)):x===36?r(x):(e.consume(x),c)}function d(x){return e.exit("mathFlowFence"),n.interrupt?t(x):e.attempt(eb,h,T)(x)}function h(x){return e.attempt({tokenize:y,partial:!0},T,f)(x)}function f(x){return(i?tt(e,p,"linePrefix",i+1):p)(x)}function p(x){return x===null?T(x):Re(x)?e.attempt(eb,h,T)(x):(e.enter("mathFlowValue"),g(x))}function g(x){return x===null||Re(x)?(e.exit("mathFlowValue"),p(x)):(e.consume(x),g)}function T(x){return e.exit("mathFlow"),t(x)}function y(x,_,k){let C=0;return tt(x,A,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function A($){return x.enter("mathFlowFence"),x.enter("mathFlowFenceSequence"),P($)}function P($){return $===36?(C++,x.consume($),P):C<s?k($):(x.exit("mathFlowFenceSequence"),tt(x,D,"whitespace")($))}function D($){return $===null||Re($)?(x.exit("mathFlowFence"),_($)):k($)}}}function zz(e,t,r){const n=this;return a;function a(s){return s===null?t(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i)}function i(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}function Uz(e){let r=(e||{}).singleDollarTextMath;return r==null&&(r=!0),{tokenize:n,resolve:Hz,previous:Vz,name:"mathText"};function n(a,i,s){let o=0,u,l;return c;function c(g){return a.enter("mathText"),a.enter("mathTextSequence"),d(g)}function d(g){return g===36?(a.consume(g),o++,d):o<2&&!r?s(g):(a.exit("mathTextSequence"),h(g))}function h(g){return g===null?s(g):g===36?(l=a.enter("mathTextSequence"),u=0,p(g)):g===32?(a.enter("space"),a.consume(g),a.exit("space"),h):Re(g)?(a.enter("lineEnding"),a.consume(g),a.exit("lineEnding"),h):(a.enter("mathTextData"),f(g))}function f(g){return g===null||g===32||g===36||Re(g)?(a.exit("mathTextData"),h(g)):(a.consume(g),f)}function p(g){return g===36?(a.consume(g),u++,p):u===o?(a.exit("mathTextSequence"),a.exit("mathText"),i(g)):(l.type="mathTextData",f(g))}}}function Hz(e){let t=e.length-4,r=3,n,a;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[r][1].type="mathTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)a===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(a=n):(n===t||e[n][1].type==="lineEnding")&&(e[a][1].type="mathTextData",n!==a+2&&(e[a][1].end=e[n-1][1].end,e.splice(a+2,n-a-2),t-=n-a-2,n=a+2),a=void 0);return e}function Vz(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function qz(e){return{flow:{36:jz},text:{36:Uz(e)}}}const Wz={};function Lf(e){const t=this,r=e||Wz,n=t.data(),a=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),s=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);a.push(qz(r)),i.push(Fz()),s.push(Bz(r))}var Zz=/(\*\*)([^*]*?)$/,Gz=/(__)([^_]*?)$/,Yz=/(\*\*\*)([^*]*?)$/,Kz=/(\*)([^*]*?)$/,Xz=/(_)([^_]*?)$/,Jz=/(`)([^`]*?)$/,Qz=/(~~)([^~]*?)$/,Zi=/^[\s_~*`]*$/,$w=/^[\s]*[-*+][\s]+$/,eU=/[\p{L}\p{N}_]/u,tU=/^```[^`\n]*```?$/,rU=/^\*{4,}$/,ai=e=>{if(!e)return!1;let t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122||t===95?!0:eU.test(e)},N0=e=>{let t=(e.match(/```/g)||[]).length;return t>0&&t%2===0&&e.includes(`
`)},nU=(e,t)=>{let r=1;for(let n=t-1;n>=0;n-=1)if(e[n]==="]")r+=1;else if(e[n]==="["&&(r-=1,r===0))return n;return-1},aU=(e,t)=>{let r=1;for(let n=t+1;n<e.length;n+=1)if(e[n]==="[")r+=1;else if(e[n]==="]"&&(r-=1,r===0))return n;return-1},zw=(e,t)=>{let r=!1,n=!1;for(let a=0;a<e.length&&a<t;a+=1){if(e[a]==="\\"&&e[a+1]==="$"){a+=1;continue}e[a]==="$"&&(e[a+1]==="$"?(n=!n,a+=1,r=!1):n||(r=!r))}return r||n},iU=(e,t,r)=>{if(r!==" "&&r!=="	")return!1;let n=0;for(let a=t-1;a>=0;a-=1)if(e[a]===`
`){n=a+1;break}for(let a=n;a<t;a+=1)if(e[a]!==" "&&e[a]!=="	")return!1;return!0},sU=(e,t,r,n)=>!!(r==="\\"||r==="*"||n==="*"||r&&n&&ai(r)&&ai(n)||iU(e,t,n)),oU=e=>{let t=0,r=e.length;for(let n=0;n<r;n+=1){if(e[n]!=="*")continue;let a=n>0?e[n-1]:"",i=n<r-1?e[n+1]:"";sU(e,n,a,i)||(t+=1)}return t},uU=(e,t,r,n)=>!!(r==="\\"||e.includes("$")&&zw(e,t)||r==="_"||n==="_"||r&&n&&ai(r)&&ai(n)),lU=e=>{let t=0,r=e.length;for(let n=0;n<r;n+=1){if(e[n]!=="_")continue;let a=n>0?e[n-1]:"",i=n<r-1?e[n+1]:"";uU(e,n,a,i)||(t+=1)}return t},cU=e=>{let t=0,r=0;for(let n=0;n<e.length;n+=1)e[n]==="*"?r+=1:(r>=3&&(t+=Math.floor(r/3)),r=0);return r>=3&&(t+=Math.floor(r/3)),t},dU=e=>{if(N0(e))return e;let t=e.match(Zz);if(t){let r=t[2];if(!r||Zi.test(r))return e;let n=e.lastIndexOf(t[1]),a=e.substring(0,n).lastIndexOf(`
`),i=a===-1?0:a+1,s=e.substring(i,n);if($w.test(s)&&r.includes(`
`))return e;if((e.match(/\*\*/g)||[]).length%2===1)return`${e}**`}return e},hU=e=>{let t=e.match(Gz);if(t){let r=t[2];if(!r||Zi.test(r))return e;let n=e.lastIndexOf(t[1]),a=e.substring(0,n).lastIndexOf(`
`),i=a===-1?0:a+1,s=e.substring(i,n);if($w.test(s)&&r.includes(`
`))return e;if((e.match(/__/g)||[]).length%2===1)return`${e}__`}return e},fU=e=>{for(let t=0;t<e.length;t+=1)if(e[t]==="*"&&e[t-1]!=="*"&&e[t+1]!=="*"&&e[t-1]!=="\\"){let r=t>0?e[t-1]:"",n=t<e.length-1?e[t+1]:"";if(r&&n&&ai(r)&&ai(n))continue;return t}return-1},pU=e=>{if(N0(e)||!e.match(Kz))return e;let t=fU(e);if(t===-1)return e;let r=e.substring(t+1);return!r||Zi.test(r)?e:oU(e)%2===1?`${e}*`:e},mU=e=>{for(let t=0;t<e.length;t+=1)if(e[t]==="_"&&e[t-1]!=="_"&&e[t+1]!=="_"&&e[t-1]!=="\\"&&!zw(e,t)){let r=t>0?e[t-1]:"",n=t<e.length-1?e[t+1]:"";if(r&&n&&ai(r)&&ai(n))continue;return t}return-1},gU=e=>{let t=e.length;for(;t>0&&e[t-1]===`
`;)t-=1;if(t<e.length){let r=e.slice(0,t),n=e.slice(t);return`${r}_${n}`}return`${e}_`},yU=e=>{if(N0(e)||!e.match(Xz))return e;let t=mU(e);if(t===-1)return e;let r=e.substring(t+1);return!r||Zi.test(r)?e:lU(e)%2===1?gU(e):e},bU=e=>{if(N0(e)||rU.test(e))return e;let t=e.match(Yz);if(t){let r=t[2];if(!r||Zi.test(r))return e;if(cU(e)%2===1)return`${e}***`}return e},Ff=(e,t)=>{let r=!1,n=!1;for(let a=0;a<t;a+=1){if(e.substring(a,a+3)==="```"){n=!n,a+=2;continue}!n&&e[a]==="`"&&(r=!r)}return r||n},vU=(e,t)=>{let r=e.substring(t,t+3)==="```",n=t>0&&e.substring(t-1,t+2)==="```",a=t>1&&e.substring(t-2,t+1)==="```";return r||n||a},xU=e=>{let t=0;for(let r=0;r<e.length;r+=1)e[r]==="`"&&!vU(e,r)&&(t+=1);return t},wU=e=>!e.match(tU)||e.includes(`
`)?null:e.endsWith("``")&&!e.endsWith("```")?`${e}\``:e,TU=e=>{let t=(e.match(/```/g)||[]).length;return!!(t>0&&t%2===0&&e.includes(`
`)||(e.endsWith("```\n")||e.endsWith("```"))&&t%2===0)},EU=e=>(e.match(/```/g)||[]).length%2===1,kU=e=>{let t=wU(e);if(t!==null)return t;if(TU(e))return e;let r=e.match(Jz);if(r&&!EU(e)){let n=r[2];if(!n||Zi.test(n))return e;if(xU(e)%2===1)return`${e}\``}return e},_U=e=>{if((e.match(/\$\$/g)||[]).length%2===0)return e;let t=e.indexOf("$$");return t!==-1&&e.indexOf(`
`,t)!==-1&&!e.endsWith(`
`)?`${e}
$$`:`${e}$$`},SU=(e,t)=>{if(e.substring(t+2).includes(")"))return null;let r=nU(e,t);if(r===-1||Ff(e,r))return null;let n=r>0&&e[r-1]==="!",a=n?r-1:r,i=e.substring(0,a);if(n)return i;let s=e.substring(r+1,t);return`${i}[${s}](streamdown:incomplete-link)`},AU=(e,t)=>{let r=t>0&&e[t-1]==="!",n=r?t-1:t;if(!e.substring(t+1).includes("]")){let a=e.substring(0,n);return r?a:`${e}](streamdown:incomplete-link)`}if(aU(e,t)===-1){let a=e.substring(0,n);return r?a:`${e}](streamdown:incomplete-link)`}return null},CU=e=>{let t=e.lastIndexOf("](");if(t!==-1&&!Ff(e,t)){let r=SU(e,t);if(r!==null)return r}for(let r=e.length-1;r>=0;r-=1)if(e[r]==="["&&!Ff(e,r)){let n=AU(e,r);if(n!==null)return n}return e},IU=e=>{let t=e.match(Qz);if(t){let r=t[2];if(!r||Zi.test(r))return e;if((e.match(/~~/g)||[]).length%2===1)return`${e}~~`}return e},NU=e=>{if(!e||typeof e!="string")return e;let t=e,r=CU(t);return r.endsWith("](streamdown:incomplete-link)")?r:(t=r,t=bU(t),t=dU(t),t=hU(t),t=pU(t),t=yU(t),t=kU(t),t=IU(t),t=_U(t),t)},RU=NU;const OU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),tb=e=>{const t=MU(e);return t.charAt(0).toUpperCase()+t.slice(1)},Uw=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),PU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var DU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LU=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},u)=>E.createElement("svg",{ref:u,...DU,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Uw("lucide",a),...!i&&!PU(o)&&{"aria-hidden":"true"},...o},[...s.map(([l,c])=>E.createElement(l,c)),...Array.isArray(i)?i:[i]]));const Fa=(e,t)=>{const r=E.forwardRef(({className:n,...a},i)=>E.createElement(LU,{ref:i,iconNode:t,className:Uw(`lucide-${OU(tb(e))}`,`lucide-${e}`,n),...a}));return r.displayName=tb(e),r};const FU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Hw=Fa("check",FU);const BU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Vw=Fa("copy",BU);const jU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],R0=Fa("download",jU);const $U=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zU=Fa("loader-circle",$U);const UU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],HU=Fa("maximize-2",UU);const VU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],qU=Fa("rotate-ccw",VU);const WU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ZU=Fa("x",WU);const GU=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],YU=Fa("zoom-in",GU);const KU=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],XU=Fa("zoom-out",KU),JU=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QU=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eH={};function rb(e,t){return(eH.jsx?QU:JU).test(e)}const tH=/[ \t\n\f\r]/g;function rH(e){return typeof e=="object"?e.type==="text"?nb(e.value):!1:nb(e)}function nb(e){return e.replace(tH,"")===""}var rs={},Vd,ab;function nH(){if(ab)return Vd;ab=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,o=/^\s+|\s+$/g,u=`
`,l="/",c="*",d="",h="comment",f="declaration";function p(T,y){if(typeof T!="string")throw new TypeError("First argument must be a string");if(!T)return[];y=y||{};var x=1,_=1;function k(Z){var J=Z.match(t);J&&(x+=J.length);var be=Z.lastIndexOf(u);_=~be?Z.length-be:_+Z.length}function C(){var Z={line:x,column:_};return function(J){return J.position=new A(Z),$(),J}}function A(Z){this.start=Z,this.end={line:x,column:_},this.source=y.source}A.prototype.content=T;function P(Z){var J=new Error(y.source+":"+x+":"+_+": "+Z);if(J.reason=Z,J.filename=y.source,J.line=x,J.column=_,J.source=T,!y.silent)throw J}function D(Z){var J=Z.exec(T);if(J){var be=J[0];return k(be),T=T.slice(be.length),J}}function $(){D(r)}function F(Z){var J;for(Z=Z||[];J=q();)J!==!1&&Z.push(J);return Z}function q(){var Z=C();if(!(l!=T.charAt(0)||c!=T.charAt(1))){for(var J=2;d!=T.charAt(J)&&(c!=T.charAt(J)||l!=T.charAt(J+1));)++J;if(J+=2,d===T.charAt(J-1))return P("End of comment missing");var be=T.slice(2,J-2);return _+=2,k(be),T=T.slice(J),_+=2,Z({type:h,comment:be})}}function U(){var Z=C(),J=D(n);if(J){if(q(),!D(a))return P("property missing ':'");var be=D(i),Te=Z({type:f,property:g(J[0].replace(e,d)),value:be?g(be[0].replace(e,d)):d});return D(s),Te}}function ee(){var Z=[];F(Z);for(var J;J=U();)J!==!1&&(Z.push(J),F(Z));return Z}return $(),ee()}function g(T){return T?T.replace(o,d):d}return Vd=p,Vd}var ib;function aH(){if(ib)return rs;ib=1;var e=rs&&rs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(rs,"__esModule",{value:!0}),rs.default=r;const t=e(nH());function r(n,a){let i=null;if(!n||typeof n!="string")return i;const s=(0,t.default)(n),o=typeof a=="function";return s.forEach(u=>{if(u.type!=="declaration")return;const{property:l,value:c}=u;o?a(l,c,u):c&&(i=i||{},i[l]=c)}),i}return rs}var mo={},sb;function iH(){if(sb)return mo;sb=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,i=function(l){return!l||r.test(l)||e.test(l)},s=function(l,c){return c.toUpperCase()},o=function(l,c){return"".concat(c,"-")},u=function(l,c){return c===void 0&&(c={}),i(l)?l:(l=l.toLowerCase(),c.reactCompat?l=l.replace(a,o):l=l.replace(n,o),l.replace(t,s))};return mo.camelCase=u,mo}var go,ob;function sH(){if(ob)return go;ob=1;var e=go&&go.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=e(aH()),r=iH();function n(a,i){var s={};return!a||typeof a!="string"||(0,t.default)(a,function(o,u){o&&u&&(s[(0,r.camelCase)(o,i)]=u)}),s}return n.default=n,go=n,go}var oH=sH();const uH=Pa(oH);function Ko(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?ub(e.position):"start"in e||"end"in e?ub(e):"line"in e||"column"in e?Bf(e):""}function Bf(e){return lb(e&&e.line)+":"+lb(e&&e.column)}function ub(e){return Bf(e&&e.start)+"-"+Bf(e&&e.end)}function lb(e){return e&&typeof e=="number"?e:1}class xr extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let a="",i={},s=!1;if(r&&("line"in r&&"column"in r?i={place:r}:"start"in r&&"end"in r?i={place:r}:"type"in r?i={ancestors:[r],place:r.position}:i={...r}),typeof t=="string"?a=t:!i.cause&&t&&(s=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof n=="string"){const u=n.indexOf(":");u===-1?i.ruleId=n:(i.source=n.slice(0,u),i.ruleId=n.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){const u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=o?o.line:void 0,this.name=Ko(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}xr.prototype.file="";xr.prototype.name="";xr.prototype.reason="";xr.prototype.message="";xr.prototype.stack="";xr.prototype.column=void 0;xr.prototype.line=void 0;xr.prototype.ancestors=void 0;xr.prototype.cause=void 0;xr.prototype.fatal=void 0;xr.prototype.place=void 0;xr.prototype.ruleId=void 0;xr.prototype.source=void 0;const Vm={}.hasOwnProperty,lH=new Map,cH=/[A-Z]/g,dH=new Set(["table","tbody","thead","tfoot","tr"]),hH=new Set(["td","th"]),qw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function fH(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=wH(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=xH(r,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?fi:Fu,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=Ww(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function Ww(e,t,r){if(t.type==="element")return pH(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return mH(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return yH(e,t,r);if(t.type==="mdxjsEsm")return gH(e,t);if(t.type==="root")return bH(e,t,r);if(t.type==="text")return vH(e,t)}function pH(e,t,r){const n=e.schema;let a=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(a=fi,e.schema=a),e.ancestors.push(t);const i=Gw(e,t.tagName,!1),s=TH(e,t);let o=Wm(e,t);return dH.has(t.tagName)&&(o=o.filter(function(u){return typeof u=="string"?!rH(u):!0})),Zw(e,s,i,t),qm(s,o),e.ancestors.pop(),e.schema=n,e.create(t,i,s,r)}function mH(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}hu(e,t.position)}function gH(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);hu(e,t.position)}function yH(e,t,r){const n=e.schema;let a=n;t.name==="svg"&&n.space==="html"&&(a=fi,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:Gw(e,t.name,!0),s=EH(e,t),o=Wm(e,t);return Zw(e,s,i,t),qm(s,o),e.ancestors.pop(),e.schema=n,e.create(t,i,s,r)}function bH(e,t,r){const n={};return qm(n,Wm(e,t)),e.create(t,e.Fragment,n,r)}function vH(e,t){return t.value}function Zw(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function qm(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function xH(e,t,r){return n;function n(a,i,s,o){const l=Array.isArray(s.children)?r:t;return o?l(i,s,o):l(i,s)}}function wH(e,t){return r;function r(n,a,i,s){const o=Array.isArray(i.children),u=ca(n);return t(a,i,s,o,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function TH(e,t){const r={};let n,a;for(a in t.properties)if(a!=="children"&&Vm.call(t.properties,a)){const i=kH(e,a,t.properties[a]);if(i){const[s,o]=i;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&hH.has(t.tagName)?n=o:r[s]=o}}if(n){const i=r.style||(r.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function EH(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const i=n.data.estree.body[0];i.type;const s=i.expression;s.type;const o=s.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else hu(e,t.position);else{const a=n.name;let i;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else hu(e,t.position);else i=n.value===null?!0:n.value;r[a]=i}return r}function Wm(e,t){const r=[];let n=-1;const a=e.passKeys?new Map:lH;for(;++n<t.children.length;){const i=t.children[n];let s;if(e.passKeys){const u=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(u){const l=a.get(u)||0;s=u+"-"+l,a.set(u,l+1)}}const o=Ww(e,i,s);o!==void 0&&r.push(o)}return r}function kH(e,t,r){const n=m0(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?ex(r):tx(r)),n.property==="style"){let a=typeof r=="object"?r:_H(e,String(r));return e.stylePropertyNameCase==="css"&&(a=SH(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&n.space?KR[n.property]||n.property:n.attribute,r]}}function _H(e,t){try{return uH(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,a=new xr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=qw+"#cannot-parse-style-attribute",a}}function Gw(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,s;for(;++i<a.length;){const o=rb(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(i&&o.type==="Literal"),optional:!1}:o}n=s}else n=rb(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const a=n.value;return Vm.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(n);hu(e)}function hu(e,t){const r=new xr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=qw+"#cannot-handle-mdx-estrees-without-createevaluater",r}function SH(e){const t={};let r;for(r in e)Vm.call(e,r)&&(t[AH(r)]=e[r]);return t}function AH(e){let t=e.replace(cH,CH);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function CH(e){return"-"+e.toLowerCase()}const IH={tokenize:NH};function NH(e){const t=e.attempt(this.parser.constructs.contentInitial,n,a);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),tt(e,t,"linePrefix")}function a(o){return e.enter("paragraph"),i(o)}function i(o){const u=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=u),r=u,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Re(o)?(e.consume(o),e.exit("chunkText"),i):(e.consume(o),s)}}const RH={tokenize:OH},cb={tokenize:MH};function OH(e){const t=this,r=[];let n=0,a,i,s;return o;function o(_){if(n<r.length){const k=r[n];return t.containerState=k[1],e.attempt(k[0].continuation,u,l)(_)}return l(_)}function u(_){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&x();const k=t.events.length;let C=k,A;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){A=t.events[C][1].end;break}y(n);let P=k;for(;P<t.events.length;)t.events[P][1].end={...A},P++;return pr(t.events,C+1,0,t.events.slice(k)),t.events.length=P,l(_)}return o(_)}function l(_){if(n===r.length){if(!a)return h(_);if(a.currentConstruct&&a.currentConstruct.concrete)return p(_);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(cb,c,d)(_)}function c(_){return a&&x(),y(n),h(_)}function d(_){return t.parser.lazy[t.now().line]=n!==r.length,s=t.now().offset,p(_)}function h(_){return t.containerState={},e.attempt(cb,f,p)(_)}function f(_){return n++,r.push([t.currentConstruct,t.containerState]),h(_)}function p(_){if(_===null){a&&x(),y(0),e.consume(_);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),g(_)}function g(_){if(_===null){T(e.exit("chunkFlow"),!0),y(0),e.consume(_);return}return Re(_)?(e.consume(_),T(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(_),g)}function T(_,k){const C=t.sliceStream(_);if(k&&C.push(null),_.previous=i,i&&(i.next=_),i=_,a.defineSkip(_.start),a.write(C),t.parser.lazy[_.start.line]){let A=a.events.length;for(;A--;)if(a.events[A][1].start.offset<s&&(!a.events[A][1].end||a.events[A][1].end.offset>s))return;const P=t.events.length;let D=P,$,F;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if($){F=t.events[D][1].end;break}$=!0}for(y(n),A=P;A<t.events.length;)t.events[A][1].end={...F},A++;pr(t.events,D+1,0,t.events.slice(P)),t.events.length=A}}function y(_){let k=r.length;for(;k-- >_;){const C=r[k];t.containerState=C[1],C[0].exit.call(t,e)}r.length=_}function x(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function MH(e,t,r){return tt(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const PH={tokenize:DH};function DH(e){const t=this,r=e.attempt(Hu,n,e.attempt(this.parser.constructs.flowInitial,a,tt(e,e.attempt(this.parser.constructs.flow,a,e.attempt(x$,a)),"linePrefix")));return r;function n(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const LH={resolveAll:Kw()},FH=Yw("string"),BH=Yw("text");function Yw(e){return{resolveAll:Kw(e==="text"?jH:void 0),tokenize:t};function t(r){const n=this,a=this.parser.constructs[e],i=r.attempt(a,s,o);return s;function s(c){return l(c)?i(c):o(c)}function o(c){if(c===null){r.consume(c);return}return r.enter("data"),r.consume(c),u}function u(c){return l(c)?(r.exit("data"),i(c)):(r.consume(c),u)}function l(c){if(c===null)return!0;const d=a[c];let h=-1;if(d)for(;++h<d.length;){const f=d[h];if(!f.previous||f.previous.call(n,n.previous))return!0}return!1}}}function Kw(e){return t;function t(r,n){let a=-1,i;for(;++a<=r.length;)i===void 0?r[a]&&r[a][1].type==="data"&&(i=a,a++):(!r[a]||r[a][1].type!=="data")&&(a!==i+2&&(r[i][1].end=r[a-1][1].end,r.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(r,n):r}}function jH(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],a=t.sliceStream(n);let i=a.length,s=-1,o=0,u;for(;i--;){const l=a[i];if(typeof l=="string"){for(s=l.length;l.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(l===-2)u=!0,o++;else if(l!==-1){i++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const l={type:r===e.length||u||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?s:n.start._bufferIndex+s,_index:n.start._index+i,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...l.start},n.start.offset===n.end.offset?Object.assign(n,l):(e.splice(r,0,["enter",l,t],["exit",l,t]),r+=2)}r++}return e}const $H={42:Lr,43:Lr,45:Lr,48:Lr,49:Lr,50:Lr,51:Lr,52:Lr,53:Lr,54:Lr,55:Lr,56:Lr,57:Lr,62:Mw},zH={91:_$},UH={[-2]:Ud,[-1]:Ud,32:Ud},HH={35:R$,42:Kl,45:[J2,Kl],60:D$,61:J2,95:Kl,96:K2,126:K2},VH={38:Dw,92:Pw},qH={[-5]:Hd,[-4]:Hd,[-3]:Hd,33:Q$,38:Dw,42:Df,60:[t$,U$],91:tz,92:[I$,Pw],93:Hm,95:Df,96:p$},WH={null:[Df,LH]},ZH={null:[42,95]},GH={null:[]},YH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ZH,contentInitial:zH,disable:GH,document:$H,flow:HH,flowInitial:UH,insideSpan:WH,string:VH,text:qH},Symbol.toStringTag,{value:"Module"}));function KH(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const a={},i=[];let s=[],o=[];const u={attempt:P(C),check:P(A),consume:x,enter:_,exit:k,interrupt:P(A,{interrupt:!0})},l={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:f,write:d};let c=t.tokenize.call(l,u);return t.resolveAll&&i.push(t),l;function d(q){return s=hr(s,q),T(),s[s.length-1]!==null?[]:(D(t,0),l.events=Js(i,l.events,l),l.events)}function h(q,U){return JH(f(q),U)}function f(q){return XH(s,q)}function p(){const{_bufferIndex:q,_index:U,line:ee,column:Z,offset:J}=n;return{_bufferIndex:q,_index:U,line:ee,column:Z,offset:J}}function g(q){a[q.line]=q.column,F()}function T(){let q;for(;n._index<s.length;){const U=s[n._index];if(typeof U=="string")for(q=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===q&&n._bufferIndex<U.length;)y(U.charCodeAt(n._bufferIndex));else y(U)}}function y(q){c=c(q)}function x(q){Re(q)?(n.line++,n.column=1,n.offset+=q===-3?2:1,F()):q!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),l.previous=q}function _(q,U){const ee=U||{};return ee.type=q,ee.start=p(),l.events.push(["enter",ee,l]),o.push(ee),ee}function k(q){const U=o.pop();return U.end=p(),l.events.push(["exit",U,l]),U}function C(q,U){D(q,U.from)}function A(q,U){U.restore()}function P(q,U){return ee;function ee(Z,J,be){let Te,ye,ne,R;return Array.isArray(Z)?W(Z):"tokenize"in Z?W([Z]):pe(Z);function pe(ge){return ae;function ae(Me){const Ue=Me!==null&&ge[Me],at=Me!==null&&ge.null,Ot=[...Array.isArray(Ue)?Ue:Ue?[Ue]:[],...Array.isArray(at)?at:at?[at]:[]];return W(Ot)(Me)}}function W(ge){return Te=ge,ye=0,ge.length===0?be:O(ge[ye])}function O(ge){return ae;function ae(Me){return R=$(),ne=ge,ge.partial||(l.currentConstruct=ge),ge.name&&l.parser.constructs.disable.null.includes(ge.name)?me():ge.tokenize.call(U?Object.assign(Object.create(l),U):l,u,Ie,me)(Me)}}function Ie(ge){return q(ne,R),J}function me(ge){return R.restore(),++ye<Te.length?O(Te[ye]):be}}}function D(q,U){q.resolveAll&&!i.includes(q)&&i.push(q),q.resolve&&pr(l.events,U,l.events.length-U,q.resolve(l.events.slice(U),l)),q.resolveTo&&(l.events=q.resolveTo(l.events,l))}function $(){const q=p(),U=l.previous,ee=l.currentConstruct,Z=l.events.length,J=Array.from(o);return{from:Z,restore:be};function be(){n=q,l.previous=U,l.currentConstruct=ee,l.events.length=Z,o=J,F()}}function F(){n.line in a&&n.column<2&&(n.column=a[n.line],n.offset+=a[n.line]-1)}}function XH(e,t){const r=t.start._index,n=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let s;if(r===a)s=[e[r].slice(n,i)];else{if(s=e.slice(r,a),n>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(n):s.shift()}i>0&&s.push(e[a].slice(0,i))}return s}function JH(e,t){let r=-1;const n=[];let a;for(;++r<e.length;){const i=e[r];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&a)continue;s=" ";break}default:s=String.fromCharCode(i)}a=i===-2,n.push(s)}return n.join("")}function QH(e){const n={constructs:kw([YH,...(e||{}).extensions||[]]),content:a(IH),defined:[],document:a(RH),flow:a(PH),lazy:{},string:a(FH),text:a(BH)};return n;function a(i){return s;function s(o){return KH(n,i,o)}}}function eV(e){for(;!Lw(e););return e}const db=/[\0\t\n\r]/g;function tV(){let e=1,t="",r=!0,n;return a;function a(i,s,o){const u=[];let l,c,d,h,f;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),d=0,t="",r&&(i.charCodeAt(0)===65279&&d++,r=void 0);d<i.length;){if(db.lastIndex=d,l=db.exec(i),h=l&&l.index!==void 0?l.index:i.length,f=i.charCodeAt(h),!l){t=i.slice(d);break}if(f===10&&d===h&&n)u.push(-3),n=void 0;else switch(n&&(u.push(-5),n=void 0),d<h&&(u.push(i.slice(d,h)),e+=h-d),f){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:n=!0,e=1}d=h+1}return o&&(n&&u.push(-5),t&&u.push(t),u.push(null)),u}}const Xw={}.hasOwnProperty;function rV(e,t,r){return typeof t!="string"&&(r=t,t=void 0),nV(r)(eV(QH(r).document().write(tV()(e,t,!0))))}function nV(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(sr),autolinkProtocol:$,autolinkEmail:$,atxHeading:i(it),blockQuote:i(at),characterEscape:$,characterReference:$,codeFenced:i(Ot),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(Ot,s),codeText:i(Wr,s),codeTextData:$,data:$,codeFlowValue:$,definition:i(kt),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(We),hardBreakEscape:i(At),hardBreakTrailing:i(At),htmlFlow:i(Ze,s),htmlFlowData:$,htmlText:i(Ze,s),htmlTextData:$,image:i(Vt),label:s,link:i(sr),listItem:i(vt),listItemValue:h,listOrdered:i(Ee,d),listUnordered:i(Ee),paragraph:i(Fn),reference:O,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(it),strong:i(xt),thematicBreak:i(gi)},exit:{atxHeading:u(),atxHeadingSequence:C,autolink:u(),autolinkEmail:Ue,autolinkProtocol:Me,blockQuote:u(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:ge,characterReference:ae,codeFenced:u(T),codeFencedFence:g,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:F,codeIndented:u(y),codeText:u(J),codeTextData:F,data:F,definition:u(),definitionDestinationString:k,definitionLabelString:x,definitionTitleString:_,emphasis:u(),hardBreakEscape:u(U),hardBreakTrailing:u(U),htmlFlow:u(ee),htmlFlowData:F,htmlText:u(Z),htmlTextData:F,image:u(Te),label:ne,labelText:ye,lineEnding:q,link:u(be),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Ie,resourceDestinationString:R,resourceTitleString:pe,resource:W,setextHeading:u(D),setextHeadingLineSequence:P,setextHeadingText:A,strong:u(),thematicBreak:u()}};Jw(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(K){let oe={type:"root",children:[]};const Pe={stack:[oe],tokenStack:[],config:t,enter:o,exit:l,buffer:s,resume:c,data:r},Ge=[];let st=-1;for(;++st<K.length;)if(K[st][1].type==="listOrdered"||K[st][1].type==="listUnordered")if(K[st][0]==="enter")Ge.push(st);else{const or=Ge.pop();st=a(K,or,st)}for(st=-1;++st<K.length;){const or=t[K[st][0]];Xw.call(or,K[st][1].type)&&or[K[st][1].type].call(Object.assign({sliceSerialize:K[st][2].sliceSerialize},Pe),K[st][1])}if(Pe.tokenStack.length>0){const or=Pe.tokenStack[Pe.tokenStack.length-1];(or[1]||hb).call(Pe,void 0,or[0])}for(oe.position={start:Ha(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:Ha(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},st=-1;++st<t.transforms.length;)oe=t.transforms[st](oe)||oe;return oe}function a(K,oe,Pe){let Ge=oe-1,st=-1,or=!1,sn,wt,wr,Tr;for(;++Ge<=Pe;){const mr=K[Ge];switch(mr[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{mr[0]==="enter"?st++:st--,Tr=void 0;break}case"lineEndingBlank":{mr[0]==="enter"&&(sn&&!Tr&&!st&&!wr&&(wr=Ge),Tr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Tr=void 0}if(!st&&mr[0]==="enter"&&mr[1].type==="listItemPrefix"||st===-1&&mr[0]==="exit"&&(mr[1].type==="listUnordered"||mr[1].type==="listOrdered")){if(sn){let Ba=Ge;for(wt=void 0;Ba--;){const xn=K[Ba];if(xn[1].type==="lineEnding"||xn[1].type==="lineEndingBlank"){if(xn[0]==="exit")continue;wt&&(K[wt][1].type="lineEndingBlank",or=!0),xn[1].type="lineEnding",wt=Ba}else if(!(xn[1].type==="linePrefix"||xn[1].type==="blockQuotePrefix"||xn[1].type==="blockQuotePrefixWhitespace"||xn[1].type==="blockQuoteMarker"||xn[1].type==="listItemIndent"))break}wr&&(!wt||wr<wt)&&(sn._spread=!0),sn.end=Object.assign({},wt?K[wt][1].start:mr[1].end),K.splice(wt||Ge,0,["exit",sn,mr[2]]),Ge++,Pe++}if(mr[1].type==="listItemPrefix"){const Ba={type:"listItem",_spread:!1,start:Object.assign({},mr[1].start),end:void 0};sn=Ba,K.splice(Ge,0,["enter",Ba,mr[2]]),Ge++,Pe++,wr=void 0,Tr=!0}}}return K[oe][1]._spread=or,Pe}function i(K,oe){return Pe;function Pe(Ge){o.call(this,K(Ge),Ge),oe&&oe.call(this,Ge)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(K,oe,Pe){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([oe,Pe||void 0]),K.position={start:Ha(oe.start),end:void 0}}function u(K){return oe;function oe(Pe){K&&K.call(this,Pe),l.call(this,Pe)}}function l(K,oe){const Pe=this.stack.pop(),Ge=this.tokenStack.pop();if(Ge)Ge[0].type!==K.type&&(oe?oe.call(this,K,Ge[0]):(Ge[1]||hb).call(this,K,Ge[0]));else throw new Error("Cannot close `"+K.type+"` ("+Ko({start:K.start,end:K.end})+"): its not open");Pe.position.end=Ha(K.end)}function c(){return jm(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(K){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function f(){const K=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=K}function p(){const K=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=K}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const K=this.resume(),oe=this.stack[this.stack.length-1];oe.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const K=this.resume(),oe=this.stack[this.stack.length-1];oe.value=K.replace(/(\r?\n|\r)$/g,"")}function x(K){const oe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=oe,Pe.identifier=On(this.sliceSerialize(K)).toLowerCase()}function _(){const K=this.resume(),oe=this.stack[this.stack.length-1];oe.title=K}function k(){const K=this.resume(),oe=this.stack[this.stack.length-1];oe.url=K}function C(K){const oe=this.stack[this.stack.length-1];if(!oe.depth){const Pe=this.sliceSerialize(K).length;oe.depth=Pe}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function P(K){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function $(K){const Pe=this.stack[this.stack.length-1].children;let Ge=Pe[Pe.length-1];(!Ge||Ge.type!=="text")&&(Ge=an(),Ge.position={start:Ha(K.start),end:void 0},Pe.push(Ge)),this.stack.push(Ge)}function F(K){const oe=this.stack.pop();oe.value+=this.sliceSerialize(K),oe.position.end=Ha(K.end)}function q(K){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Pe=oe.children[oe.children.length-1];Pe.position.end=Ha(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(oe.type)&&($.call(this,K),F.call(this,K))}function U(){this.data.atHardBreak=!0}function ee(){const K=this.resume(),oe=this.stack[this.stack.length-1];oe.value=K}function Z(){const K=this.resume(),oe=this.stack[this.stack.length-1];oe.value=K}function J(){const K=this.resume(),oe=this.stack[this.stack.length-1];oe.value=K}function be(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=oe,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function Te(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=oe,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function ye(K){const oe=this.sliceSerialize(K),Pe=this.stack[this.stack.length-2];Pe.label=_j(oe),Pe.identifier=On(oe).toLowerCase()}function ne(){const K=this.stack[this.stack.length-1],oe=this.resume(),Pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Pe.type==="link"){const Ge=K.children;Pe.children=Ge}else Pe.alt=oe}function R(){const K=this.resume(),oe=this.stack[this.stack.length-1];oe.url=K}function pe(){const K=this.resume(),oe=this.stack[this.stack.length-1];oe.title=K}function W(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function Ie(K){const oe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=oe,Pe.identifier=On(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function me(K){this.data.characterReferenceType=K.type}function ge(K){const oe=this.sliceSerialize(K),Pe=this.data.characterReferenceType;let Ge;Pe?(Ge=Ew(oe,Pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ge=zm(oe);const st=this.stack[this.stack.length-1];st.value+=Ge}function ae(K){const oe=this.stack.pop();oe.position.end=Ha(K.end)}function Me(K){F.call(this,K);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(K)}function Ue(K){F.call(this,K);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(K)}function at(){return{type:"blockquote",children:[]}}function Ot(){return{type:"code",lang:null,meta:null,value:""}}function Wr(){return{type:"inlineCode",value:""}}function kt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function We(){return{type:"emphasis",children:[]}}function it(){return{type:"heading",depth:0,children:[]}}function At(){return{type:"break"}}function Ze(){return{type:"html",value:""}}function Vt(){return{type:"image",title:null,url:"",alt:null}}function sr(){return{type:"link",title:null,url:"",children:[]}}function Ee(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function vt(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function Fn(){return{type:"paragraph",children:[]}}function xt(){return{type:"strong",children:[]}}function an(){return{type:"text",value:""}}function gi(){return{type:"thematicBreak"}}}function Ha(e){return{line:e.line,column:e.column,offset:e.offset}}function Jw(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?Jw(e,n):aV(e,n)}}function aV(e,t){let r;for(r in t)if(Xw.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function hb(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ko({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ko({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ko({start:t.start,end:t.end})+") is still open")}function iV(e){const t=this;t.parser=r;function r(n){return rV(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function sV(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function oV(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function uV(e,t){const r=t.value?t.value+`
`:"",n={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(n.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function lV(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function cV(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dV(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),a=Qs(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),s=e.footnoteOrder.length):s=i+1,o+=1,e.footnoteCounts.set(n,o);const u={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+a,id:r+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,u);const l={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,l),e.applyData(t,l)}function hV(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function fV(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function Qw(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const s=a[a.length-1];return s&&s.type==="text"?s.value+=n:a.push({type:"text",value:n}),a}function pV(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return Qw(e,t);const a={src:Qs(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(a.title=n.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function mV(e,t){const r={src:Qs(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function gV(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function yV(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return Qw(e,t);const a={href:Qs(n.url||"")};n.title!==null&&n.title!==void 0&&(a.title=n.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function bV(e,t){const r={href:Qs(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vV(e,t,r){const n=e.all(t),a=r?xV(r):eT(t),i={},s=[];if(typeof t.checked=="boolean"){const c=n[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},n.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const c=n[o];(a||o!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!a?s.push(...c.children):s.push(c)}const u=n[n.length-1];u&&(a||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:i,children:s};return e.patch(t,l),e.applyData(t,l)}function xV(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=eT(r[n])}return t}function eT(e){const t=e.spread;return t??e.children.length>1}function wV(e,t){const r={},n=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++a<n.length;){const s=n[a];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,i),e.applyData(t,i)}function TV(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function EV(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function kV(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function _V(e,t){const r=e.all(t),n=r.shift(),a=[];if(n){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],s),a.push(s)}if(r.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=ca(t.children[1]),u=C0(t.children[t.children.length-1]);o&&u&&(s.position={start:o,end:u}),a.push(s)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function SV(e,t,r){const n=r?r.children:void 0,i=(n?n.indexOf(t):1)===0?"th":"td",s=r&&r.type==="table"?r.align:void 0,o=s?s.length:t.children.length;let u=-1;const l=[];for(;++u<o;){const d=t.children[u],h={},f=s?s[u]:void 0;f&&(h.align=f);let p={type:"element",tagName:i,properties:h,children:[]};d&&(p.children=e.all(d),e.patch(d,p),p=e.applyData(d,p)),l.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function AV(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const fb=9,pb=32;function CV(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),a=0;const i=[];for(;n;)i.push(mb(t.slice(a,n.index),a>0,!0),n[0]),a=n.index+n[0].length,n=r.exec(t);return i.push(mb(t.slice(a),a>0,!1)),i.join("")}function mb(e,t,r){let n=0,a=e.length;if(t){let i=e.codePointAt(n);for(;i===fb||i===pb;)n++,i=e.codePointAt(n)}if(r){let i=e.codePointAt(a-1);for(;i===fb||i===pb;)a--,i=e.codePointAt(a-1)}return a>n?e.slice(n,a):""}function IV(e,t){const r={type:"text",value:CV(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function NV(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const RV={blockquote:sV,break:oV,code:uV,delete:lV,emphasis:cV,footnoteReference:dV,heading:hV,html:fV,imageReference:pV,image:mV,inlineCode:gV,linkReference:yV,link:bV,listItem:vV,list:wV,paragraph:TV,root:EV,strong:kV,table:_V,tableCell:AV,tableRow:SV,text:IV,thematicBreak:NV,toml:Cl,yaml:Cl,definition:Cl,footnoteDefinition:Cl};function Cl(){}function OV(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function MV(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function PV(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||OV,n=e.options.footnoteBackLabel||MV,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let u=-1;for(;++u<e.footnoteOrder.length;){const l=e.footnoteById.get(e.footnoteOrder[u]);if(!l)continue;const c=e.all(l),d=String(l.identifier).toUpperCase(),h=Qs(d.toLowerCase());let f=0;const p=[],g=e.footnoteCounts.get(d);for(;g!==void 0&&++f<=g;){p.length>0&&p.push({type:"text",value:" "});let x=typeof r=="string"?r:r(u,f);typeof x=="string"&&(x={type:"text",value:x}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(u,f),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const T=c[c.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const x=T.children[T.children.length-1];x&&x.type==="text"?x.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...p)}else c.push(...p);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(c,!0)};e.patch(l,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Cs(s),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const jf={}.hasOwnProperty,DV={};function LV(e,t){const r=t||DV,n=new Map,a=new Map,i=new Map,s={...RV,...r.handlers},o={all:l,applyData:BV,definitionById:n,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:s,one:u,options:r,patch:FV,wrap:$V};return Ss(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?n:a,h=String(c.identifier).toUpperCase();d.has(h)||d.set(h,c)}}),o;function u(c,d){const h=c.type,f=o.handlers[h];if(jf.call(o.handlers,h)&&f)return f(o,c,d);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in c){const{children:g,...T}=c,y=Cs(T);return y.children=o.all(c),y}return Cs(c)}return(o.options.unknownHandler||jV)(o,c,d)}function l(c){const d=[];if("children"in c){const h=c.children;let f=-1;for(;++f<h.length;){const p=o.one(h[f],c);if(p){if(f&&h[f-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=gb(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=gb(g.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function FV(e,t){e.position&&(t.position=yF(e))}function BV(e,t){let r=t;if(e&&e.data){const n=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const s="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:s}}r.type==="element"&&i&&Object.assign(r.properties,Cs(i)),"children"in r&&r.children&&a!==null&&a!==void 0&&(r.children=a)}return r}function jV(e,t){const r=t.data||{},n="value"in t&&!(jf.call(r,"hProperties")||jf.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $V(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function gb(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function yb(e,t){const r=LV(e,t),n=r.one(e,void 0),a=PV(r),i=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function zV(e,t){return e&&"run"in e?async function(r,n){const a=yb(r,{file:n,...t});await e.run(a,n)}:function(r,n){return yb(r,{file:n,...e||t})}}function bb(e){if(e)throw e}var qd,vb;function UV(){if(vb)return qd;vb=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=function(l){return typeof Array.isArray=="function"?Array.isArray(l):t.call(l)==="[object Array]"},i=function(l){if(!l||t.call(l)!=="[object Object]")return!1;var c=e.call(l,"constructor"),d=l.constructor&&l.constructor.prototype&&e.call(l.constructor.prototype,"isPrototypeOf");if(l.constructor&&!c&&!d)return!1;var h;for(h in l);return typeof h>"u"||e.call(l,h)},s=function(l,c){r&&c.name==="__proto__"?r(l,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):l[c.name]=c.newValue},o=function(l,c){if(c==="__proto__")if(e.call(l,c)){if(n)return n(l,c).value}else return;return l[c]};return qd=function u(){var l,c,d,h,f,p,g=arguments[0],T=1,y=arguments.length,x=!1;for(typeof g=="boolean"&&(x=g,g=arguments[1]||{},T=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});T<y;++T)if(l=arguments[T],l!=null)for(c in l)d=o(g,c),h=o(l,c),g!==h&&(x&&h&&(i(h)||(f=a(h)))?(f?(f=!1,p=d&&a(d)?d:[]):p=d&&i(d)?d:{},s(g,{name:c,newValue:u(x,p,h)})):typeof h<"u"&&s(g,{name:c,newValue:h}));return g},qd}var HV=UV();const Wd=Pa(HV);function $f(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function VV(){const e=[],t={run:r,use:n};return t;function r(...a){let i=-1;const s=a.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...a);function o(u,...l){const c=e[++i];let d=-1;if(u){s(u);return}for(;++d<a.length;)(l[d]===null||l[d]===void 0)&&(l[d]=a[d]);a=l,c?qV(c,o)(...l):s(null,...l)}}function n(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function qV(e,t){let r;return n;function n(...s){const o=e.length>s.length;let u;o&&s.push(a);try{u=e.apply(this,s)}catch(l){const c=l;if(o&&r)throw c;return a(c)}o||(u&&u.then&&typeof u.then=="function"?u.then(i,a):u instanceof Error?a(u):i(u))}function a(s,...o){r||(r=!0,t(s,...o))}function i(s){a(null,s)}}const zn={basename:WV,dirname:ZV,extname:GV,join:YV,sep:"/"};function WV(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Vu(e);let r=0,n=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){r=a+1;break}}else n<0&&(i=!0,n=a+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let s=-1,o=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){r=a+1;break}}else s<0&&(i=!0,s=a+1),o>-1&&(e.codePointAt(a)===t.codePointAt(o--)?o<0&&(n=a):(o=-1,n=s));return r===n?n=s:n<0&&(n=e.length),e.slice(r,n)}function ZV(e){if(Vu(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function GV(e){Vu(e);let t=e.length,r=-1,n=0,a=-1,i=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){n=t+1;break}continue}r<0&&(s=!0,r=t+1),o===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||r<0||i===0||i===1&&a===r-1&&a===n+1?"":e.slice(a,r)}function YV(...e){let t=-1,r;for(;++t<e.length;)Vu(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":KV(r)}function KV(e){Vu(e);const t=e.codePointAt(0)===47;let r=XV(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function XV(e,t){let r="",n=0,a=-1,i=0,s=-1,o,u;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(a===s-1||i===1))if(a!==s-1&&i===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(u=r.lastIndexOf("/"),u!==r.length-1){u<0?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),a=s,i=0;continue}}else if(r.length>0){r="",n=0,a=s,i=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(a+1,s):r=e.slice(a+1,s),n=s-a-1;a=s,i=0}else o===46&&i>-1?i++:i=-1}return r}function Vu(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const JV={cwd:QV};function QV(){return"/"}function zf(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function eq(e){if(typeof e=="string")e=new URL(e);else if(!zf(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return tq(e)}function tq(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Zd=["history","path","basename","stem","extname","dirname"];class rq{constructor(t){let r;t?zf(t)?r={path:t}:typeof t=="string"||nq(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":JV.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Zd.length;){const i=Zd[n];i in r&&r[i]!==void 0&&r[i]!==null&&(this[i]=i==="history"?[...r[i]]:r[i])}let a;for(a in r)Zd.includes(a)||(this[a]=r[a])}get basename(){return typeof this.path=="string"?zn.basename(this.path):void 0}set basename(t){Yd(t,"basename"),Gd(t,"basename"),this.path=zn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?zn.dirname(this.path):void 0}set dirname(t){xb(this.basename,"dirname"),this.path=zn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?zn.extname(this.path):void 0}set extname(t){if(Gd(t,"extname"),xb(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=zn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){zf(t)&&(t=eq(t)),Yd(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?zn.basename(this.path,this.extname):void 0}set stem(t){Yd(t,"stem"),Gd(t,"stem"),this.path=zn.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const a=this.message(t,r,n);throw a.fatal=!0,a}info(t,r,n){const a=this.message(t,r,n);return a.fatal=void 0,a}message(t,r,n){const a=new xr(t,r,n);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Gd(e,t){if(e&&e.includes(zn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+zn.sep+"`")}function Yd(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function xb(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function nq(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const aq=(function(e){const n=this.constructor.prototype,a=n[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,n),i}),iq={}.hasOwnProperty;class Zm extends aq{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=VV()}copy(){const t=new Zm;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(Wd(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(Jd("data",this.frozen),this.namespace[t]=r,this):iq.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Jd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const a=r.call(t,...n);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Il(t),n=this.parser||this.Parser;return Kd("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),Kd("process",this.parser||this.Parser),Xd("process",this.compiler||this.Compiler),r?a(void 0,r):new Promise(a);function a(i,s){const o=Il(t),u=n.parse(o);n.run(u,o,function(c,d,h){if(c||!d||!h)return l(c);const f=d,p=n.stringify(f,h);uq(p)?h.value=p:h.result=p,l(c,h)});function l(c,d){c||!d?s(c):i?i(d):r(void 0,d)}}}processSync(t){let r=!1,n;return this.freeze(),Kd("processSync",this.parser||this.Parser),Xd("processSync",this.compiler||this.Compiler),this.process(t,a),Tb("processSync","process",r),n;function a(i,s){r=!0,bb(i),n=s}}run(t,r,n){wb(t),this.freeze();const a=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?i(void 0,n):new Promise(i);function i(s,o){const u=Il(r);a.run(t,u,l);function l(c,d,h){const f=d||t;c?o(c):s?s(f):n(void 0,f,h)}}}runSync(t,r){let n=!1,a;return this.run(t,r,i),Tb("runSync","run",n),a;function i(s,o){bb(s),a=o,n=!0}}stringify(t,r){this.freeze();const n=Il(r),a=this.compiler||this.Compiler;return Xd("stringify",a),wb(t),a(t,n)}use(t,...r){const n=this.attachers,a=this.namespace;if(Jd("use",this.frozen),t!=null)if(typeof t=="function")u(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(l){if(typeof l=="function")u(l,[]);else if(typeof l=="object")if(Array.isArray(l)){const[c,...d]=l;u(c,d)}else s(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function s(l){if(!("plugins"in l)&&!("settings"in l))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(l.plugins),l.settings&&(a.settings=Wd(!0,a.settings,l.settings))}function o(l){let c=-1;if(l!=null)if(Array.isArray(l))for(;++c<l.length;){const d=l[c];i(d)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function u(l,c){let d=-1,h=-1;for(;++d<n.length;)if(n[d][0]===l){h=d;break}if(h===-1)n.push([l,...c]);else if(c.length>0){let[f,...p]=c;const g=n[h][1];$f(g)&&$f(f)&&(f=Wd(!0,g,f)),n[h]=[l,f,...p]}}}}const sq=new Zm().freeze();function Kd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Xd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Jd(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function wb(e){if(!$f(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Tb(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Il(e){return oq(e)?e:new rq(e)}function oq(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function uq(e){return typeof e=="string"||lq(e)}function lq(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}function Gm(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Gi=Gm();function tT(e){Gi=e}var Xo={exec:()=>null};function ft(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:(a,i)=>{let s=typeof i=="string"?i:i.source;return s=s.replace(Nr.caret,"$1"),r=r.replace(a,s),n},getRegex:()=>new RegExp(r,t)};return n}var cq=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Nr={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},dq=/^(?:[ \t]*(?:\n|$))+/,hq=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,fq=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,qu=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,pq=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ym=/(?:[*+-]|\d{1,9}[.)])/,rT=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,nT=ft(rT).replace(/bull/g,Ym).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),mq=ft(rT).replace(/bull/g,Ym).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Km=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,gq=/^[^\n]+/,Xm=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,yq=ft(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Xm).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),bq=ft(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ym).getRegex(),O0="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Jm=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,vq=ft("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Jm).replace("tag",O0).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),aT=ft(Km).replace("hr",qu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O0).getRegex(),xq=ft(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",aT).getRegex(),Qm={blockquote:xq,code:hq,def:yq,fences:fq,heading:pq,hr:qu,html:vq,lheading:nT,list:bq,newline:dq,paragraph:aT,table:Xo,text:gq},Eb=ft("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",qu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O0).getRegex(),wq={...Qm,lheading:mq,table:Eb,paragraph:ft(Km).replace("hr",qu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Eb).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O0).getRegex()},Tq={...Qm,html:ft(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Jm).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Xo,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ft(Km).replace("hr",qu).replace("heading",` *#{1,6} *[^
]`).replace("lheading",nT).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Eq=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,kq=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,iT=/^( {2,}|\\)\n(?!\s*$)/,_q=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,M0=/[\p{P}\p{S}]/u,e1=/[\s\p{P}\p{S}]/u,sT=/[^\s\p{P}\p{S}]/u,Sq=ft(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,e1).getRegex(),oT=/(?!~)[\p{P}\p{S}]/u,Aq=/(?!~)[\s\p{P}\p{S}]/u,Cq=/(?:[^\s\p{P}\p{S}]|~)/u,Iq=ft(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",cq?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),uT=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Nq=ft(uT,"u").replace(/punct/g,M0).getRegex(),Rq=ft(uT,"u").replace(/punct/g,oT).getRegex(),lT="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Oq=ft(lT,"gu").replace(/notPunctSpace/g,sT).replace(/punctSpace/g,e1).replace(/punct/g,M0).getRegex(),Mq=ft(lT,"gu").replace(/notPunctSpace/g,Cq).replace(/punctSpace/g,Aq).replace(/punct/g,oT).getRegex(),Pq=ft("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,sT).replace(/punctSpace/g,e1).replace(/punct/g,M0).getRegex(),Dq=ft(/\\(punct)/,"gu").replace(/punct/g,M0).getRegex(),Lq=ft(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Fq=ft(Jm).replace("(?:-->|$)","-->").getRegex(),Bq=ft("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Fq).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),kc=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,jq=ft(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",kc).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),cT=ft(/^!?\[(label)\]\[(ref)\]/).replace("label",kc).replace("ref",Xm).getRegex(),dT=ft(/^!?\[(ref)\](?:\[\])?/).replace("ref",Xm).getRegex(),$q=ft("reflink|nolink(?!\\()","g").replace("reflink",cT).replace("nolink",dT).getRegex(),kb=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,t1={_backpedal:Xo,anyPunctuation:Dq,autolink:Lq,blockSkip:Iq,br:iT,code:kq,del:Xo,emStrongLDelim:Nq,emStrongRDelimAst:Oq,emStrongRDelimUnd:Pq,escape:Eq,link:jq,nolink:dT,punctuation:Sq,reflink:cT,reflinkSearch:$q,tag:Bq,text:_q,url:Xo},zq={...t1,link:ft(/^!?\[(label)\]\((.*?)\)/).replace("label",kc).getRegex(),reflink:ft(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",kc).getRegex()},Uf={...t1,emStrongRDelimAst:Mq,emStrongLDelim:Rq,url:ft(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",kb).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:ft(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",kb).getRegex()},Uq={...Uf,br:ft(iT).replace("{2,}","*").getRegex(),text:ft(Uf.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Nl={normal:Qm,gfm:wq,pedantic:Tq},yo={normal:t1,gfm:Uf,breaks:Uq,pedantic:zq},Hq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_b=e=>Hq[e];function jn(e,t){if(t){if(Nr.escapeTest.test(e))return e.replace(Nr.escapeReplace,_b)}else if(Nr.escapeTestNoEncode.test(e))return e.replace(Nr.escapeReplaceNoEncode,_b);return e}function Sb(e){try{e=encodeURI(e).replace(Nr.percentDecode,"%")}catch{return null}return e}function Ab(e,t){let r=e.replace(Nr.findPipe,(i,s,o)=>{let u=!1,l=s;for(;--l>=0&&o[l]==="\\";)u=!u;return u?"|":" |"}),n=r.split(Nr.splitPipe),a=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;a<n.length;a++)n[a]=n[a].trim().replace(Nr.slashPipe,"|");return n}function bo(e,t,r){let n=e.length;if(n===0)return"";let a=0;for(;a<n&&e.charAt(n-a-1)===t;)a++;return e.slice(0,n-a)}function Vq(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function Cb(e,t,r,n,a){let i=t.href,s=t.title||null,o=e[1].replace(a.other.outputLinkReplace,"$1");n.state.inLink=!0;let u={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:i,title:s,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,u}function qq(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let a=n[1];return t.split(`
`).map(i=>{let s=i.match(r.other.beginningSpace);if(s===null)return i;let[o]=s;return o.length>=a.length?i.slice(a.length):i}).join(`
`)}var _c=class{options;rules;lexer;constructor(e){this.options=e||Gi}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:bo(r,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let r=t[0],n=qq(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){let n=bo(r,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(r=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:bo(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let r=bo(t[0],`
`).split(`
`),n="",a="",i=[];for(;r.length>0;){let s=!1,o=[],u;for(u=0;u<r.length;u++)if(this.rules.other.blockquoteStart.test(r[u]))o.push(r[u]),s=!0;else if(!s)o.push(r[u]);else break;r=r.slice(u);let l=o.join(`
`),c=l.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${l}`:l,a=a?`${a}
${c}`:c;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,i,!0),this.lexer.state.top=d,r.length===0)break;let h=i.at(-1);if(h?.type==="code")break;if(h?.type==="blockquote"){let f=h,p=f.raw+`
`+r.join(`
`),g=this.blockquote(p);i[i.length-1]=g,n=n.substring(0,n.length-f.raw.length)+g.raw,a=a.substring(0,a.length-f.text.length)+g.text;break}else if(h?.type==="list"){let f=h,p=f.raw+`
`+r.join(`
`),g=this.list(p);i[i.length-1]=g,n=n.substring(0,n.length-h.raw.length)+g.raw,a=a.substring(0,a.length-f.raw.length)+g.raw,r=p.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:i,text:a}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim(),n=r.length>1,a={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");let i=this.rules.other.listItemRegex(r),s=!1;for(;e;){let u=!1,l="",c="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let d=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,y=>" ".repeat(3*y.length)),h=e.split(`
`,1)[0],f=!d.trim(),p=0;if(this.options.pedantic?(p=2,c=d.trimStart()):f?p=t[1].length+1:(p=t[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,c=d.slice(p),p+=t[1].length),f&&this.rules.other.blankLine.test(h)&&(l+=h+`
`,e=e.substring(h.length+1),u=!0),!u){let y=this.rules.other.nextBulletRegex(p),x=this.rules.other.hrRegex(p),_=this.rules.other.fencesBeginRegex(p),k=this.rules.other.headingBeginRegex(p),C=this.rules.other.htmlBeginRegex(p);for(;e;){let A=e.split(`
`,1)[0],P;if(h=A,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),P=h):P=h.replace(this.rules.other.tabCharGlobal,"    "),_.test(h)||k.test(h)||C.test(h)||y.test(h)||x.test(h))break;if(P.search(this.rules.other.nonSpaceChar)>=p||!h.trim())c+=`
`+P.slice(p);else{if(f||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||_.test(d)||k.test(d)||x.test(d))break;c+=`
`+h}!f&&!h.trim()&&(f=!0),l+=A+`
`,e=e.substring(A.length+1),d=P.slice(p)}}a.loose||(s?a.loose=!0:this.rules.other.doubleBlankLine.test(l)&&(s=!0));let g=null,T;this.options.gfm&&(g=this.rules.other.listIsTask.exec(c),g&&(T=g[0]!=="[ ] ",c=c.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:l,task:!!g,checked:T,loose:!1,text:c,tokens:[]}),a.raw+=l}let o=a.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let u=0;u<a.items.length;u++)if(this.lexer.state.top=!1,a.items[u].tokens=this.lexer.blockTokens(a.items[u].text,[]),!a.loose){let l=a.items[u].tokens.filter(d=>d.type==="space"),c=l.length>0&&l.some(d=>this.rules.other.anyLine.test(d.raw));a.loose=c}if(a.loose)for(let u=0;u<a.items.length;u++)a.items[u].loose=!0;return a}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:n,title:a}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let r=Ab(t[1]),n=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===n.length){for(let s of n)this.rules.other.tableAlignRight.test(s)?i.align.push("right"):this.rules.other.tableAlignCenter.test(s)?i.align.push("center"):this.rules.other.tableAlignLeft.test(s)?i.align.push("left"):i.align.push(null);for(let s=0;s<r.length;s++)i.header.push({text:r[s],tokens:this.lexer.inline(r[s]),header:!0,align:i.align[s]});for(let s of a)i.rows.push(Ab(s,i.header.length).map((o,u)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:i.align[u]})));return i}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let i=bo(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{let i=Vq(t[2],"()");if(i===-2)return;if(i>-1){let s=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let n=t[2],a="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(n);i&&(n=i[1],a=i[3])}else a=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?n=n.slice(1):n=n.slice(1,-1)),Cb(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let n=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=t[n.toLowerCase()];if(!a){let i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return Cb(r,a,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!r||this.rules.inline.punctuation.exec(r))){let a=[...n[0]].length-1,i,s,o=a,u=0,l=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+a);(n=l.exec(t))!=null;){if(i=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!i)continue;if(s=[...i].length,n[3]||n[4]){o+=s;continue}else if((n[5]||n[6])&&a%3&&!((a+s)%3)){u+=s;continue}if(o-=s,o>0)continue;s=Math.min(s,s+o+u);let c=[...n[0]][0].length,d=e.slice(0,a+n.index+c+s);if(Math.min(a,s)%2){let f=d.slice(1,-1);return{type:"em",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}let h=d.slice(2,-2);return{type:"strong",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(r),a=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return n&&a&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let r,n;return t[2]==="@"?(r=t[1],n="mailto:"+r):(r=t[1],n=r),{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let r,n;if(t[2]==="@")r=t[0],n="mailto:"+r;else{let a;do a=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(a!==t[0]);r=t[0],t[1]==="www."?n="http://"+t[0]:n=t[0]}return{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}},ln=class Hf{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Gi,this.options.tokenizer=this.options.tokenizer||new _c,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:Nr,block:Nl.normal,inline:yo.normal};this.options.pedantic?(r.block=Nl.pedantic,r.inline=yo.pedantic):this.options.gfm&&(r.block=Nl.gfm,this.options.breaks?r.inline=yo.breaks:r.inline=yo.gfm),this.tokenizer.rules=r}static get rules(){return{block:Nl,inline:yo}}static lex(t,r){return new Hf(r).lex(t)}static lexInline(t,r){return new Hf(r).inlineTokens(t)}lex(t){t=t.replace(Nr.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){for(this.options.pedantic&&(t=t.replace(Nr.tabCharGlobal,"    ").replace(Nr.spaceLine,""));t;){let a;if(this.options.extensions?.block?.some(s=>(a=s.call({lexer:this},t,r))?(t=t.substring(a.raw.length),r.push(a),!0):!1))continue;if(a=this.tokenizer.space(t)){t=t.substring(a.raw.length);let s=r.at(-1);a.raw.length===1&&s!==void 0?s.raw+=`
`:r.push(a);continue}if(a=this.tokenizer.code(t)){t=t.substring(a.raw.length);let s=r.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+a.raw,s.text+=`
`+a.text,this.inlineQueue.at(-1).src=s.text):r.push(a);continue}if(a=this.tokenizer.fences(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.heading(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.hr(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.blockquote(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.list(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.html(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.def(t)){t=t.substring(a.raw.length);let s=r.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+a.raw,s.text+=`
`+a.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},r.push(a));continue}if(a=this.tokenizer.table(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.lheading(t)){t=t.substring(a.raw.length),r.push(a);continue}let i=t;if(this.options.extensions?.startBlock){let s=1/0,o=t.slice(1),u;this.options.extensions.startBlock.forEach(l=>{u=l.call({lexer:this},o),typeof u=="number"&&u>=0&&(s=Math.min(s,u))}),s<1/0&&s>=0&&(i=t.substring(0,s+1))}if(this.state.top&&(a=this.tokenizer.paragraph(i))){let s=r.at(-1);n&&s?.type==="paragraph"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+a.raw,s.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):r.push(a),n=i.length!==t.length,t=t.substring(a.raw.length);continue}if(a=this.tokenizer.text(t)){t=t.substring(a.raw.length);let s=r.at(-1);s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+a.raw,s.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):r.push(a);continue}if(t){let s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n=t,a=null;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,a.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(a=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)i=a[2]?a[2].length:0,n=n.slice(0,a.index+i)+"["+"a".repeat(a[0].length-i-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let s=!1,o="";for(;t;){s||(o=""),s=!1;let u;if(this.options.extensions?.inline?.some(c=>(u=c.call({lexer:this},t,r))?(t=t.substring(u.raw.length),r.push(u),!0):!1))continue;if(u=this.tokenizer.escape(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.tag(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.link(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(u.raw.length);let c=r.at(-1);u.type==="text"&&c?.type==="text"?(c.raw+=u.raw,c.text+=u.text):r.push(u);continue}if(u=this.tokenizer.emStrong(t,n,o)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.codespan(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.br(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.del(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.autolink(t)){t=t.substring(u.raw.length),r.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(t))){t=t.substring(u.raw.length),r.push(u);continue}let l=t;if(this.options.extensions?.startInline){let c=1/0,d=t.slice(1),h;this.options.extensions.startInline.forEach(f=>{h=f.call({lexer:this},d),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(u=this.tokenizer.inlineText(l)){t=t.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(o=u.raw.slice(-1)),s=!0;let c=r.at(-1);c?.type==="text"?(c.raw+=u.raw,c.text+=u.text):r.push(u);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return r}},Sc=class{options;parser;constructor(t){this.options=t||Gi}space(t){return""}code({text:t,lang:r,escaped:n}){let a=(r||"").match(Nr.notSpaceStart)?.[0],i=t.replace(Nr.endingNewline,"")+`
`;return a?'<pre><code class="language-'+jn(a)+'">'+(n?i:jn(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:jn(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,n=t.start,a="";for(let o=0;o<t.items.length;o++){let u=t.items[o];a+=this.listitem(u)}let i=r?"ol":"ul",s=r&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+a+"</"+i+`>
`}listitem(t){let r="";if(t.task){let n=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+jn(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):r+=n+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let i=0;i<t.header.length;i++)n+=this.tablecell(t.header[i]);r+=this.tablerow({text:n});let a="";for(let i=0;i<t.rows.length;i++){let s=t.rows[i];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);a+=this.tablerow({text:n})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+a+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${jn(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){let a=this.parser.parseInline(n),i=Sb(t);if(i===null)return a;t=i;let s='<a href="'+t+'"';return r&&(s+=' title="'+jn(r)+'"'),s+=">"+a+"</a>",s}image({href:t,title:r,text:n,tokens:a}){a&&(n=this.parser.parseInline(a,this.parser.textRenderer));let i=Sb(t);if(i===null)return jn(n);t=i;let s=`<img src="${t}" alt="${n}"`;return r&&(s+=` title="${jn(r)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:jn(t.text)}},r1=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},In=class Vf{options;renderer;textRenderer;constructor(t){this.options=t||Gi,this.options.renderer=this.options.renderer||new Sc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new r1}static parse(t,r){return new Vf(r).parse(t)}static parseInline(t,r){return new Vf(r).parseInline(t)}parse(t,r=!0){let n="";for(let a=0;a<t.length;a++){let i=t[a];if(this.options.extensions?.renderers?.[i.type]){let o=i,u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){n+=u||"";continue}}let s=i;switch(s.type){case"space":{n+=this.renderer.space(s);continue}case"hr":{n+=this.renderer.hr(s);continue}case"heading":{n+=this.renderer.heading(s);continue}case"code":{n+=this.renderer.code(s);continue}case"table":{n+=this.renderer.table(s);continue}case"blockquote":{n+=this.renderer.blockquote(s);continue}case"list":{n+=this.renderer.list(s);continue}case"html":{n+=this.renderer.html(s);continue}case"def":{n+=this.renderer.def(s);continue}case"paragraph":{n+=this.renderer.paragraph(s);continue}case"text":{let o=s,u=this.renderer.text(o);for(;a+1<t.length&&t[a+1].type==="text";)o=t[++a],u+=`
`+this.renderer.text(o);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(t,r=this.renderer){let n="";for(let a=0;a<t.length;a++){let i=t[a];if(this.options.extensions?.renderers?.[i.type]){let o=this.options.extensions.renderers[i.type].call({parser:this},i);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=o||"";continue}}let s=i;switch(s.type){case"escape":{n+=r.text(s);break}case"html":{n+=r.html(s);break}case"link":{n+=r.link(s);break}case"image":{n+=r.image(s);break}case"strong":{n+=r.strong(s);break}case"em":{n+=r.em(s);break}case"codespan":{n+=r.codespan(s);break}case"br":{n+=r.br(s);break}case"del":{n+=r.del(s);break}case"text":{n+=r.text(s);break}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},Oo=class{options;block;constructor(e){this.options=e||Gi}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?ln.lex:ln.lexInline}provideParser(){return this.block?In.parse:In.parseInline}},Wq=class{defaults=Gm();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=In;Renderer=Sc;TextRenderer=r1;Lexer=ln;Tokenizer=_c;Hooks=Oo;constructor(...t){this.use(...t)}walkTokens(t,r){let n=[];for(let a of t)switch(n=n.concat(r.call(this,a)),a.type){case"table":{let i=a;for(let s of i.header)n=n.concat(this.walkTokens(s.tokens,r));for(let s of i.rows)for(let o of s)n=n.concat(this.walkTokens(o.tokens,r));break}case"list":{let i=a;n=n.concat(this.walkTokens(i.items,r));break}default:{let i=a;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let o=i[s].flat(1/0);n=n.concat(this.walkTokens(o,r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let a={...n};if(a.async=this.defaults.async||a.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=r.renderers[i.name];s?r.renderers[i.name]=function(...o){let u=i.renderer.apply(this,o);return u===!1&&(u=s.apply(this,o)),u}:r.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=r[i.level];s?s.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&(i.level==="block"?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:i.level==="inline"&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),a.extensions=r),n.renderer){let i=this.defaults.renderer||new Sc(this.defaults);for(let s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let o=s,u=n.renderer[o],l=i[o];i[o]=(...c)=>{let d=u.apply(i,c);return d===!1&&(d=l.apply(i,c)),d||""}}a.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new _c(this.defaults);for(let s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let o=s,u=n.tokenizer[o],l=i[o];i[o]=(...c)=>{let d=u.apply(i,c);return d===!1&&(d=l.apply(i,c)),d}}a.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new Oo;for(let s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let o=s,u=n.hooks[o],l=i[o];Oo.passThroughHooks.has(s)?i[o]=c=>{if(this.defaults.async&&Oo.passThroughHooksRespectAsync.has(s))return(async()=>{let h=await u.call(i,c);return l.call(i,h)})();let d=u.call(i,c);return l.call(i,d)}:i[o]=(...c)=>{if(this.defaults.async)return(async()=>{let h=await u.apply(i,c);return h===!1&&(h=await l.apply(i,c)),h})();let d=u.apply(i,c);return d===!1&&(d=l.apply(i,c)),d}}a.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,s=n.walkTokens;a.walkTokens=function(o){let u=[];return u.push(s.call(this,o)),i&&(u=u.concat(i.call(this,o))),u}}this.defaults={...this.defaults,...a}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return ln.lex(t,r??this.defaults)}parser(t,r){return In.parse(t,r??this.defaults)}parseMarkdown(t){return(r,n)=>{let a={...n},i={...this.defaults,...a},s=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&a.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=t),i.async)return(async()=>{let o=i.hooks?await i.hooks.preprocess(r):r,u=await(i.hooks?await i.hooks.provideLexer():t?ln.lex:ln.lexInline)(o,i),l=i.hooks?await i.hooks.processAllTokens(u):u;i.walkTokens&&await Promise.all(this.walkTokens(l,i.walkTokens));let c=await(i.hooks?await i.hooks.provideParser():t?In.parse:In.parseInline)(l,i);return i.hooks?await i.hooks.postprocess(c):c})().catch(s);try{i.hooks&&(r=i.hooks.preprocess(r));let o=(i.hooks?i.hooks.provideLexer():t?ln.lex:ln.lexInline)(r,i);i.hooks&&(o=i.hooks.processAllTokens(o)),i.walkTokens&&this.walkTokens(o,i.walkTokens);let u=(i.hooks?i.hooks.provideParser():t?In.parse:In.parseInline)(o,i);return i.hooks&&(u=i.hooks.postprocess(u)),u}catch(o){return s(o)}}}onError(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let a="<p>An error occurred:</p><pre>"+jn(n.message+"",!0)+"</pre>";return r?Promise.resolve(a):a}if(r)return Promise.reject(n);throw n}}},Di=new Wq;function Tt(e,t){return Di.parse(e,t)}Tt.options=Tt.setOptions=function(e){return Di.setOptions(e),Tt.defaults=Di.defaults,tT(Tt.defaults),Tt};Tt.getDefaults=Gm;Tt.defaults=Gi;Tt.use=function(...e){return Di.use(...e),Tt.defaults=Di.defaults,tT(Tt.defaults),Tt};Tt.walkTokens=function(e,t){return Di.walkTokens(e,t)};Tt.parseInline=Di.parseInline;Tt.Parser=In;Tt.parser=In.parse;Tt.Renderer=Sc;Tt.TextRenderer=r1;Tt.Lexer=ln;Tt.lexer=ln.lex;Tt.Tokenizer=_c;Tt.Hooks=Oo;Tt.parse=Tt;Tt.options;Tt.setOptions;Tt.use;Tt.walkTokens;Tt.parseInline;In.parse;ln.lex;var Ke=(...e)=>l_(c_(e)),Es=(e,t,r)=>{let n=typeof t=="string"?new Blob([t],{type:r}):t,a=URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},Zq=E.createContext({code:""}),hT=()=>E.useContext(Zq),Ib=({onCopy:e,onError:t,timeout:r=2e3,children:n,className:a,code:i,...s})=>{let[o,u]=E.useState(!1),l=E.useRef(0),{code:c}=hT(),{isAnimating:d}=E.useContext(Mn),h=i??c,f=async()=>{var g;if(typeof window>"u"||!((g=navigator?.clipboard)!=null&&g.writeText)){t?.(new Error("Clipboard API not available"));return}try{o||(await navigator.clipboard.writeText(h),u(!0),e?.(),l.current=window.setTimeout(()=>u(!1),r))}catch(T){t?.(T)}};E.useEffect(()=>()=>{window.clearTimeout(l.current)},[]);let p=o?Hw:Vw;return v.jsx("button",{className:Ke("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",a),"data-streamdown":"code-block-copy-button",disabled:d,onClick:f,title:"Copy Code",type:"button",...s,children:n??v.jsx(p,{size:14})})},Nb={"1c":"1c","1c-query":"1cq",abap:"abap","actionscript-3":"as",ada:"ada",adoc:"adoc","angular-html":"html","angular-ts":"ts",apache:"conf",apex:"cls",apl:"apl",applescript:"applescript",ara:"ara",asciidoc:"adoc",asm:"asm",astro:"astro",awk:"awk",ballerina:"bal",bash:"sh",bat:"bat",batch:"bat",be:"be",beancount:"beancount",berry:"berry",bibtex:"bib",bicep:"bicep",blade:"blade.php",bsl:"bsl",c:"c","c#":"cs","c++":"cpp",cadence:"cdc",cairo:"cairo",cdc:"cdc",clarity:"clar",clj:"clj",clojure:"clj","closure-templates":"soy",cmake:"cmake",cmd:"cmd",cobol:"cob",codeowners:"CODEOWNERS",codeql:"ql",coffee:"coffee",coffeescript:"coffee","common-lisp":"lisp",console:"sh",coq:"v",cpp:"cpp",cql:"cql",crystal:"cr",cs:"cs",csharp:"cs",css:"css",csv:"csv",cue:"cue",cypher:"cql",d:"d",dart:"dart",dax:"dax",desktop:"desktop",diff:"diff",docker:"dockerfile",dockerfile:"dockerfile",dotenv:"env","dream-maker":"dm",edge:"edge",elisp:"el",elixir:"ex",elm:"elm","emacs-lisp":"el",erb:"erb",erl:"erl",erlang:"erl",f:"f","f#":"fs",f03:"f03",f08:"f08",f18:"f18",f77:"f77",f90:"f90",f95:"f95",fennel:"fnl",fish:"fish",fluent:"ftl",for:"for","fortran-fixed-form":"f","fortran-free-form":"f90",fs:"fs",fsharp:"fs",fsl:"fsl",ftl:"ftl",gdresource:"tres",gdscript:"gd",gdshader:"gdshader",genie:"gs",gherkin:"feature","git-commit":"gitcommit","git-rebase":"gitrebase",gjs:"js",gleam:"gleam","glimmer-js":"js","glimmer-ts":"ts",glsl:"glsl",gnuplot:"plt",go:"go",gql:"gql",graphql:"graphql",groovy:"groovy",gts:"gts",hack:"hack",haml:"haml",handlebars:"hbs",haskell:"hs",haxe:"hx",hbs:"hbs",hcl:"hcl",hjson:"hjson",hlsl:"hlsl",hs:"hs",html:"html","html-derivative":"html",http:"http",hxml:"hxml",hy:"hy",imba:"imba",ini:"ini",jade:"jade",java:"java",javascript:"js",jinja:"jinja",jison:"jison",jl:"jl",js:"js",json:"json",json5:"json5",jsonc:"jsonc",jsonl:"jsonl",jsonnet:"jsonnet",jssm:"jssm",jsx:"jsx",julia:"jl",kotlin:"kt",kql:"kql",kt:"kt",kts:"kts",kusto:"kql",latex:"tex",lean:"lean",lean4:"lean",less:"less",liquid:"liquid",lisp:"lisp",lit:"lit",llvm:"ll",log:"log",logo:"logo",lua:"lua",luau:"luau",make:"mak",makefile:"mak",markdown:"md",marko:"marko",matlab:"m",md:"md",mdc:"mdc",mdx:"mdx",mediawiki:"wiki",mermaid:"mmd",mips:"s",mipsasm:"s",mmd:"mmd",mojo:"mojo",move:"move",nar:"nar",narrat:"narrat",nextflow:"nf",nf:"nf",nginx:"conf",nim:"nim",nix:"nix",nu:"nu",nushell:"nu",objc:"m","objective-c":"m","objective-cpp":"mm",ocaml:"ml",pascal:"pas",perl:"pl",perl6:"p6",php:"php",plsql:"pls",po:"po",polar:"polar",postcss:"pcss",pot:"pot",potx:"potx",powerquery:"pq",powershell:"ps1",prisma:"prisma",prolog:"pl",properties:"properties",proto:"proto",protobuf:"proto",ps:"ps",ps1:"ps1",pug:"pug",puppet:"pp",purescript:"purs",py:"py",python:"py",ql:"ql",qml:"qml",qmldir:"qmldir",qss:"qss",r:"r",racket:"rkt",raku:"raku",razor:"cshtml",rb:"rb",reg:"reg",regex:"regex",regexp:"regexp",rel:"rel",riscv:"s",rs:"rs",rst:"rst",ruby:"rb",rust:"rs",sas:"sas",sass:"sass",scala:"scala",scheme:"scm",scss:"scss",sdbl:"sdbl",sh:"sh",shader:"shader",shaderlab:"shader",shell:"sh",shellscript:"sh",shellsession:"sh",smalltalk:"st",solidity:"sol",soy:"soy",sparql:"rq",spl:"spl",splunk:"spl",sql:"sql","ssh-config":"config",stata:"do",styl:"styl",stylus:"styl",svelte:"svelte",swift:"swift","system-verilog":"sv",systemd:"service",talon:"talon",talonscript:"talon",tasl:"tasl",tcl:"tcl",templ:"templ",terraform:"tf",tex:"tex",tf:"tf",tfvars:"tfvars",toml:"toml",ts:"ts","ts-tags":"ts",tsp:"tsp",tsv:"tsv",tsx:"tsx",turtle:"ttl",twig:"twig",typ:"typ",typescript:"ts",typespec:"tsp",typst:"typ",v:"v",vala:"vala",vb:"vb",verilog:"v",vhdl:"vhdl",vim:"vim",viml:"vim",vimscript:"vim",vue:"vue","vue-html":"html","vue-vine":"vine",vy:"vy",vyper:"vy",wasm:"wasm",wenyan:"wy",wgsl:"wgsl",wiki:"wiki",wikitext:"wiki",wit:"wit",wl:"wl",wolfram:"wl",xml:"xml",xsl:"xsl",yaml:"yaml",yml:"yml",zenscript:"zs",zig:"zig",zsh:"zsh",:"wy"},Gq=({onDownload:e,onError:t,language:r,children:n,className:a,code:i,...s})=>{let{code:o}=hT(),{isAnimating:u}=E.useContext(Mn),l=i??o,c=`file.${r&&r in Nb?Nb[r]:"txt"}`,d="text/plain",h=()=>{try{Es(c,l,d),e?.()}catch(f){t?.(f)}};return v.jsx("button",{className:Ke("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",a),"data-streamdown":"code-block-download-button",disabled:u,onClick:h,title:"Download file",type:"button",...s,children:n??v.jsx(R0,{size:14})})},Rb=()=>v.jsxs("div",{className:"w-full divide-y divide-border overflow-hidden rounded-xl border border-border",children:[v.jsx("div",{className:"h-[46px] w-full bg-muted/80"}),v.jsx("div",{className:"flex w-full items-center justify-center p-4",children:v.jsx(zU,{className:"size-4 animate-spin"})})]}),Yq=/\.[^/.]+$/,Kq=({node:e,className:t,src:r,alt:n,...a})=>{let i=async()=>{if(r)try{let s=await(await fetch(r)).blob(),o=new URL(r,window.location.origin).pathname.split("/").pop()||"",u=o.split(".").pop(),l=o.includes(".")&&u!==void 0&&u.length<=4,c="";if(l)c=o;else{let d=s.type,h="png";d.includes("jpeg")||d.includes("jpg")?h="jpg":d.includes("png")?h="png":d.includes("svg")?h="svg":d.includes("gif")?h="gif":d.includes("webp")&&(h="webp"),c=`${(n||o||"image").replace(Yq,"")}.${h}`}Es(c,s,s.type)}catch(s){console.error("Failed to download image:",s)}};return r?v.jsxs("div",{className:"group relative my-4 inline-block","data-streamdown":"image-wrapper",children:[v.jsx("img",{alt:n,className:Ke("max-w-full rounded-lg",t),"data-streamdown":"image",src:r,...a}),v.jsx("div",{className:"pointer-events-none absolute inset-0 hidden rounded-lg bg-black/10 group-hover:block"}),v.jsx("button",{className:Ke("absolute right-2 bottom-2 flex h-8 w-8 cursor-pointer items-center justify-center rounded-md border border-border bg-background/90 shadow-sm backdrop-blur-sm transition-all duration-200 hover:bg-background","opacity-0 group-hover:opacity-100"),onClick:i,title:"Download image",type:"button",children:v.jsx(R0,{size:14})})]}):null},fT=async e=>{let t={startOnLoad:!1,theme:"default",securityLevel:"strict",fontFamily:"monospace",suppressErrorRendering:!0,...e},r=(await o0(async()=>{const{default:n}=await import("./mermaid.core-CGnUM3Pf.js").then(a=>a.bA);return{default:n}},__vite__mapDeps([0,1]))).default;return r.initialize(t),r},Xq=(e,t)=>{var r;let n=(r=void 0)!=null?r:5;return new Promise((a,i)=>{let s="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e))),o=new Image;o.crossOrigin="anonymous",o.onload=()=>{let u=document.createElement("canvas"),l=o.width*n,c=o.height*n;u.width=l,u.height=c;let d=u.getContext("2d");if(!d){i(new Error("Failed to create 2D canvas context for PNG export"));return}d.drawImage(o,0,0,l,c),u.toBlob(h=>{if(!h){i(new Error("Failed to create PNG blob"));return}a(h)},"image/png")},o.onerror=()=>i(new Error("Failed to load SVG image")),o.src=s})},Jq=({chart:e,children:t,className:r,onDownload:n,config:a,onError:i})=>{let[s,o]=E.useState(!1),u=E.useRef(null),{isAnimating:l}=E.useContext(Mn),c=async d=>{try{if(d==="mmd"){Es("diagram.mmd",e,"text/plain"),o(!1),n?.(d);return}let h=await fT(a),f=e.split("").reduce((T,y)=>(T<<5)-T+y.charCodeAt(0)|0,0),p=`mermaid-${Math.abs(f)}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,{svg:g}=await h.render(p,e);if(!g){i?.(new Error("SVG not found. Please wait for the diagram to render."));return}if(d==="svg"){Es("diagram.svg",g,"image/svg+xml"),o(!1),n?.(d);return}if(d==="png"){let T=await Xq(g);Es("diagram.png",T,"image/png"),n?.(d),o(!1);return}}catch(h){i?.(h)}};return E.useEffect(()=>{let d=h=>{u.current&&!u.current.contains(h.target)&&o(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]),v.jsxs("div",{className:"relative",ref:u,children:[v.jsx("button",{className:Ke("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",r),disabled:l,onClick:()=>o(!s),title:"Download diagram",type:"button",children:t??v.jsx(R0,{size:14})}),s&&v.jsxs("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] overflow-hidden rounded-md border border-border bg-background shadow-lg",children:[v.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>c("svg"),title:"Download diagram as SVG",type:"button",children:"SVG"}),v.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>c("png"),title:"Download diagram as PNG",type:"button",children:"PNG"}),v.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>c("mmd"),title:"Download diagram as MMD",type:"button",children:"MMD"})]})]})},Jo=0,Qq=()=>{Jo+=1,Jo===1&&(document.body.style.overflow="hidden")},eW=()=>{Jo=Math.max(0,Jo-1),Jo===0&&(document.body.style.overflow="")},tW=({chart:e,config:t,onFullscreen:r,onExit:n,className:a,...i})=>{let[s,o]=E.useState(!1),{isAnimating:u,controls:l}=E.useContext(Mn),c=(()=>{if(typeof l=="boolean")return l;let h=l.mermaid;return h===!1?!1:h===!0||h===void 0?!0:h.panZoom!==!1})(),d=()=>{o(!s)};return E.useEffect(()=>{if(s){Qq();let h=f=>{f.key==="Escape"&&o(!1)};return document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h),eW()}}},[s]),E.useEffect(()=>{s?r?.():n&&n()},[s,r,n]),v.jsxs(v.Fragment,{children:[v.jsx("button",{className:Ke("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",a),disabled:u,onClick:d,title:"View fullscreen",type:"button",...i,children:v.jsx(HU,{size:14})}),s&&v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm",onClick:d,onKeyDown:h=>{h.key==="Escape"&&d()},role:"button",tabIndex:0,children:[v.jsx("button",{className:"absolute top-4 right-4 z-10 rounded-md p-2 text-muted-foreground transition-all hover:bg-muted hover:text-foreground",onClick:d,title:"Exit fullscreen",type:"button",children:v.jsx(ZU,{size:20})}),v.jsx("div",{className:"flex h-full w-full items-center justify-center p-4",onClick:h=>h.stopPropagation(),onKeyDown:h=>h.stopPropagation(),role:"presentation",children:v.jsx(UT,{chart:e,className:"h-full w-full [&>div]:h-full [&>div]:overflow-hidden [&_svg]:h-auto [&_svg]:w-auto",config:t,fullscreen:!0,showControls:c})})]})]})},pT=e=>{var t,r;let n=[],a=[],i=e.querySelectorAll("thead th");for(let o of i)n.push(((t=o.textContent)==null?void 0:t.trim())||"");let s=e.querySelectorAll("tbody tr");for(let o of s){let u=[],l=o.querySelectorAll("td");for(let c of l)u.push(((r=c.textContent)==null?void 0:r.trim())||"");a.push(u)}return{headers:n,rows:a}},mT=e=>{let{headers:t,rows:r}=e,n=o=>{let u=!1,l=!1;for(let c=0;c<o.length;c+=1){let d=o[c];if(d==='"'){u=!0,l=!0;break}(d===","||d===`
`)&&(u=!0)}return u?l?`"${o.replace(/"/g,'""')}"`:`"${o}"`:o},a=t.length>0?r.length+1:r.length,i=new Array(a),s=0;t.length>0&&(i[s]=t.map(n).join(","),s+=1);for(let o of r)i[s]=o.map(n).join(","),s+=1;return i.join(`
`)},rW=e=>{let{headers:t,rows:r}=e,n=o=>{let u=!1;for(let c=0;c<o.length;c+=1){let d=o[c];if(d==="	"||d===`
`||d==="\r"){u=!0;break}}if(!u)return o;let l=[];for(let c=0;c<o.length;c+=1){let d=o[c];d==="	"?l.push("\\t"):d===`
`?l.push("\\n"):d==="\r"?l.push("\\r"):l.push(d)}return l.join("")},a=t.length>0?r.length+1:r.length,i=new Array(a),s=0;t.length>0&&(i[s]=t.map(n).join("	"),s+=1);for(let o of r)i[s]=o.map(n).join("	"),s+=1;return i.join(`
`)},Qd=e=>{let t=!1;for(let n=0;n<e.length;n+=1){let a=e[n];if(a==="\\"||a==="|"){t=!0;break}}if(!t)return e;let r=[];for(let n=0;n<e.length;n+=1){let a=e[n];a==="\\"?r.push("\\\\"):a==="|"?r.push("\\|"):r.push(a)}return r.join("")},nW=e=>{let{headers:t,rows:r}=e;if(t.length===0)return"";let n=new Array(r.length+2),a=0,i=t.map(o=>Qd(o));n[a]=`| ${i.join(" | ")} |`,a+=1;let s=new Array(t.length);for(let o=0;o<t.length;o+=1)s[o]="---";n[a]=`| ${s.join(" | ")} |`,a+=1;for(let o of r)if(o.length<t.length){let u=new Array(t.length);for(let l=0;l<t.length;l+=1)u[l]=l<o.length?Qd(o[l]):"";n[a]=`| ${u.join(" | ")} |`,a+=1}else{let u=o.map(l=>Qd(l));n[a]=`| ${u.join(" | ")} |`,a+=1}return n.join(`
`)},aW=({children:e,className:t,onCopy:r,onError:n,timeout:a=2e3})=>{let[i,s]=E.useState(!1),[o,u]=E.useState(!1),l=E.useRef(null),c=E.useRef(0),{isAnimating:d}=E.useContext(Mn),h=async p=>{var g,T;if(typeof window>"u"||!((g=navigator?.clipboard)!=null&&g.write)){n?.(new Error("Clipboard API not available"));return}try{let y=(T=l.current)==null?void 0:T.closest('[data-streamdown="table-wrapper"]'),x=y?.querySelector("table");if(!x){n?.(new Error("Table not found"));return}let _=pT(x),k=p==="csv"?mT(_):rW(_),C=new ClipboardItem({"text/plain":new Blob([k],{type:"text/plain"}),"text/html":new Blob([x.outerHTML],{type:"text/html"})});await navigator.clipboard.write([C]),u(!0),s(!1),r?.(p),c.current=window.setTimeout(()=>u(!1),a)}catch(y){n?.(y)}};E.useEffect(()=>{let p=g=>{l.current&&!l.current.contains(g.target)&&s(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p),window.clearTimeout(c.current)}},[]);let f=o?Hw:Vw;return v.jsxs("div",{className:"relative",ref:l,children:[v.jsx("button",{className:Ke("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",t),disabled:d,onClick:()=>s(!i),title:"Copy table",type:"button",children:e??v.jsx(f,{size:14})}),i&&v.jsxs("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] overflow-hidden rounded-md border border-border bg-background shadow-lg",children:[v.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>h("csv"),title:"Copy table as CSV",type:"button",children:"CSV"}),v.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>h("tsv"),title:"Copy table as TSV",type:"button",children:"TSV"})]})]})},iW=({children:e,className:t,onDownload:r,onError:n})=>{let[a,i]=E.useState(!1),s=E.useRef(null),{isAnimating:o}=E.useContext(Mn),u=l=>{var c;try{let d=(c=s.current)==null?void 0:c.closest('[data-streamdown="table-wrapper"]'),h=d?.querySelector("table");if(!h){n?.(new Error("Table not found"));return}let f=pT(h),p=l==="csv"?mT(f):nW(f);Es(`table.${l==="csv"?"csv":"md"}`,p,l==="csv"?"text/csv":"text/markdown"),i(!1),r?.(l)}catch(d){n?.(d)}};return E.useEffect(()=>{let l=c=>{s.current&&!s.current.contains(c.target)&&i(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]),v.jsxs("div",{className:"relative",ref:s,children:[v.jsx("button",{className:Ke("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",t),disabled:o,onClick:()=>i(!a),title:"Download table",type:"button",children:e??v.jsx(R0,{size:14})}),a&&v.jsxs("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] overflow-hidden rounded-md border border-border bg-background shadow-lg",children:[v.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>u("csv"),title:"Download table as CSV",type:"button",children:"CSV"}),v.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>u("markdown"),title:"Download table as Markdown",type:"button",children:"Markdown"})]})]})},sW=({children:e,className:t,showControls:r,...n})=>v.jsxs("div",{className:"my-4 flex flex-col space-y-2","data-streamdown":"table-wrapper",children:[r&&v.jsxs("div",{className:"flex items-center justify-end gap-1",children:[v.jsx(aW,{}),v.jsx(iW,{})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsx("table",{className:Ke("w-full border-collapse border border-border",t),"data-streamdown":"table",...n,children:e})})]}),oW=E.lazy(()=>o0(()=>import("./code-block-QI2IAROF-BmmL84nz.js"),__vite__mapDeps([2,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26])).then(e=>({default:e.CodeBlock}))),uW=E.lazy(()=>o0(()=>Promise.resolve().then(()=>ble),void 0).then(e=>({default:e.Mermaid}))),lW=/language-([^\s]+)/;function P0(e,t){if(!(e!=null&&e.position||t!=null&&t.position))return!0;if(!(e!=null&&e.position&&t!=null&&t.position))return!1;let r=e.position.start,n=t.position.start,a=e.position.end,i=t.position.end;return r?.line===n?.line&&r?.column===n?.column&&a?.line===i?.line&&a?.column===i?.column}function Zt(e,t){return e.className===t.className&&P0(e.node,t.node)}var qf=(e,t)=>typeof e=="boolean"?e:e[t]!==!1,Rl=(e,t)=>{if(typeof e=="boolean")return e;let r=e.mermaid;return r===!1?!1:r===!0||r===void 0?!0:r[t]!==!1},n1=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("ol",{className:Ke("list-inside list-decimal whitespace-normal",t),"data-streamdown":"ordered-list",...n,children:e}),(e,t)=>Zt(e,t));n1.displayName="MarkdownOl";var gT=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("li",{className:Ke("py-1 [&>p]:inline",t),"data-streamdown":"list-item",...n,children:e}),(e,t)=>e.className===t.className&&P0(e.node,t.node));gT.displayName="MarkdownLi";var yT=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("ul",{className:Ke("list-inside list-disc whitespace-normal",t),"data-streamdown":"unordered-list",...n,children:e}),(e,t)=>Zt(e,t));yT.displayName="MarkdownUl";var bT=E.memo(({className:e,node:t,...r})=>v.jsx("hr",{className:Ke("my-6 border-border",e),"data-streamdown":"horizontal-rule",...r}),(e,t)=>Zt(e,t));bT.displayName="MarkdownHr";var vT=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("span",{className:Ke("font-semibold",t),"data-streamdown":"strong",...n,children:e}),(e,t)=>Zt(e,t));vT.displayName="MarkdownStrong";var xT=E.memo(({children:e,className:t,href:r,node:n,...a})=>{let i=r==="streamdown:incomplete-link";return v.jsx("a",{className:Ke("wrap-anywhere font-medium text-primary underline",t),"data-incomplete":i,"data-streamdown":"link",href:r,rel:"noreferrer",target:"_blank",...a,children:e})},(e,t)=>Zt(e,t)&&e.href===t.href);xT.displayName="MarkdownA";var wT=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("h1",{className:Ke("mt-6 mb-2 font-semibold text-3xl",t),"data-streamdown":"heading-1",...n,children:e}),(e,t)=>Zt(e,t));wT.displayName="MarkdownH1";var TT=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("h2",{className:Ke("mt-6 mb-2 font-semibold text-2xl",t),"data-streamdown":"heading-2",...n,children:e}),(e,t)=>Zt(e,t));TT.displayName="MarkdownH2";var ET=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("h3",{className:Ke("mt-6 mb-2 font-semibold text-xl",t),"data-streamdown":"heading-3",...n,children:e}),(e,t)=>Zt(e,t));ET.displayName="MarkdownH3";var kT=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("h4",{className:Ke("mt-6 mb-2 font-semibold text-lg",t),"data-streamdown":"heading-4",...n,children:e}),(e,t)=>Zt(e,t));kT.displayName="MarkdownH4";var _T=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("h5",{className:Ke("mt-6 mb-2 font-semibold text-base",t),"data-streamdown":"heading-5",...n,children:e}),(e,t)=>Zt(e,t));_T.displayName="MarkdownH5";var ST=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("h6",{className:Ke("mt-6 mb-2 font-semibold text-sm",t),"data-streamdown":"heading-6",...n,children:e}),(e,t)=>Zt(e,t));ST.displayName="MarkdownH6";var AT=E.memo(({children:e,className:t,node:r,...n})=>{let{controls:a}=E.useContext(Mn),i=qf(a,"table");return v.jsx(sW,{className:t,"data-streamdown":"table-wrapper",showControls:i,...n,children:e})},(e,t)=>Zt(e,t));AT.displayName="MarkdownTable";var CT=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("thead",{className:Ke("bg-muted/80",t),"data-streamdown":"table-header",...n,children:e}),(e,t)=>Zt(e,t));CT.displayName="MarkdownThead";var IT=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("tbody",{className:Ke("divide-y divide-border bg-muted/40",t),"data-streamdown":"table-body",...n,children:e}),(e,t)=>Zt(e,t));IT.displayName="MarkdownTbody";var NT=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("tr",{className:Ke("border-border border-b",t),"data-streamdown":"table-row",...n,children:e}),(e,t)=>Zt(e,t));NT.displayName="MarkdownTr";var RT=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("th",{className:Ke("whitespace-nowrap px-4 py-2 text-left font-semibold text-sm",t),"data-streamdown":"table-header-cell",...n,children:e}),(e,t)=>Zt(e,t));RT.displayName="MarkdownTh";var OT=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("td",{className:Ke("px-4 py-2 text-sm",t),"data-streamdown":"table-cell",...n,children:e}),(e,t)=>Zt(e,t));OT.displayName="MarkdownTd";var MT=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("blockquote",{className:Ke("my-4 border-muted-foreground/30 border-l-4 pl-4 text-muted-foreground italic",t),"data-streamdown":"blockquote",...n,children:e}),(e,t)=>Zt(e,t));MT.displayName="MarkdownBlockquote";var PT=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("sup",{className:Ke("text-sm",t),"data-streamdown":"superscript",...n,children:e}),(e,t)=>Zt(e,t));PT.displayName="MarkdownSup";var DT=E.memo(({children:e,className:t,node:r,...n})=>v.jsx("sub",{className:Ke("text-sm",t),"data-streamdown":"subscript",...n,children:e}),(e,t)=>Zt(e,t));DT.displayName="MarkdownSub";var LT=E.memo(({children:e,className:t,node:r,...n})=>{if("data-footnotes"in n){let a=s=>{var o,u;if(!E.isValidElement(s))return!1;let l=Array.isArray(s.props.children)?s.props.children:[s.props.children],c=!1,d=!1;for(let h of l)if(h){if(typeof h=="string")h.trim()!==""&&(c=!0);else if(E.isValidElement(h))if(((o=h.props)==null?void 0:o["data-footnote-backref"])!==void 0)d=!0;else{let f=Array.isArray(h.props.children)?h.props.children:[h.props.children];for(let p of f){if(typeof p=="string"&&p.trim()!==""){c=!0;break}if(E.isValidElement(p)&&((u=p.props)==null?void 0:u["data-footnote-backref"])===void 0){c=!0;break}}}}return d&&!c},i=Array.isArray(e)?e.map(s=>{if(!E.isValidElement(s))return s;if(s.type===n1){let o=(Array.isArray(s.props.children)?s.props.children:[s.props.children]).filter(u=>!a(u));return o.length===0?null:{...s,props:{...s.props,children:o}}}return s}):e;return(Array.isArray(i)?i.some(s=>s!==null):i!==null)?v.jsx("section",{className:t,...n,children:i}):null}return v.jsx("section",{className:t,...n,children:e})},(e,t)=>Zt(e,t));LT.displayName="MarkdownSection";var cW=({node:e,className:t,children:r,...n})=>{var a,i,s;let o=((a=e?.position)==null?void 0:a.start.line)===((i=e?.position)==null?void 0:i.end.line),{mermaid:u,controls:l}=E.useContext(Mn);if(o)return v.jsx("code",{className:Ke("rounded bg-muted px-1.5 py-0.5 font-mono text-sm",t),"data-streamdown":"inline-code",...n,children:r});let c=t?.match(lW),d=(s=c?.at(1))!=null?s:"",h="";if(E.isValidElement(r)&&r.props&&typeof r.props=="object"&&"children"in r.props&&typeof r.props.children=="string"?h=r.props.children:typeof r=="string"&&(h=r),d==="mermaid"){let p=qf(l,"mermaid"),g=Rl(l,"download"),T=Rl(l,"copy"),y=Rl(l,"fullscreen"),x=Rl(l,"panZoom");return v.jsx(E.Suspense,{fallback:v.jsx(Rb,{}),children:v.jsxs("div",{className:Ke("group relative my-4 h-auto rounded-xl border p-4",t),"data-streamdown":"mermaid-block",children:[p&&(g||T||y)&&v.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g&&v.jsx(Jq,{chart:h,config:u?.config}),T&&v.jsx(Ib,{code:h}),y&&v.jsx(tW,{chart:h,config:u?.config})]}),v.jsx(uW,{chart:h,config:u?.config,showControls:x})]})})}let f=qf(l,"code");return v.jsx(E.Suspense,{fallback:v.jsx(Rb,{}),children:v.jsx(oW,{className:Ke("overflow-x-auto border-border border-t",t),code:h,language:d,children:f&&v.jsxs(v.Fragment,{children:[v.jsx(Gq,{code:h,language:d}),v.jsx(Ib,{})]})})})},FT=E.memo(cW,(e,t)=>e.className===t.className&&P0(e.node,t.node));FT.displayName="MarkdownCode";var BT=E.memo(Kq,(e,t)=>e.className===t.className&&P0(e.node,t.node));BT.displayName="MarkdownImg";var jT=E.memo(({children:e,className:t,node:r,...n})=>{var a;let i=(Array.isArray(e)?e:[e]).filter(s=>s!=null&&s!=="");return i.length===1&&E.isValidElement(i[0])&&((a=i[0].props.node)==null?void 0:a.tagName)==="img"?v.jsx(v.Fragment,{children:e}):v.jsx("p",{className:t,...n,children:e})},(e,t)=>Zt(e,t));jT.displayName="MarkdownParagraph";var dW={ol:n1,li:gT,ul:yT,hr:bT,strong:vT,a:xT,h1:wT,h2:TT,h3:ET,h4:kT,h5:_T,h6:ST,table:AT,thead:CT,tbody:IT,tr:NT,th:RT,td:OT,blockquote:MT,code:FT,img:BT,pre:({children:e})=>e,sup:PT,sub:DT,p:jT,section:LT},Ob=[],Mb={allowDangerousHtml:!0},Ol=new WeakMap,hW=class{constructor(){this.cache=new Map,this.keyCache=new WeakMap,this.maxSize=100}generateCacheKey(t){let r=this.keyCache.get(t);if(r)return r;let n=t.rehypePlugins,a=t.remarkPlugins,i=t.remarkRehypeOptions;if(!(n||a||i)){let d="default";return this.keyCache.set(t,d),d}let s=d=>{if(!d||d.length===0)return"";let h="";for(let f=0;f<d.length;f+=1){let p=d[f];if(f>0&&(h+=","),Array.isArray(p)){let[g,T]=p;if(typeof g=="function"){let y=Ol.get(g);y||(y=g.name,Ol.set(g,y)),h+=y}else h+=String(g);h+=":",h+=JSON.stringify(T)}else if(typeof p=="function"){let g=Ol.get(p);g||(g=p.name,Ol.set(p,g)),h+=g}else h+=String(p)}return h},o=s(n),u=s(a),l=i?JSON.stringify(i):"",c=`${u}::${o}::${l}`;return this.keyCache.set(t,c),c}get(t){let r=this.generateCacheKey(t),n=this.cache.get(r);return n&&(this.cache.delete(r),this.cache.set(r,n)),n}set(t,r){let n=this.generateCacheKey(t);if(this.cache.size>=this.maxSize){let a=this.cache.keys().next().value;a&&this.cache.delete(a)}this.cache.set(n,r)}clear(){this.cache.clear()}},Pb=new hW,$T=e=>{let t=fW(e),r=e.children||"";return mW(t.runSync(t.parse(r),r),e)},fW=e=>{let t=Pb.get(e);if(t)return t;let r=pW(e);return Pb.set(e,r),r},pW=e=>{let t=e.rehypePlugins||Ob,r=e.remarkPlugins||Ob,n=e.remarkRehypeOptions?{...Mb,...e.remarkRehypeOptions}:Mb;return sq().use(iV).use(r).use(zV,n).use(t)},mW=(e,t)=>fH(e,{Fragment:v.Fragment,components:t.components,ignoreInvalidStyle:!0,jsx:v.jsx,jsxs:v.jsxs,passKeys:!0,passNode:!0}),gW=/\[\^[^\]\s]{1,200}\](?!:)/,yW=/\[\^[^\]\s]{1,200}\]:/,bW=/<\/(\w+)>/,vW=/<(\w+)[\s>]/,eh=e=>{let t=0;for(;t<e.length&&(e[t]===" "||e[t]==="	"||e[t]===`
`||e[t]==="\r");)t+=1;return t+1<e.length&&e[t]==="$"&&e[t+1]==="$"},xW=e=>{let t=e.length-1;for(;t>=0&&(e[t]===" "||e[t]==="	"||e[t]===`
`||e[t]==="\r");)t-=1;return t>=1&&e[t]==="$"&&e[t-1]==="$"},th=e=>{let t=0;for(let r=0;r<e.length-1;r+=1)e[r]==="$"&&e[r+1]==="$"&&(t+=1,r+=1);return t},wW=e=>{let t=gW.test(e),r=yW.test(e);if(t||r)return[e];let n=ln.lex(e,{gfm:!0}),a=[],i=[];for(let s of n){let o=s.raw,u=a.length;if(i.length>0){if(a[u-1]+=o,s.type==="html"){let l=o.match(bW);if(l){let c=l[1];i.at(-1)===c&&i.pop()}}continue}if(s.type==="html"&&s.block){let l=o.match(vW);if(l){let c=l[1];o.includes(`</${c}>`)||i.push(c)}}if(o.trim()==="$$"&&u>0){let l=a[u-1],c=eh(l),d=th(l);if(c&&d%2===1){a[u-1]=l+o;continue}}if(u>0&&xW(o)){let l=a[u-1],c=eh(l),d=th(l),h=th(o);if(c&&d%2===1&&!eh(o)&&h===1){a[u-1]=l+o;continue}}a.push(o)}return a},TW={raw:RF,katex:[Af,{errorColor:"var(--color-muted-foreground)"}],harden:[UR,{allowedImagePrefixes:["*"],allowedLinkPrefixes:["*"],allowedProtocols:["*"],defaultOrigin:void 0,allowDataImages:!0}]},EW={gfm:[Lz,{}],math:[Lf,{singleDollarTextMath:!1}],cjkFriendly:[aB,{}],cjkFriendlyGfmStrikethrough:[sB,{}]},kW=Object.values(TW),_W=Object.values(EW),SW={shikiTheme:["github-light","github-dark"],controls:!0,isAnimating:!1,mode:"streaming",mermaid:void 0},Mn=E.createContext(SW),zT=E.memo(({content:e,shouldParseIncompleteMarkdown:t,...r})=>{let n=E.useMemo(()=>typeof e=="string"&&t?RU(e.trim()):e,[e,t]);return v.jsx($T,{...r,children:n})},(e,t)=>{if(e.content!==t.content||e.shouldParseIncompleteMarkdown!==t.shouldParseIncompleteMarkdown||e.index!==t.index)return!1;if(e.components!==t.components){let r=Object.keys(e.components||{}),n=Object.keys(t.components||{});if(r.length!==n.length||r.some(a=>{var i,s;return((i=e.components)==null?void 0:i[a])!==((s=t.components)==null?void 0:s[a])}))return!1}return!(e.rehypePlugins!==t.rehypePlugins||e.remarkPlugins!==t.remarkPlugins)});zT.displayName="Block";var AW=["github-light","github-dark"],ss=E.memo(({children:e,mode:t="streaming",parseIncompleteMarkdown:r=!0,components:n,rehypePlugins:a=kW,remarkPlugins:i=_W,className:s,shikiTheme:o=AW,mermaid:u,controls:l=!0,isAnimating:c=!1,BlockComponent:d=zT,parseMarkdownIntoBlocksFn:h=wW,...f})=>{let p=E.useId(),[g,T]=E.useTransition(),[y,x]=E.useState([]),_=E.useMemo(()=>h(typeof e=="string"?e:""),[e,h]);E.useEffect(()=>{t==="streaming"?T(()=>{x(_)}):x(_)},[_,t]);let k=t==="streaming"?y:_,C=E.useMemo(()=>k.map((D,$)=>`${p}-${$}`),[k.length,p]),A=E.useMemo(()=>({shikiTheme:o,controls:l,isAnimating:c,mode:t,mermaid:u}),[o,l,c,t,u]),P=E.useMemo(()=>({...dW,...n}),[n]);return E.useEffect(()=>{if(!(Array.isArray(a)&&a.some(U=>Array.isArray(U)?U[0]===Af:U===Af)))return;let D=!1;if(Array.isArray(i)){let U=i.find(ee=>Array.isArray(ee)?ee[0]===Lf:ee===Lf);U&&Array.isArray(U)&&U[1]&&(D=U[1].singleDollarTextMath===!0)}let $=typeof e=="string"?e:"",F=$.includes("$$"),q=D&&(/[^$]\$[^$]/.test($)||/^\$[^$]/.test($)||/[^$]\$$/.test($));(F||q)&&o0(()=>Promise.resolve({}),__vite__mapDeps([27]))},[a,i,e]),t==="static"?v.jsx(Mn.Provider,{value:A,children:v.jsx("div",{className:Ke("space-y-4 whitespace-normal",s),children:v.jsx($T,{components:P,rehypePlugins:a,remarkPlugins:i,...f,children:e})})}):v.jsx(Mn.Provider,{value:A,children:v.jsx("div",{className:Ke("space-y-4 whitespace-normal",s),children:k.map((D,$)=>v.jsx(d,{components:P,content:D,index:$,rehypePlugins:a,remarkPlugins:i,shouldParseIncompleteMarkdown:r,...f},C[$]))})})},(e,t)=>e.children===t.children&&e.shikiTheme===t.shikiTheme&&e.isAnimating===t.isAnimating&&e.mode===t.mode);ss.displayName="Streamdown";var CW=({children:e,className:t,minZoom:r=.5,maxZoom:n=3,zoomStep:a=.1,showControls:i=!0,initialZoom:s=1,fullscreen:o=!1})=>{let u=E.useRef(null),l=E.useRef(null),[c,d]=E.useState(s),[h,f]=E.useState({x:0,y:0}),[p,g]=E.useState(!1),[T,y]=E.useState({x:0,y:0}),[x,_]=E.useState({x:0,y:0}),k=E.useCallback(U=>{d(ee=>Math.max(r,Math.min(n,ee+U)))},[r,n]),C=E.useCallback(()=>{k(a)},[k,a]),A=E.useCallback(()=>{k(-a)},[k,a]),P=E.useCallback(()=>{d(s),f({x:0,y:0})},[s]),D=E.useCallback(U=>{U.preventDefault();let ee=U.deltaY>0?-a:a;k(ee)},[k,a]),$=E.useCallback(U=>{if(U.button!==0||U.isPrimary===!1)return;g(!0),y({x:U.clientX,y:U.clientY}),_(h);let ee=U.currentTarget;ee instanceof HTMLElement&&ee.setPointerCapture(U.pointerId)},[h]),F=E.useCallback(U=>{if(!p)return;U.preventDefault();let ee=U.clientX-T.x,Z=U.clientY-T.y;f({x:x.x+ee,y:x.y+Z})},[p,T,x]),q=E.useCallback(U=>{g(!1);let ee=U.currentTarget;ee instanceof HTMLElement&&ee.releasePointerCapture(U.pointerId)},[]);return E.useEffect(()=>{let U=u.current;if(U)return U.addEventListener("wheel",D,{passive:!1}),()=>{U.removeEventListener("wheel",D)}},[D]),E.useEffect(()=>{let U=l.current;if(U&&p)return document.body.style.userSelect="none",U.addEventListener("pointermove",F,{passive:!1}),U.addEventListener("pointerup",q),U.addEventListener("pointercancel",q),()=>{document.body.style.userSelect="",U.removeEventListener("pointermove",F),U.removeEventListener("pointerup",q),U.removeEventListener("pointercancel",q)}},[p,F,q]),v.jsxs("div",{className:Ke("relative",o?"h-full w-full":"w-full",t),ref:u,style:{cursor:p?"grabbing":"grab"},children:[i&&v.jsxs("div",{className:Ke("absolute z-10 flex flex-col gap-1 rounded-md border border-border bg-background/90 p-1 shadow-sm backdrop-blur-sm",o?"bottom-4 left-4":"bottom-2 left-2"),children:[v.jsx("button",{className:"flex items-center justify-center rounded p-1.5 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",disabled:c>=n,onClick:C,title:"Zoom in",type:"button",children:v.jsx(YU,{size:16})}),v.jsx("button",{className:"flex items-center justify-center rounded p-1.5 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",disabled:c<=r,onClick:A,title:"Zoom out",type:"button",children:v.jsx(XU,{size:16})}),v.jsx("button",{className:"flex items-center justify-center rounded p-1.5 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",onClick:P,title:"Reset zoom and pan",type:"button",children:v.jsx(qU,{size:16})})]}),v.jsx("div",{className:Ke("origin-center transition-transform duration-150 ease-out",o&&"flex w-full items-center justify-center"),onPointerDown:$,ref:l,role:"application",style:{transform:`translate(${h.x}px, ${h.y}px) scale(${c})`,transformOrigin:"center center",touchAction:"none",willChange:"transform"},children:e})]})},UT=({chart:e,className:t,config:r,fullscreen:n=!1,showControls:a=!0})=>{let[i,s]=E.useState(null),[o,u]=E.useState(!0),[l,c]=E.useState(""),[d,h]=E.useState(""),[f,p]=E.useState(0),{mermaid:g}=E.useContext(Mn),T=g?.errorComponent;if(E.useEffect(()=>{(async()=>{try{s(null),u(!0);let x=await fT(r),_=e.split("").reduce((A,P)=>(A<<5)-A+P.charCodeAt(0)|0,0),k=`mermaid-${Math.abs(_)}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,{svg:C}=await x.render(k,e);c(C),h(C)}catch(x){if(!(d||l)){let _=x instanceof Error?x.message:"Failed to render Mermaid chart";s(_)}}finally{u(!1)}})()},[e,r,f]),o&&!l&&!d)return v.jsx("div",{className:Ke("my-4 flex justify-center p-4",t),children:v.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[v.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-current border-b-2"}),v.jsx("span",{className:"text-sm",children:"Loading diagram..."})]})});if(i&&!l&&!d){let x=()=>p(_=>_+1);return T?v.jsx(T,{chart:e,error:i,retry:x}):v.jsxs("div",{className:Ke("rounded-lg border border-red-200 bg-red-50 p-4",t),children:[v.jsxs("p",{className:"font-mono text-red-700 text-sm",children:["Mermaid Error: ",i]}),v.jsxs("details",{className:"mt-2",children:[v.jsx("summary",{className:"cursor-pointer text-red-600 text-xs",children:"Show Code"}),v.jsx("pre",{className:"mt-2 overflow-x-auto rounded bg-red-100 p-2 text-red-800 text-xs",children:e})]})]})}let y=l||d;return v.jsx(CW,{className:Ke(n?"h-full w-full overflow-hidden":"my-4 overflow-hidden",t),fullscreen:n,maxZoom:3,minZoom:.5,showControls:a,zoomStep:.1,children:v.jsx("div",{"aria-label":"Mermaid chart",className:Ke("flex justify-center",n&&"h-full w-full items-center"),dangerouslySetInnerHTML:{__html:y},role:"img"})})};function IW({results:e}){return!e||e.length===0?null:v.jsxs("div",{className:"space-y-4 mt-4",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[v.jsx(zh,{className:"h-4 w-4 text-primary"}),v.jsxs("span",{children:[" (",e.length," )"]})]}),v.jsx("div",{className:"space-y-3",children:e.map((t,r)=>v.jsxs(b_,{className:"p-4 space-y-3 border-l-4 border-l-orange-500",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(rc,{className:"h-4 w-4 text-orange-500 flex-shrink-0"}),v.jsx("span",{className:"text-xs font-semibold text-orange-600 dark:text-orange-400",children:""})]}),t.location&&v.jsxs("span",{className:"text-xs font-mono font-bold bg-orange-100 dark:bg-orange-900/50 text-orange-700 dark:text-orange-300 px-2 py-0.5 rounded border border-orange-200 dark:border-orange-800",children:[": ",t.location]})]}),v.jsx("p",{className:"text-sm bg-orange-50 dark:bg-orange-950/30 p-2 rounded border border-orange-200 dark:border-orange-800",children:t.origin})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(zh,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}),v.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:""})]}),v.jsx("p",{className:"text-sm bg-blue-50 dark:bg-blue-950/30 p-2 rounded border border-blue-200 dark:border-blue-800",children:t.reason})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(rc,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),v.jsx("span",{className:"text-xs font-semibold text-red-600 dark:text-red-400",children:""})]}),v.jsx("p",{className:"text-sm bg-red-50 dark:bg-red-950/30 p-2 rounded border border-red-200 dark:border-red-800",children:t.issueDes})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(u3,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),v.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:""})]}),v.jsx("p",{className:"text-sm bg-green-50 dark:bg-green-950/30 p-2 rounded border border-green-200 dark:border-green-800",children:t.suggestion})]})]},r))})]})}function NW(e){try{const t=new Date(e),r=new Date,n=r.getTime()-t.getTime(),a=Math.floor(n/(1e3*60*60*24));if(a===0){const i=Math.floor(n/36e5);if(i===0){const s=Math.floor(n/6e4);return s===0?"":`${s}`}return`${i}`}return a===1?"":a<7?`${a}`:t.getFullYear()===r.getFullYear()?`${t.getMonth()+1}${t.getDate()}`:`${t.getFullYear()}${t.getMonth()+1}${t.getDate()}`}catch{return e}}function RW({message:e,onRegenerate:t}){const{user:r}=i3(),n=e.role==="user",a=!!e.error,i=e.isStreaming,s=e.isLoading&&!e.content,[o,u]=E.useState(!0),[l,c]=E.useState(!1),[d,h]=E.useState(!1),[f,p]=E.useState(null),g=r?.username||r?.email||"",T=`https://ui-avatars.com/api/?name=${encodeURIComponent(g)}&background=3b82f6&color=fff`,y=async(k,C)=>{try{await navigator.clipboard.writeText(k),p(C),setTimeout(()=>p(null),2e3)}catch(A){console.error(":",A)}},x=e.references?.filter(k=>k.type==="knowledge")||[],_=e.references?.filter(k=>k.type==="web_search")||[];return v.jsxs("div",{className:`flex gap-4 px-6 py-8 ${n?"bg-background":"bg-muted/20"}`,children:[v.jsx("div",{className:"flex-shrink-0",children:n?v.jsx("img",{src:T,alt:g,className:"h-9 w-9 rounded-lg object-cover"}):v.jsx("div",{className:`h-9 w-9 rounded-lg flex items-center justify-center overflow-hidden ${a?"bg-gradient-to-br from-red-500 to-orange-500 text-white":"bg-white"}`,children:a?v.jsx(rc,{className:"h-5 w-5"}):v.jsx("img",{src:"/logo.jpg",alt:"",className:"w-9 h-9 object-cover rounded-full"})})}),v.jsxs("div",{className:"flex-1 space-y-3 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"font-semibold text-sm text-foreground",children:n?"":""}),s&&!n&&v.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[v.jsx(tg,{className:"h-3 w-3 animate-spin"}),v.jsx("span",{children:"..."})]}),i&&!n&&!e.content&&!e.thinking&&x.length===0&&_.length===0&&!s&&v.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[v.jsx(tg,{className:"h-3 w-3 animate-spin"}),v.jsx("span",{children:"..."})]})]}),a?v.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-3",children:v.jsxs("div",{className:"flex items-start gap-2",children:[v.jsx(rc,{className:"h-4 w-4 text-destructive flex-shrink-0 mt-0.5"}),v.jsxs("div",{className:"flex-1 text-sm text-destructive",children:[v.jsx("div",{className:"font-medium mb-1",children:""}),v.jsx("div",{className:"text-xs opacity-90",children:e.error})]})]})}):v.jsxs(v.Fragment,{children:[n&&v.jsxs("div",{className:"space-y-2",children:[e.uploadedFileName&&v.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 px-3 py-2 rounded-lg border border-border",children:[v.jsx(zh,{className:"h-4 w-4"}),v.jsxs("span",{children:[": ",e.uploadedFileName]})]}),v.jsxs("div",{className:"group relative",children:[v.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:v.jsx(ss,{children:e.content})}),v.jsx(er,{variant:"ghost",size:"sm",className:"absolute -top-2 -right-2 h-7 px-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>y(e.content,"user-message"),children:f==="user-message"?v.jsx(ja,{className:"h-3 w-3"}):v.jsx($a,{className:"h-3 w-3"})})]})]}),!n&&x.length>0&&v.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-950/30 overflow-hidden",children:[v.jsxs("div",{className:"flex items-center justify-between w-full px-4 py-3 text-sm font-medium text-blue-900 dark:text-blue-100",children:[v.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[v.jsx(_p,{className:"h-4 w-4"}),v.jsxs("span",{children:[" ",x.length," "]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(er,{variant:"ghost",size:"sm",className:"h-6 px-2",onClick:k=>{k.stopPropagation();const C=x.map((A,P)=>`[${P+1}] ${A.source?`${A.source}
`:""}${A.content}`).join(`

`);y(C,"knowledge")},children:f==="knowledge"?v.jsx(ja,{className:"h-3 w-3"}):v.jsx($a,{className:"h-3 w-3"})}),v.jsx("button",{onClick:()=>c(!l),className:"hover:opacity-80 transition-opacity",children:l?v.jsx(J0,{className:"h-4 w-4"}):v.jsx(Q0,{className:"h-4 w-4"})})]})]}),l&&v.jsxs("div",{className:"px-4 pb-3 space-y-3",children:[(()=>{const k=Array.from(new Set(x.map(C=>C.source).filter(Boolean)));return k.length>0&&v.jsxs("div",{className:"p-2 bg-blue-100/50 dark:bg-blue-900/20 rounded border border-blue-200 dark:border-blue-800",children:[v.jsx("div",{className:"text-xs font-medium text-blue-700 dark:text-blue-300 mb-1",children:" "}),v.jsx("div",{className:"flex flex-wrap gap-1",children:k.map((C,A)=>v.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-200 dark:bg-blue-800 text-blue-800 dark:text-blue-200",children:C?.replace(/\.[^/.]+$/,"")||C},A))})]})})(),x.map((k,C)=>v.jsxs("div",{className:"text-sm p-3 rounded border bg-white/50 dark:bg-blue-900/20 border-blue-100 dark:border-blue-800 text-blue-800 dark:text-blue-200",children:[v.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[v.jsx("span",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-blue-500 dark:bg-blue-600 text-white text-xs flex items-center justify-center font-medium",children:C+1}),v.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1 flex-wrap",children:[v.jsx("div",{className:"font-medium text-xs text-blue-600 dark:text-blue-400 truncate",children:k.source?k.source.replace(/\.[^/.]+$/,""):""}),k.score!==void 0&&v.jsxs("span",{className:"flex-shrink-0 text-xs px-1.5 py-0.5 rounded font-mono bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300",children:[(k.score*100).toFixed(1),"%"]})]})]}),v.jsx(er,{variant:"ghost",size:"sm",className:"h-5 px-1.5 -mt-1 flex-shrink-0",onClick:()=>y(k.content,`k-${C}`),children:f===`k-${C}`?v.jsx(ja,{className:"h-3 w-3"}):v.jsx($a,{className:"h-3 w-3"})})]}),v.jsx("div",{className:"text-xs prose prose-xs max-w-none dark:prose-invert break-words leading-relaxed",children:v.jsx(ss,{children:k.content})})]},C))]})]}),!n&&_.length>0&&v.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950/30 overflow-hidden",children:[v.jsxs("div",{className:"flex items-center justify-between w-full px-4 py-3 text-sm font-medium text-green-900 dark:text-green-100",children:[v.jsxs("button",{onClick:()=>h(!d),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[v.jsx($h,{className:"h-4 w-4"}),v.jsxs("span",{children:[_.length," "]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(er,{variant:"ghost",size:"sm",className:"h-6 px-2",onClick:k=>{k.stopPropagation();const C=_.map((A,P)=>`[${P+1}] ${A.title||""}
${A.source?`${A.source}
`:""}${A.content}${A.link?`
${A.link}`:""}`).join(`

`);y(C,"websearch")},children:f==="websearch"?v.jsx(ja,{className:"h-3 w-3"}):v.jsx($a,{className:"h-3 w-3"})}),v.jsx("button",{onClick:()=>h(!d),className:"hover:opacity-80 transition-opacity",children:d?v.jsx(J0,{className:"h-4 w-4"}):v.jsx(Q0,{className:"h-4 w-4"})})]})]}),d&&v.jsx("div",{className:"px-4 pb-3 space-y-3",children:_.map((k,C)=>v.jsxs("div",{className:"text-sm p-3 rounded border bg-green-50/50 dark:bg-green-950/20 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200",children:[v.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[v.jsx("span",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-green-500 dark:bg-green-600 text-white text-xs flex items-center justify-center",children:v.jsx($h,{className:"h-3 w-3"})}),v.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1 flex-wrap",children:[k.title&&v.jsx("div",{className:"font-medium text-xs text-green-700 dark:text-green-300 truncate flex-1 min-w-0",children:k.title}),k.refer&&v.jsx("span",{className:"flex-shrink-0 text-xs px-1.5 py-0.5 rounded bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-300",children:""})]})]}),v.jsx(er,{variant:"ghost",size:"sm",className:"h-5 px-1.5 -mt-1 flex-shrink-0",onClick:()=>y(k.content,`w-${C}`),children:f===`w-${C}`?v.jsx(ja,{className:"h-3 w-3"}):v.jsx($a,{className:"h-3 w-3"})})]}),(k.source||k.link||k.publishDate)&&v.jsxs("div",{className:"flex items-center gap-2 mb-2 text-xs text-green-600 dark:text-green-400 flex-wrap",children:[k.source&&v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"font-medium",children:":"}),v.jsx("span",{children:k.source})]}),k.publishDate&&v.jsxs(v.Fragment,{children:[v.jsx("span",{children:""}),v.jsx("span",{children:NW(k.publishDate)})]}),k.link&&v.jsxs(v.Fragment,{children:[v.jsx("span",{children:""}),v.jsxs("a",{href:k.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:underline",children:[v.jsx("span",{children:""}),v.jsx(tS,{className:"h-3 w-3"})]})]})]}),v.jsx("div",{className:"text-xs prose prose-xs max-w-none dark:prose-invert break-words leading-relaxed",children:v.jsx(ss,{children:k.content})})]},C))})]}),!n&&e.thinking&&v.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-950/30 overflow-hidden",children:[v.jsxs("div",{className:"flex items-center justify-between w-full px-4 py-3 text-sm font-medium text-amber-900 dark:text-amber-100",children:[v.jsxs("button",{onClick:()=>u(!o),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[v.jsx(u3,{className:"h-4 w-4"}),v.jsx("span",{children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(er,{variant:"ghost",size:"sm",className:"h-6 px-2",onClick:k=>{k.stopPropagation(),y(e.thinking,"thinking")},children:f==="thinking"?v.jsx(ja,{className:"h-3 w-3"}):v.jsx($a,{className:"h-3 w-3"})}),v.jsx("button",{onClick:()=>u(!o),className:"hover:opacity-80 transition-opacity",children:o?v.jsx(J0,{className:"h-4 w-4"}):v.jsx(Q0,{className:"h-4 w-4"})})]})]}),o&&v.jsx("div",{className:"px-4 pb-3 text-sm text-amber-800 dark:text-amber-200 prose prose-sm max-w-none dark:prose-invert",children:v.jsx(ss,{children:e.thinking})})]}),!n&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"group relative",children:[v.jsxs("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:[v.jsx(ss,{children:e.content}),e.isStreaming===!0&&v.jsx("span",{className:"inline-block w-2 h-4 ml-1 bg-primary animate-pulse"})]}),v.jsx(er,{variant:"ghost",size:"sm",className:"absolute -top-2 -right-2 h-7 px-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>y(e.content,"assistant-message"),children:f==="assistant-message"?v.jsx(ja,{className:"h-3 w-3"}):v.jsx($a,{className:"h-3 w-3"})})]}),e.analysisResults&&e.analysisResults.length>0&&v.jsx(IW,{results:e.analysisResults}),!i&&e.content&&v.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[v.jsx(er,{variant:"outline",size:"sm",className:"h-8 gap-2",onClick:()=>y(e.content,"full-response"),children:f==="full-response"?v.jsxs(v.Fragment,{children:[v.jsx(ja,{className:"h-3.5 w-3.5"}),v.jsx("span",{className:"text-xs",children:""})]}):v.jsxs(v.Fragment,{children:[v.jsx($a,{className:"h-3.5 w-3.5"}),v.jsx("span",{className:"text-xs",children:""})]})}),t&&v.jsxs(er,{variant:"outline",size:"sm",className:"h-8 gap-2",onClick:t,children:[v.jsx(D_,{className:"h-3.5 w-3.5"}),v.jsx("span",{className:"text-xs",children:""})]})]})]}),!n&&e.usage&&e.usage.length>0&&v.jsxs("div",{className:"text-xs text-muted-foreground mt-2 space-y-1",children:[v.jsx("div",{className:"font-medium",children:"Token :"}),e.usage.map((k,C)=>v.jsx("div",{className:"flex items-center gap-2 pl-2",children:v.jsxs("span",{className:"font-mono",children:[k.nodeName,":  ",k.inputTokenCount," +  ",k.outputTokenCount," = ",k.totalTokenCount]})},C))]})]})]})]})}const OW=E.memo(function({messages:t,onSendMessage:r,isGenerating:n=!1,onStopGenerating:a,onRegenerateMessage:i}){const s=E.useRef(null),o=E.useCallback(()=>{s.current?.scrollIntoView({behavior:"smooth"})},[]);return E.useEffect(()=>{o()},[t.length]),v.jsxs("div",{className:"flex flex-col h-full bg-background",children:[v.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:t.length===0?v.jsx("div",{className:"flex h-full items-center justify-center",children:v.jsxs("div",{className:"text-center space-y-6 px-4 max-w-3xl",children:[v.jsx("div",{className:"mx-auto w-20 h-20 rounded-2xl overflow-hidden shadow-lg",children:v.jsx("img",{src:"/icon.jpg",alt:"",className:"w-full h-full object-cover"})}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("h1",{className:"text-4xl font-bold text-foreground",children:","}),v.jsx("p",{className:"text-muted-foreground text-lg",children:","})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-2xl mx-auto mt-8",children:["","","?",""].map(u=>v.jsx("button",{type:"button",onClick:()=>r(u,{showThinking:!0,showReferences:!0,useWebSearch:!0}),className:"group rounded-xl border border-border bg-card px-5 py-4 text-left text-sm text-card-foreground transition-all hover:border-primary/50 hover:bg-accent hover:shadow-md",children:v.jsx("span",{className:"group-hover:text-primary transition-colors",children:u})},u))})]})}):v.jsxs("div",{className:"mx-auto max-w-4xl py-4",children:[t.map(u=>v.jsx(RW,{message:u,onRegenerate:u.role==="assistant"&&i?()=>i(u.id):void 0},u.id)),v.jsx("div",{ref:s})]})}),v.jsx(DR,{onSendMessage:r,isGenerating:n,onStopGenerating:a})]})});function MW(){return v.jsx("header",{className:"sticky top-0 z-10 border-b border-border bg-white backdrop-blur",children:v.jsxs("div",{className:"flex h-14 items-center justify-between px-4",children:[v.jsx("div",{className:"flex items-center gap-2",children:v.jsx(NS,{className:"md:hidden"})}),v.jsx("div",{className:"flex items-center gap-2",children:v.jsx("button",{type:"button",className:"rounded-lg p-2 text-black transition-colors hover:bg-accent","aria-label":"",children:v.jsx(O_,{className:"h-5 w-5 text-black"})})})]})})}var Db=1,PW=.9,DW=.8,LW=.17,rh=.1,nh=.999,FW=.9999,BW=.99,jW=/[\\\/_+.#"@\[\(\{&]/,$W=/[\\\/_+.#"@\[\(\{&]/g,zW=/[\s-]/,HT=/[\s-]/g;function Wf(e,t,r,n,a,i,s){if(i===t.length)return a===e.length?Db:BW;var o=`${a},${i}`;if(s[o]!==void 0)return s[o];for(var u=n.charAt(i),l=r.indexOf(u,a),c=0,d,h,f,p;l>=0;)d=Wf(e,t,r,n,l+1,i+1,s),d>c&&(l===a?d*=Db:jW.test(e.charAt(l-1))?(d*=DW,f=e.slice(a,l-1).match($W),f&&a>0&&(d*=Math.pow(nh,f.length))):zW.test(e.charAt(l-1))?(d*=PW,p=e.slice(a,l-1).match(HT),p&&a>0&&(d*=Math.pow(nh,p.length))):(d*=LW,a>0&&(d*=Math.pow(nh,l-a))),e.charAt(l)!==t.charAt(i)&&(d*=FW)),(d<rh&&r.charAt(l-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(l-1)!==n.charAt(i))&&(h=Wf(e,t,r,n,l+1,i+2,s),h*rh>d&&(d=h*rh)),d>c&&(c=d),l=r.indexOf(u,l+1);return s[o]=c,c}function Lb(e){return e.toLowerCase().replace(HT," ")}function UW(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Wf(e,t,Lb(e),Lb(t),0,0,{})}var vo='[cmdk-group=""]',ah='[cmdk-group-items=""]',HW='[cmdk-group-heading=""]',VT='[cmdk-item=""]',Fb=`${VT}:not([aria-disabled="true"])`,Zf="cmdk-item-select",os="data-value",VW=(e,t,r)=>UW(e,t,r),qT=E.createContext(void 0),Wu=()=>E.useContext(qT),WT=E.createContext(void 0),a1=()=>E.useContext(WT),ZT=E.createContext(void 0),GT=E.forwardRef((e,t)=>{let r=us(()=>{var W,O;return{search:"",value:(O=(W=e.value)!=null?W:e.defaultValue)!=null?O:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=us(()=>new Set),a=us(()=>new Map),i=us(()=>new Map),s=us(()=>new Set),o=YT(e),{label:u,children:l,value:c,onValueChange:d,filter:h,shouldFilter:f,loop:p,disablePointerSelection:g=!1,vimBindings:T=!0,...y}=e,x=Ja(),_=Ja(),k=Ja(),C=E.useRef(null),A=tZ();Li(()=>{if(c!==void 0){let W=c.trim();r.current.value=W,P.emit()}},[c]),Li(()=>{A(6,ee)},[]);let P=E.useMemo(()=>({subscribe:W=>(s.current.add(W),()=>s.current.delete(W)),snapshot:()=>r.current,setState:(W,O,Ie)=>{var me,ge,ae,Me;if(!Object.is(r.current[W],O)){if(r.current[W]=O,W==="search")U(),F(),A(1,q);else if(W==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Ue=document.getElementById(k);Ue?Ue.focus():(me=document.getElementById(x))==null||me.focus()}if(A(7,()=>{var Ue;r.current.selectedItemId=(Ue=Z())==null?void 0:Ue.id,P.emit()}),Ie||A(5,ee),((ge=o.current)==null?void 0:ge.value)!==void 0){let Ue=O??"";(Me=(ae=o.current).onValueChange)==null||Me.call(ae,Ue);return}}P.emit()}},emit:()=>{s.current.forEach(W=>W())}}),[]),D=E.useMemo(()=>({value:(W,O,Ie)=>{var me;O!==((me=i.current.get(W))==null?void 0:me.value)&&(i.current.set(W,{value:O,keywords:Ie}),r.current.filtered.items.set(W,$(O,Ie)),A(2,()=>{F(),P.emit()}))},item:(W,O)=>(n.current.add(W),O&&(a.current.has(O)?a.current.get(O).add(W):a.current.set(O,new Set([W]))),A(3,()=>{U(),F(),r.current.value||q(),P.emit()}),()=>{i.current.delete(W),n.current.delete(W),r.current.filtered.items.delete(W);let Ie=Z();A(4,()=>{U(),Ie?.getAttribute("id")===W&&q(),P.emit()})}),group:W=>(a.current.has(W)||a.current.set(W,new Set),()=>{i.current.delete(W),a.current.delete(W)}),filter:()=>o.current.shouldFilter,label:u||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:x,inputId:k,labelId:_,listInnerRef:C}),[]);function $(W,O){var Ie,me;let ge=(me=(Ie=o.current)==null?void 0:Ie.filter)!=null?me:VW;return W?ge(W,r.current.search,O):0}function F(){if(!r.current.search||o.current.shouldFilter===!1)return;let W=r.current.filtered.items,O=[];r.current.filtered.groups.forEach(me=>{let ge=a.current.get(me),ae=0;ge.forEach(Me=>{let Ue=W.get(Me);ae=Math.max(Ue,ae)}),O.push([me,ae])});let Ie=C.current;J().sort((me,ge)=>{var ae,Me;let Ue=me.getAttribute("id"),at=ge.getAttribute("id");return((ae=W.get(at))!=null?ae:0)-((Me=W.get(Ue))!=null?Me:0)}).forEach(me=>{let ge=me.closest(ah);ge?ge.appendChild(me.parentElement===ge?me:me.closest(`${ah} > *`)):Ie.appendChild(me.parentElement===Ie?me:me.closest(`${ah} > *`))}),O.sort((me,ge)=>ge[1]-me[1]).forEach(me=>{var ge;let ae=(ge=C.current)==null?void 0:ge.querySelector(`${vo}[${os}="${encodeURIComponent(me[0])}"]`);ae?.parentElement.appendChild(ae)})}function q(){let W=J().find(Ie=>Ie.getAttribute("aria-disabled")!=="true"),O=W?.getAttribute(os);P.setState("value",O||void 0)}function U(){var W,O,Ie,me;if(!r.current.search||o.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ge=0;for(let ae of n.current){let Me=(O=(W=i.current.get(ae))==null?void 0:W.value)!=null?O:"",Ue=(me=(Ie=i.current.get(ae))==null?void 0:Ie.keywords)!=null?me:[],at=$(Me,Ue);r.current.filtered.items.set(ae,at),at>0&&ge++}for(let[ae,Me]of a.current)for(let Ue of Me)if(r.current.filtered.items.get(Ue)>0){r.current.filtered.groups.add(ae);break}r.current.filtered.count=ge}function ee(){var W,O,Ie;let me=Z();me&&(((W=me.parentElement)==null?void 0:W.firstChild)===me&&((Ie=(O=me.closest(vo))==null?void 0:O.querySelector(HW))==null||Ie.scrollIntoView({block:"nearest"})),me.scrollIntoView({block:"nearest"}))}function Z(){var W;return(W=C.current)==null?void 0:W.querySelector(`${VT}[aria-selected="true"]`)}function J(){var W;return Array.from(((W=C.current)==null?void 0:W.querySelectorAll(Fb))||[])}function be(W){let O=J()[W];O&&P.setState("value",O.getAttribute(os))}function Te(W){var O;let Ie=Z(),me=J(),ge=me.findIndex(Me=>Me===Ie),ae=me[ge+W];(O=o.current)!=null&&O.loop&&(ae=ge+W<0?me[me.length-1]:ge+W===me.length?me[0]:me[ge+W]),ae&&P.setState("value",ae.getAttribute(os))}function ye(W){let O=Z(),Ie=O?.closest(vo),me;for(;Ie&&!me;)Ie=W>0?QW(Ie,vo):eZ(Ie,vo),me=Ie?.querySelector(Fb);me?P.setState("value",me.getAttribute(os)):Te(W)}let ne=()=>be(J().length-1),R=W=>{W.preventDefault(),W.metaKey?ne():W.altKey?ye(1):Te(1)},pe=W=>{W.preventDefault(),W.metaKey?be(0):W.altKey?ye(-1):Te(-1)};return E.createElement(di.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:W=>{var O;(O=y.onKeyDown)==null||O.call(y,W);let Ie=W.nativeEvent.isComposing||W.keyCode===229;if(!(W.defaultPrevented||Ie))switch(W.key){case"n":case"j":{T&&W.ctrlKey&&R(W);break}case"ArrowDown":{R(W);break}case"p":case"k":{T&&W.ctrlKey&&pe(W);break}case"ArrowUp":{pe(W);break}case"Home":{W.preventDefault(),be(0);break}case"End":{W.preventDefault(),ne();break}case"Enter":{W.preventDefault();let me=Z();if(me){let ge=new Event(Zf);me.dispatchEvent(ge)}}}}},E.createElement("label",{"cmdk-label":"",htmlFor:D.inputId,id:D.labelId,style:nZ},u),D0(e,W=>E.createElement(WT.Provider,{value:P},E.createElement(qT.Provider,{value:D},W))))}),qW=E.forwardRef((e,t)=>{var r,n;let a=Ja(),i=E.useRef(null),s=E.useContext(ZT),o=Wu(),u=YT(e),l=(n=(r=u.current)==null?void 0:r.forceMount)!=null?n:s?.forceMount;Li(()=>{if(!l)return o.item(a,s?.id)},[l]);let c=KT(a,i,[e.value,e.children,i],e.keywords),d=a1(),h=ii(A=>A.value&&A.value===c.current),f=ii(A=>l||o.filter()===!1?!0:A.search?A.filtered.items.get(a)>0:!0);E.useEffect(()=>{let A=i.current;if(!(!A||e.disabled))return A.addEventListener(Zf,p),()=>A.removeEventListener(Zf,p)},[f,e.onSelect,e.disabled]);function p(){var A,P;g(),(P=(A=u.current).onSelect)==null||P.call(A,c.current)}function g(){d.setState("value",c.current,!0)}if(!f)return null;let{disabled:T,value:y,onSelect:x,forceMount:_,keywords:k,...C}=e;return E.createElement(di.div,{ref:Sa(i,t),...C,id:a,"cmdk-item":"",role:"option","aria-disabled":!!T,"aria-selected":!!h,"data-disabled":!!T,"data-selected":!!h,onPointerMove:T||o.getDisablePointerSelection()?void 0:g,onClick:T?void 0:p},e.children)}),WW=E.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,s=Ja(),o=E.useRef(null),u=E.useRef(null),l=Ja(),c=Wu(),d=ii(f=>a||c.filter()===!1?!0:f.search?f.filtered.groups.has(s):!0);Li(()=>c.group(s),[]),KT(s,o,[e.value,e.heading,u]);let h=E.useMemo(()=>({id:s,forceMount:a}),[a]);return E.createElement(di.div,{ref:Sa(o,t),...i,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},r&&E.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:l},r),D0(e,f=>E.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?l:void 0},E.createElement(ZT.Provider,{value:h},f))))}),ZW=E.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=E.useRef(null),i=ii(s=>!s.search);return!r&&!i?null:E.createElement(di.div,{ref:Sa(a,t),...n,"cmdk-separator":"",role:"separator"})}),GW=E.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=a1(),s=ii(l=>l.search),o=ii(l=>l.selectedItemId),u=Wu();return E.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),E.createElement(di.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":o,id:u.inputId,type:"text",value:a?e.value:s,onChange:l=>{a||i.setState("search",l.target.value),r?.(l.target.value)}})}),YW=E.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=E.useRef(null),s=E.useRef(null),o=ii(l=>l.selectedItemId),u=Wu();return E.useEffect(()=>{if(s.current&&i.current){let l=s.current,c=i.current,d,h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let f=l.offsetHeight;c.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return h.observe(l),()=>{cancelAnimationFrame(d),h.unobserve(l)}}},[]),E.createElement(di.div,{ref:Sa(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":n,id:u.listId},D0(e,l=>E.createElement("div",{ref:Sa(s,u.listInnerRef),"cmdk-list-sizer":""},l)))}),KW=E.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:s,...o}=e;return E.createElement(t3,{open:r,onOpenChange:n},E.createElement(n3,{container:s},E.createElement(a3,{"cmdk-overlay":"",className:a}),E.createElement(r3,{"aria-label":e.label,"cmdk-dialog":"",className:i},E.createElement(GT,{ref:t,...o}))))}),XW=E.forwardRef((e,t)=>ii(r=>r.filtered.count===0)?E.createElement(di.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),JW=E.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return E.createElement(di.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},D0(e,s=>E.createElement("div",{"aria-hidden":!0},s)))}),Vr=Object.assign(GT,{List:YW,Item:qW,Input:GW,Group:WW,Separator:ZW,Dialog:KW,Empty:XW,Loading:JW});function QW(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function eZ(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function YT(e){let t=E.useRef(e);return Li(()=>{t.current=e}),t}var Li=typeof window>"u"?E.useEffect:E.useLayoutEffect;function us(e){let t=E.useRef();return t.current===void 0&&(t.current=e()),t}function ii(e){let t=a1(),r=()=>e(t.snapshot());return E.useSyncExternalStore(t.subscribe,r,r)}function KT(e,t,r,n=[]){let a=E.useRef(),i=Wu();return Li(()=>{var s;let o=(()=>{var l;for(let c of r){if(typeof c=="string")return c.trim();if(typeof c=="object"&&"current"in c)return c.current?(l=c.current.textContent)==null?void 0:l.trim():a.current}})(),u=n.map(l=>l.trim());i.value(e,o,u),(s=t.current)==null||s.setAttribute(os,o),a.current=o}),a}var tZ=()=>{let[e,t]=E.useState(),r=us(()=>new Map);return Li(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function rZ(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function D0({asChild:e,children:t},r){return e&&E.isValidElement(t)?E.cloneElement(rZ(t),{ref:t.ref},r(t.props.children)):r(t)}var nZ={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const XT=E.forwardRef(({className:e,...t},r)=>v.jsx(Vr,{ref:r,className:ht("flex h-full w-full flex-col overflow-hidden rounded-lg bg-popover text-popover-foreground",e),...t}));XT.displayName=Vr.displayName;const aZ=({children:e,...t})=>v.jsxs(Lh,{...t,children:[v.jsx(Fh,{})," ",v.jsx(Bh,{})," ",v.jsx(jh,{className:"overflow-hidden p-0 sm:max-w-lg [&>button:last-child]:hidden",children:v.jsx(XT,{className:"**:[[cmdk-group-heading]]:px-2 **:[[cmdk-group-heading]]:font-medium **:[[cmdk-group-heading]]:text-muted-foreground **:[[cmdk-group]]:px-2 **:[[cmdk-input]]:h-12 **:[[cmdk-item]]:px-3 **:[[cmdk-item]]:py-2",children:e})})]}),JT=E.forwardRef(({className:e,...t},r)=>v.jsxs("div",{className:"flex items-center border-b border-input px-5","cmdk-input-wrapper":"",children:[v.jsx($_,{className:"me-3 text-muted-foreground/80"}),v.jsx(Vr.Input,{ref:r,className:ht("flex h-10 w-full rounded-lg bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground/70 disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));JT.displayName=Vr.Input.displayName;const QT=E.forwardRef(({className:e,...t},r)=>v.jsx(Vr.List,{ref:r,className:ht("max-h-80 overflow-y-auto overflow-x-hidden",e),...t}));QT.displayName=Vr.List.displayName;const eE=E.forwardRef((e,t)=>v.jsx(Vr.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));eE.displayName=Vr.Empty.displayName;const tE=E.forwardRef(({className:e,...t},r)=>v.jsx(Vr.Group,{ref:r,className:ht("overflow-hidden p-2 text-foreground **:[[cmdk-group-heading]]:px-3 **:[[cmdk-group-heading]]:py-2 **:[[cmdk-group-heading]]:text-xs **:[[cmdk-group-heading]]:font-medium **:[[cmdk-group-heading]]:text-muted-foreground",e),...t}));tE.displayName=Vr.Group.displayName;const iZ=E.forwardRef(({className:e,...t},r)=>v.jsx(Vr.Separator,{ref:r,className:ht("-mx-1 h-px bg-border",e),...t}));iZ.displayName=Vr.Separator.displayName;const rE=E.forwardRef(({className:e,...t},r)=>v.jsx(Vr.Item,{ref:r,className:ht("relative flex cursor-default select-none items-center gap-3 rounded-md px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...t}));rE.displayName=Vr.Item.displayName;function sZ({open:e,onOpenChange:t,conversations:r,onSelectConversation:n}){const[a,i]=E.useState(""),s=E.useMemo(()=>{if(!a.trim())return r;const l=a.toLowerCase();return r.filter(c=>c.title.toLowerCase().includes(l)||c.messages.some(d=>d.content.toLowerCase().includes(l)))},[r,a]),o=l=>{const c=new Date(l),f=(new Date().getTime()-c.getTime())/(1e3*60*60);return f<24?c.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):f<48?"":f<168?`${Math.floor(f/24)}`:c.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})},u=l=>{n(l),t(!1),i("")};return v.jsxs(aZ,{open:e,onOpenChange:t,children:[v.jsx(JT,{placeholder:"...",value:a,onValueChange:i}),v.jsxs(QT,{children:[v.jsx(eE,{children:""}),v.jsx(tE,{heading:"",children:s.map(l=>v.jsxs(rE,{value:l.id,onSelect:()=>u(l.id),className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[v.jsx(L_,{size:16,strokeWidth:2,className:"opacity-60 shrink-0","aria-hidden":"true"}),v.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[v.jsx("span",{className:"truncate",children:l.title}),l.messages.length>0&&v.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:[l.messages[l.messages.length-1].content.substring(0,50),l.messages[l.messages.length-1].content.length>50?"...":""]})]})]}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground shrink-0 ml-2",children:[v.jsx(F_,{size:12,strokeWidth:2,"aria-hidden":"true"}),v.jsx("span",{children:o(l.timestamp)})]})]},l.id))})]})]})}function oZ(e,t=[]){let r=[];function n(i,s){const o=E.createContext(s),u=r.length;r=[...r,s];const l=d=>{const{scope:h,children:f,...p}=d,g=h?.[e]?.[u]||o,T=E.useMemo(()=>p,Object.values(p));return v.jsx(g.Provider,{value:T,children:f})};l.displayName=i+"Provider";function c(d,h){const f=h?.[e]?.[u]||o,p=E.useContext(f);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[l,c]}const a=()=>{const i=r.map(s=>E.createContext(s));return function(o){const u=o?.[e]||i;return E.useMemo(()=>({[`__scope${e}`]:{...o,[e]:u}}),[o,u])}};return a.scopeName=e,[n,uZ(a,...t)]}function uZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:u,scopeName:l})=>{const d=u(i)[`__scope${l}`];return{...o,...d}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function lZ(e){const t=cZ(e),r=E.forwardRef((n,a)=>{const{children:i,...s}=n,o=E.Children.toArray(i),u=o.find(hZ);if(u){const l=u.props.children,c=o.map(d=>d===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:d);return v.jsx(t,{...s,ref:a,children:E.isValidElement(l)?E.cloneElement(l,void 0,c):null})}return v.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function cZ(e){const t=E.forwardRef((r,n)=>{const{children:a,...i}=r;if(E.isValidElement(a)){const s=pZ(a),o=fZ(i,a.props);return a.type!==E.Fragment&&(o.ref=n?Sa(n,s):s),E.cloneElement(a,o)}return E.Children.count(a)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dZ=Symbol("radix.slottable");function hZ(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dZ}function fZ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const u=i(...o);return a(...o),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function pZ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var mZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gZ=mZ.reduce((e,t)=>{const r=lZ(`Primitive.${t}`),n=E.forwardRef((a,i)=>{const{asChild:s,...o}=a,u=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(u,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yZ(e,t=[]){let r=[];function n(i,s){const o=E.createContext(s),u=r.length;r=[...r,s];const l=d=>{const{scope:h,children:f,...p}=d,g=h?.[e]?.[u]||o,T=E.useMemo(()=>p,Object.values(p));return v.jsx(g.Provider,{value:T,children:f})};l.displayName=i+"Provider";function c(d,h){const f=h?.[e]?.[u]||o,p=E.useContext(f);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[l,c]}const a=()=>{const i=r.map(s=>E.createContext(s));return function(o){const u=o?.[e]||i;return E.useMemo(()=>({[`__scope${e}`]:{...o,[e]:u}}),[o,u])}};return a.scopeName=e,[n,bZ(a,...t)]}function bZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:u,scopeName:l})=>{const d=u(i)[`__scope${l}`];return{...o,...d}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function nE(e){const t=vZ(e),r=E.forwardRef((n,a)=>{const{children:i,...s}=n,o=E.Children.toArray(i),u=o.find(wZ);if(u){const l=u.props.children,c=o.map(d=>d===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:d);return v.jsx(t,{...s,ref:a,children:E.isValidElement(l)?E.cloneElement(l,void 0,c):null})}return v.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function vZ(e){const t=E.forwardRef((r,n)=>{const{children:a,...i}=r;if(E.isValidElement(a)){const s=EZ(a),o=TZ(i,a.props);return a.type!==E.Fragment&&(o.ref=n?Sa(n,s):s),E.cloneElement(a,o)}return E.Children.count(a)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xZ=Symbol("radix.slottable");function wZ(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xZ}function TZ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const u=i(...o);return a(...o),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function EZ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zu=kZ.reduce((e,t)=>{const r=nE(`Primitive.${t}`),n=E.forwardRef((a,i)=>{const{asChild:s,...o}=a,u=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(u,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function _Z(e,t){e&&Lo.flushSync(()=>e.dispatchEvent(t))}var Gf=["Enter"," "],SZ=["ArrowDown","PageUp","Home"],aE=["ArrowUp","PageDown","End"],AZ=[...SZ,...aE],CZ={ltr:[...Gf,"ArrowRight"],rtl:[...Gf,"ArrowLeft"]},IZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gu="Menu",[fu,NZ,RZ]=h_(Gu),[Yi,iE]=yZ(Gu,[RZ,s3,o3]),L0=s3(),sE=o3(),[OZ,Ki]=Yi(Gu),[MZ,Yu]=Yi(Gu),oE=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:s=!0}=e,o=L0(t),[u,l]=E.useState(null),c=E.useRef(!1),d=e3(i),h=z_(a);return E.useEffect(()=>{const f=()=>{c.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>c.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),v.jsx(U_,{...o,children:v.jsx(OZ,{scope:t,open:r,onOpenChange:d,content:u,onContentChange:l,children:v.jsx(MZ,{scope:t,onClose:E.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:c,dir:h,modal:s,children:n})})})};oE.displayName=Gu;var PZ="MenuAnchor",i1=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=L0(r);return v.jsx(H_,{...a,...n,ref:t})});i1.displayName=PZ;var s1="MenuPortal",[DZ,uE]=Yi(s1,{forceMount:void 0}),lE=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Ki(s1,t);return v.jsx(DZ,{scope:t,forceMount:r,children:v.jsx(u0,{present:r||i.open,children:v.jsx(d_,{asChild:!0,container:a,children:n})})})};lE.displayName=s1;var gn="MenuContent",[LZ,o1]=Yi(gn),cE=E.forwardRef((e,t)=>{const r=uE(gn,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Ki(gn,e.__scopeMenu),s=Yu(gn,e.__scopeMenu);return v.jsx(fu.Provider,{scope:e.__scopeMenu,children:v.jsx(u0,{present:n||i.open,children:v.jsx(fu.Slot,{scope:e.__scopeMenu,children:s.modal?v.jsx(FZ,{...a,ref:t}):v.jsx(BZ,{...a,ref:t})})})})}),FZ=E.forwardRef((e,t)=>{const r=Ki(gn,e.__scopeMenu),n=E.useRef(null),a=Nu(t,n);return E.useEffect(()=>{const i=n.current;if(i)return E_(i)},[]),v.jsx(u1,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Mt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),BZ=E.forwardRef((e,t)=>{const r=Ki(gn,e.__scopeMenu);return v.jsx(u1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),jZ=nE("MenuContent.ScrollLock"),u1=E.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:f,disableOutsideScroll:p,...g}=e,T=Ki(gn,r),y=Yu(gn,r),x=L0(r),_=sE(r),k=NZ(r),[C,A]=E.useState(null),P=E.useRef(null),D=Nu(t,P,T.onContentChange),$=E.useRef(0),F=E.useRef(""),q=E.useRef(0),U=E.useRef(null),ee=E.useRef("right"),Z=E.useRef(0),J=p?__:E.Fragment,be=p?{as:jZ,allowPinchZoom:!0}:void 0,Te=ne=>{const R=F.current+ne,pe=k().filter(ae=>!ae.disabled),W=document.activeElement,O=pe.find(ae=>ae.ref.current===W)?.textValue,Ie=pe.map(ae=>ae.textValue),me=XZ(Ie,R,O),ge=pe.find(ae=>ae.textValue===me)?.ref.current;(function ae(Me){F.current=Me,window.clearTimeout($.current),Me!==""&&($.current=window.setTimeout(()=>ae(""),1e3))})(R),ge&&setTimeout(()=>ge.focus())};E.useEffect(()=>()=>window.clearTimeout($.current),[]),k_();const ye=E.useCallback(ne=>ee.current===U.current?.side&&QZ(ne,U.current?.area),[]);return v.jsx(LZ,{scope:r,searchRef:F,onItemEnter:E.useCallback(ne=>{ye(ne)&&ne.preventDefault()},[ye]),onItemLeave:E.useCallback(ne=>{ye(ne)||(P.current?.focus(),A(null))},[ye]),onTriggerLeave:E.useCallback(ne=>{ye(ne)&&ne.preventDefault()},[ye]),pointerGraceTimerRef:q,onPointerGraceIntentChange:E.useCallback(ne=>{U.current=ne},[]),children:v.jsx(J,{...be,children:v.jsx(S_,{asChild:!0,trapped:a,onMountAutoFocus:Mt(i,ne=>{ne.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:v.jsx(f_,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:f,children:v.jsx(Z_,{asChild:!0,..._,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:A,onEntryFocus:Mt(u,ne=>{y.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(V_,{role:"menu","aria-orientation":"vertical","data-state":SE(T.open),"data-radix-menu-content":"",dir:y.dir,...x,...g,ref:D,style:{outline:"none",...g.style},onKeyDown:Mt(g.onKeyDown,ne=>{const pe=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,W=ne.ctrlKey||ne.altKey||ne.metaKey,O=ne.key.length===1;pe&&(ne.key==="Tab"&&ne.preventDefault(),!W&&O&&Te(ne.key));const Ie=P.current;if(ne.target!==Ie||!AZ.includes(ne.key))return;ne.preventDefault();const ge=k().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);aE.includes(ne.key)&&ge.reverse(),YZ(ge)}),onBlur:Mt(e.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout($.current),F.current="")}),onPointerMove:Mt(e.onPointerMove,pu(ne=>{const R=ne.target,pe=Z.current!==ne.clientX;if(ne.currentTarget.contains(R)&&pe){const W=ne.clientX>Z.current?"right":"left";ee.current=W,Z.current=ne.clientX}}))})})})})})})});cE.displayName=gn;var $Z="MenuGroup",l1=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return v.jsx(Zu.div,{role:"group",...n,ref:t})});l1.displayName=$Z;var zZ="MenuLabel",dE=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return v.jsx(Zu.div,{...n,ref:t})});dE.displayName=zZ;var Ac="MenuItem",Bb="menu.itemSelect",F0=E.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=E.useRef(null),s=Yu(Ac,e.__scopeMenu),o=o1(Ac,e.__scopeMenu),u=Nu(t,i),l=E.useRef(!1),c=()=>{const d=i.current;if(!r&&d){const h=new CustomEvent(Bb,{bubbles:!0,cancelable:!0});d.addEventListener(Bb,f=>n?.(f),{once:!0}),_Z(d,h),h.defaultPrevented?l.current=!1:s.onClose()}};return v.jsx(hE,{...a,ref:u,disabled:r,onClick:Mt(e.onClick,c),onPointerDown:d=>{e.onPointerDown?.(d),l.current=!0},onPointerUp:Mt(e.onPointerUp,d=>{l.current||d.currentTarget?.click()}),onKeyDown:Mt(e.onKeyDown,d=>{const h=o.searchRef.current!=="";r||h&&d.key===" "||Gf.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});F0.displayName=Ac;var hE=E.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,s=o1(Ac,r),o=sE(r),u=E.useRef(null),l=Nu(t,u),[c,d]=E.useState(!1),[h,f]=E.useState("");return E.useEffect(()=>{const p=u.current;p&&f((p.textContent??"").trim())},[i.children]),v.jsx(fu.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:v.jsx(W_,{asChild:!0,...o,focusable:!n,children:v.jsx(Zu.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:l,onPointerMove:Mt(e.onPointerMove,pu(p=>{n?s.onItemLeave(p):(s.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Mt(e.onPointerLeave,pu(p=>s.onItemLeave(p))),onFocus:Mt(e.onFocus,()=>d(!0)),onBlur:Mt(e.onBlur,()=>d(!1))})})})}),UZ="MenuCheckboxItem",fE=E.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return v.jsx(bE,{scope:e.__scopeMenu,checked:r,children:v.jsx(F0,{role:"menuitemcheckbox","aria-checked":Cc(r)?"mixed":r,...a,ref:t,"data-state":d1(r),onSelect:Mt(a.onSelect,()=>n?.(Cc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});fE.displayName=UZ;var pE="MenuRadioGroup",[HZ,VZ]=Yi(pE,{value:void 0,onValueChange:()=>{}}),mE=E.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=e3(n);return v.jsx(HZ,{scope:e.__scopeMenu,value:r,onValueChange:i,children:v.jsx(l1,{...a,ref:t})})});mE.displayName=pE;var gE="MenuRadioItem",yE=E.forwardRef((e,t)=>{const{value:r,...n}=e,a=VZ(gE,e.__scopeMenu),i=r===a.value;return v.jsx(bE,{scope:e.__scopeMenu,checked:i,children:v.jsx(F0,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":d1(i),onSelect:Mt(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});yE.displayName=gE;var c1="MenuItemIndicator",[bE,qZ]=Yi(c1,{checked:!1}),vE=E.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=qZ(c1,r);return v.jsx(u0,{present:n||Cc(i.checked)||i.checked===!0,children:v.jsx(Zu.span,{...a,ref:t,"data-state":d1(i.checked)})})});vE.displayName=c1;var WZ="MenuSeparator",xE=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return v.jsx(Zu.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});xE.displayName=WZ;var ZZ="MenuArrow",wE=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=L0(r);return v.jsx(q_,{...a,...n,ref:t})});wE.displayName=ZZ;var GZ="MenuSub",[Gle,TE]=Yi(GZ),Mo="MenuSubTrigger",EE=E.forwardRef((e,t)=>{const r=Ki(Mo,e.__scopeMenu),n=Yu(Mo,e.__scopeMenu),a=TE(Mo,e.__scopeMenu),i=o1(Mo,e.__scopeMenu),s=E.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:u}=i,l={__scopeMenu:e.__scopeMenu},c=E.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return E.useEffect(()=>c,[c]),E.useEffect(()=>{const d=o.current;return()=>{window.clearTimeout(d),u(null)}},[o,u]),v.jsx(i1,{asChild:!0,...l,children:v.jsx(hE,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":SE(r.open),...e,ref:Sa(t,a.onTriggerChange),onClick:d=>{e.onClick?.(d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Mt(e.onPointerMove,pu(d=>{i.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),c()},100))})),onPointerLeave:Mt(e.onPointerLeave,pu(d=>{c();const h=r.content?.getBoundingClientRect();if(h){const f=r.content?.dataset.side,p=f==="right",g=p?-5:5,T=h[p?"left":"right"],y=h[p?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+g,y:d.clientY},{x:T,y:h.top},{x:y,y:h.top},{x:y,y:h.bottom},{x:T,y:h.bottom}],side:f}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Mt(e.onKeyDown,d=>{const h=i.searchRef.current!=="";e.disabled||h&&d.key===" "||CZ[n.dir].includes(d.key)&&(r.onOpenChange(!0),r.content?.focus(),d.preventDefault())})})})});EE.displayName=Mo;var kE="MenuSubContent",_E=E.forwardRef((e,t)=>{const r=uE(gn,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Ki(gn,e.__scopeMenu),s=Yu(gn,e.__scopeMenu),o=TE(kE,e.__scopeMenu),u=E.useRef(null),l=Nu(t,u);return v.jsx(fu.Provider,{scope:e.__scopeMenu,children:v.jsx(u0,{present:n||i.open,children:v.jsx(fu.Slot,{scope:e.__scopeMenu,children:v.jsx(u1,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:l,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:c=>{s.isUsingKeyboardRef.current&&u.current?.focus(),c.preventDefault()},onCloseAutoFocus:c=>c.preventDefault(),onFocusOutside:Mt(e.onFocusOutside,c=>{c.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Mt(e.onEscapeKeyDown,c=>{s.onClose(),c.preventDefault()}),onKeyDown:Mt(e.onKeyDown,c=>{const d=c.currentTarget.contains(c.target),h=IZ[s.dir].includes(c.key);d&&h&&(i.onOpenChange(!1),o.trigger?.focus(),c.preventDefault())})})})})})});_E.displayName=kE;function SE(e){return e?"open":"closed"}function Cc(e){return e==="indeterminate"}function d1(e){return Cc(e)?"indeterminate":e?"checked":"unchecked"}function YZ(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function KZ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function XZ(e,t,r){const a=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=KZ(e,Math.max(i,0));a.length===1&&(s=s.filter(l=>l!==r));const u=s.find(l=>l.toLowerCase().startsWith(a.toLowerCase()));return u!==r?u:void 0}function JZ(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const o=t[i],u=t[s],l=o.x,c=o.y,d=u.x,h=u.y;c>n!=h>n&&r<(d-l)*(n-c)/(h-c)+l&&(a=!a)}return a}function QZ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return JZ(r,t)}function pu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var eG=oE,tG=i1,rG=lE,nG=cE,aG=l1,iG=dE,sG=F0,oG=fE,uG=mE,lG=yE,cG=vE,dG=xE,hG=wE,fG=EE,pG=_E,B0="DropdownMenu",[mG]=oZ(B0,[iE]),Pr=iE(),[gG,AE]=mG(B0),CE=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,u=Pr(t),l=E.useRef(null),[c,d]=p_({prop:a,defaultProp:i??!1,onChange:s,caller:B0});return v.jsx(gG,{scope:t,triggerId:Ja(),triggerRef:l,contentId:Ja(),open:c,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(h=>!h),[d]),modal:o,children:v.jsx(eG,{...u,open:c,onOpenChange:d,dir:n,modal:o,children:r})})};CE.displayName=B0;var IE="DropdownMenuTrigger",NE=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=AE(IE,r),s=Pr(r);return v.jsx(tG,{asChild:!0,...s,children:v.jsx(gZ.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Sa(t,i.triggerRef),onPointerDown:Mt(e.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:Mt(e.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});NE.displayName=IE;var yG="DropdownMenuPortal",RE=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Pr(t);return v.jsx(rG,{...n,...r})};RE.displayName=yG;var OE="DropdownMenuContent",ME=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=AE(OE,r),i=Pr(r),s=E.useRef(!1);return v.jsx(nG,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Mt(e.onCloseAutoFocus,o=>{s.current||a.triggerRef.current?.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:Mt(e.onInteractOutside,o=>{const u=o.detail.originalEvent,l=u.button===0&&u.ctrlKey===!0,c=u.button===2||l;(!a.modal||c)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ME.displayName=OE;var bG="DropdownMenuGroup",PE=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return v.jsx(aG,{...a,...n,ref:t})});PE.displayName=bG;var vG="DropdownMenuLabel",DE=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return v.jsx(iG,{...a,...n,ref:t})});DE.displayName=vG;var xG="DropdownMenuItem",LE=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return v.jsx(sG,{...a,...n,ref:t})});LE.displayName=xG;var wG="DropdownMenuCheckboxItem",TG=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return v.jsx(oG,{...a,...n,ref:t})});TG.displayName=wG;var EG="DropdownMenuRadioGroup",kG=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return v.jsx(uG,{...a,...n,ref:t})});kG.displayName=EG;var _G="DropdownMenuRadioItem",SG=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return v.jsx(lG,{...a,...n,ref:t})});SG.displayName=_G;var AG="DropdownMenuItemIndicator",CG=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return v.jsx(cG,{...a,...n,ref:t})});CG.displayName=AG;var IG="DropdownMenuSeparator",FE=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return v.jsx(dG,{...a,...n,ref:t})});FE.displayName=IG;var NG="DropdownMenuArrow",RG=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return v.jsx(hG,{...a,...n,ref:t})});RG.displayName=NG;var OG="DropdownMenuSubTrigger",MG=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return v.jsx(fG,{...a,...n,ref:t})});MG.displayName=OG;var PG="DropdownMenuSubContent",DG=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return v.jsx(pG,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DG.displayName=PG;var LG=CE,FG=NE,BG=RE,jG=ME,$G=PE,zG=DE,UG=LE,HG=FE;function VG({...e}){return v.jsx(LG,{"data-slot":"dropdown-menu",...e})}function qG({...e}){return v.jsx(FG,{"data-slot":"dropdown-menu-trigger",...e})}function WG({className:e,sideOffset:t=4,...r}){return v.jsx(BG,{children:v.jsx(jG,{"data-slot":"dropdown-menu-content",sideOffset:t,className:ht("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-32 origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function jb({...e}){return v.jsx($G,{"data-slot":"dropdown-menu-group",...e})}function ZG({className:e,inset:t,variant:r="default",...n}){return v.jsx(UG,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:ht("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:text-destructive! [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-disabled:pointer-events-none data-disabled:opacity-50 data-inset:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 transition-transform duration-150 ease-in-out active:scale-95",e),...n})}function GG({className:e,inset:t,...r}){return v.jsx(zG,{"data-slot":"dropdown-menu-label","data-inset":t,className:ht("px-2 py-1.5 text-sm font-medium data-inset:pl-8",e),...r})}function $b({className:e,...t}){return v.jsx(HG,{"data-slot":"dropdown-menu-separator",className:ht("bg-border -mx-1 my-1 h-px",e),...t})}const YG=({id:e,user:t,actions:r,menuItems:n})=>{const[a,i]=E.useState(!1),[s,o]=E.useState(null),u={hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:20,stiffness:300,staggerChildren:.05}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15}}},l={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}};return v.jsxs(VG,{open:a,onOpenChange:i,children:[v.jsx(qG,{asChild:!0,children:v.jsxs("div",{id:e,className:"flex items-center gap-2 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[v.jsx(rg,{className:"h-9 w-9",children:v.jsx(ng,{children:t.name.charAt(0)})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-foreground",children:t.name}),v.jsx("p",{className:"text-xs text-muted-foreground",children:t.handle})]})]})}),v.jsx(tf,{children:a&&v.jsx(WG,{asChild:!0,forceMount:!0,className:"w-64 p-2 overflow-visible max-h-none",align:"start",children:v.jsxs(vs.div,{initial:"hidden",animate:"visible",exit:"exit",variants:u,children:[v.jsxs(GG,{className:"flex items-center gap-2 p-2",children:[v.jsx(rg,{className:"h-9 w-9",children:v.jsx(ng,{children:t.name.charAt(0)})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-foreground",children:t.name}),v.jsx("p",{className:"text-xs text-muted-foreground",children:t.handle})]})]}),v.jsx($b,{className:"mx-2"}),v.jsx(jb,{children:v.jsx("div",{className:"grid grid-cols-1 gap-1 p-1",children:r.map(c=>v.jsxs(er,{variant:"ghost",className:"flex flex-row h-12 items-center justify-start gap-3 text-muted-foreground w-full px-3",onClick:c.onClick,children:[v.jsx(c.icon,{className:"h-5 w-5"}),v.jsx("span",{className:"text-sm",children:c.label})]},c.label))})}),v.jsx($b,{className:"mx-2 mb-1"}),v.jsx(jb,{children:n.map(c=>v.jsx(vs.div,{variants:l,children:v.jsxs(ZG,{onMouseEnter:()=>o(c.label),onMouseLeave:()=>o(null),className:ht("flex items-center justify-between p-2 text-sm relative",c.isDestructive&&"text-destructive focus:bg-destructive focus:text-white",c.isDestructive&&s===c.label&&"text-white!"),onClick:c.onClick,children:[s===c.label&&v.jsx(vs.div,{layoutId:"dropdown-hover-bg",className:ht("absolute inset-0 rounded-md -z-10",c.isDestructive?"bg-destructive":"bg-muted"),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15}}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(c.icon,{className:ht("h-4 w-4",c.isDestructive&&s===c.label&&"text-white")}),v.jsx("span",{children:c.label})]}),c.hasArrow&&v.jsx(B_,{className:"h-4 w-4 text-muted-foreground"})]})},c.label))})]})})})]})};function KG({conversations:e,currentConversationId:t,onSelectConversation:r,onNewConversation:n,onDeleteConversation:a,onOpenKnowledgeBase:i}){const{state:s,toggleSidebar:o}=l0(),u=s==="collapsed",[l,c]=E.useState(!1),[d,h]=E.useState(!1),[f,p]=E.useState(!1),[g,T]=E.useState(null),{signOut:y,user:x}=i3(),_=m_(),k=x?.username||x?.email?.split("@")[0]||"",C=x?.email?`@${x.email.split("@")[0]}`:"@user",A=async()=>{h(!1),await y(),_.navigate({to:"/"})},P=F=>{T(F),p(!0)},D=()=>{g&&(a(g),T(null)),p(!1)},$=()=>{T(null),p(!1)};return u?v.jsx("div",{className:"fixed left-0 top-0 z-50 p-2",children:v.jsx(er,{onClick:o,size:"icon",variant:"ghost",children:v.jsx(Q1,{className:"h-4 w-4 rotate-180"})})}):v.jsxs(IS,{collapsible:"icon","data-tutorial":"sidebar",children:[v.jsxs(OS,{className:"flex flex-col gap-2",children:[v.jsx("div",{className:"flex items-center justify-end",children:v.jsx(er,{onClick:o,size:"icon",variant:"ghost",className:"shrink-0",children:v.jsx(Q1,{className:"h-4 w-4"})})}),v.jsxs(er,{onClick:n,className:"w-full justify-start",size:"default",variant:"outline","data-tutorial":"new-conversation",children:[v.jsx(ag,{className:"h-4 w-4"}),v.jsx("span",{className:"ml-2",children:""})]}),v.jsxs(er,{onClick:()=>c(!0),className:"w-full justify-start",size:"default",variant:"outline",children:[v.jsx(G_,{className:"h-4 w-4"}),v.jsx("span",{className:"ml-2",children:""})]}),v.jsxs(er,{onClick:i,className:"w-full justify-start",size:"default",variant:"outline","data-tutorial":"knowledge-base",children:[v.jsx(_p,{className:"h-4 w-4"}),v.jsx("span",{className:"ml-2",children:""})]})]}),v.jsx(PS,{children:v.jsx(DS,{children:v.jsx(LS,{children:v.jsx(sg,{children:e.length===0?v.jsx("div",{className:"flex h-full items-center justify-center px-4 py-8 text-center text-sm text-muted-foreground",children:""}):e.map(F=>v.jsxs(og,{className:"relative group",children:[v.jsxs(BS,{onClick:()=>r(F.id),isActive:t===F.id,children:[v.jsx(ag,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"flex-1 truncate",children:F.title})]}),v.jsx("div",{role:"button",tabIndex:0,onClick:q=>{q.stopPropagation(),P(F.id)},onKeyDown:q=>{(q.key==="Enter"||q.key===" ")&&(q.preventDefault(),q.stopPropagation(),P(F.id))},className:"opacity-0 group-hover:opacity-100 rounded p-1 hover:bg-destructive/10 text-muted-foreground hover:text-destructive transition-opacity absolute right-2 top-1/2 -translate-y-1/2 cursor-pointer","aria-label":"",children:v.jsx(eg,{className:"h-3.5 w-3.5"})})]},F.id))})})})}),v.jsx(MS,{children:v.jsx(sg,{children:v.jsx(og,{children:v.jsx(YG,{user:{name:k,handle:C},actions:[{icon:Y_,label:"",onClick:()=>{window.location.href="/profile"}}],menuItems:[{icon:v_,label:"",onClick:()=>{window.location.href="/settings"}},{icon:eg,label:"",onClick:()=>h(!0),isDestructive:!0}]})})})}),v.jsx(sZ,{open:l,onOpenChange:c,conversations:e,onSelectConversation:r}),v.jsx(Lh,{open:f,onOpenChange:p,children:v.jsxs(jh,{children:[v.jsxs(X1,{children:[v.jsx(Fh,{children:""}),v.jsx(Bh,{children:""})]}),v.jsxs(J1,{children:[v.jsx(er,{variant:"outline",onClick:$,children:""}),v.jsx(er,{variant:"destructive",onClick:D,children:""})]})]})}),v.jsx(Lh,{open:d,onOpenChange:h,children:v.jsxs(jh,{children:[v.jsxs(X1,{children:[v.jsx(Fh,{children:""}),v.jsx(Bh,{children:""})]}),v.jsxs(J1,{children:[v.jsx(er,{variant:"outline",onClick:()=>h(!1),children:""}),v.jsx(er,{variant:"destructive",onClick:A,children:""})]})]})})]})}var BE="vercel.ai.error",XG=Symbol.for(BE),jE,JG=class $E extends Error{constructor({name:t,message:r,cause:n}){super(r),this[jE]=!0,this.name=t,this.cause=n}static isInstance(t){return $E.hasMarker(t,BE)}static hasMarker(t,r){const n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}};jE=XG;var ra=JG,zE="AI_APICallError",UE=`vercel.ai.error.${zE}`,QG=Symbol.for(UE),HE,$r=class extends ra{constructor({message:t,url:r,requestBodyValues:n,statusCode:a,responseHeaders:i,responseBody:s,cause:o,isRetryable:u=a!=null&&(a===408||a===409||a===429||a>=500),data:l}){super({name:zE,message:t,cause:o}),this[HE]=!0,this.url=r,this.requestBodyValues=n,this.statusCode=a,this.responseHeaders=i,this.responseBody=s,this.isRetryable=u,this.data=l}static isInstance(t){return ra.hasMarker(t,UE)}};HE=QG;var VE="AI_EmptyResponseBodyError",qE=`vercel.ai.error.${VE}`,eY=Symbol.for(qE),WE,tY=class extends ra{constructor({message:t="Empty response body"}={}){super({name:VE,message:t}),this[WE]=!0}static isInstance(t){return ra.hasMarker(t,qE)}};WE=eY;function ZE(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var GE="AI_InvalidArgumentError",YE=`vercel.ai.error.${GE}`,rY=Symbol.for(YE),KE,nY=class extends ra{constructor({message:t,cause:r,argument:n}){super({name:GE,message:t,cause:r}),this[KE]=!0,this.argument=n}static isInstance(t){return ra.hasMarker(t,YE)}};KE=rY;var XE="AI_JSONParseError",JE=`vercel.ai.error.${XE}`,aY=Symbol.for(JE),QE,Ic=class extends ra{constructor({text:t,cause:r}){super({name:XE,message:`JSON parsing failed: Text: ${t}.
Error message: ${ZE(r)}`,cause:r}),this[QE]=!0,this.text=t}static isInstance(t){return ra.hasMarker(t,JE)}};QE=aY;var e7="AI_TypeValidationError",t7=`vercel.ai.error.${e7}`,iY=Symbol.for(t7),r7,sY=class Yf extends ra{constructor({value:t,cause:r}){super({name:e7,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${ZE(r)}`,cause:r}),this[r7]=!0,this.value=t}static isInstance(t){return ra.hasMarker(t,t7)}static wrap({value:t,cause:r}){return Yf.isInstance(r)&&r.value===t?r:new Yf({value:t,cause:r})}};r7=iY;var mu=sY;class zb extends Error{constructor(t,r){super(t),this.name="ParseError",this.type=r.type,this.field=r.field,this.value=r.value,this.line=r.line}}function ih(e){}function oY(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=ih,onError:r=ih,onRetry:n=ih,onComment:a}=e;let i="",s=!0,o,u="",l="";function c(g){const T=s?g.replace(/^\xEF\xBB\xBF/,""):g,[y,x]=uY(`${i}${T}`);for(const _ of y)d(_);i=x,s=!1}function d(g){if(g===""){f();return}if(g.startsWith(":")){a&&a(g.slice(g.startsWith(": ")?2:1));return}const T=g.indexOf(":");if(T!==-1){const y=g.slice(0,T),x=g[T+1]===" "?2:1,_=g.slice(T+x);h(y,_,g);return}h(g,"",g)}function h(g,T,y){switch(g){case"event":l=T;break;case"data":u=`${u}${T}
`;break;case"id":o=T.includes("\0")?void 0:T;break;case"retry":/^\d+$/.test(T)?n(parseInt(T,10)):r(new zb(`Invalid \`retry\` value: "${T}"`,{type:"invalid-retry",value:T,line:y}));break;default:r(new zb(`Unknown field "${g.length>20?`${g.slice(0,20)}`:g}"`,{type:"unknown-field",field:g,value:T,line:y}));break}}function f(){u.length>0&&t({id:o,event:l||void 0,data:u.endsWith(`
`)?u.slice(0,-1):u}),o=void 0,u="",l=""}function p(g={}){i&&g.consume&&d(i),s=!0,o=void 0,u="",l="",i=""}return{feed:c,reset:p}}function uY(e){const t=[];let r="",n=0;for(;n<e.length;){const a=e.indexOf("\r",n),i=e.indexOf(`
`,n);let s=-1;if(a!==-1&&i!==-1?s=Math.min(a,i):a!==-1?a===e.length-1?s=-1:s=a:i!==-1&&(s=i),s===-1){r=e.slice(n);break}else{const o=e.slice(n,s);t.push(o),n=s+1,e[n-1]==="\r"&&e[n]===`
`&&n++}}return[t,r]}class lY extends TransformStream{constructor({onError:t,onRetry:r,onComment:n}={}){let a;super({start(i){a=oY({onEvent:s=>{i.enqueue(s)},onError(s){t==="terminate"?i.error(s):typeof t=="function"&&t(s)},onRetry:r,onComment:n})},transform(i){a.feed(i)}})}}function Q(e,t,r){function n(o,u){var l;Object.defineProperty(o,"_zod",{value:o._zod??{},enumerable:!1}),(l=o._zod).traits??(l.traits=new Set),o._zod.traits.add(e),t(o,u);for(const c in s.prototype)c in o||Object.defineProperty(o,c,{value:s.prototype[c].bind(o)});o._zod.constr=s,o._zod.def=u}const a=r?.Parent??Object;class i extends a{}Object.defineProperty(i,"name",{value:e});function s(o){var u;const l=r?.Parent?new i:this;n(l,o),(u=l._zod).deferred??(u.deferred=[]);for(const c of l._zod.deferred)c();return l}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:o=>r?.Parent&&o instanceof r.Parent?!0:o?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}class gu extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const n7={};function si(e){return n7}function a7(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function cY(e,t){return typeof t=="bigint"?t.toString():t}function h1(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function f1(e){return e==null}function p1(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function dY(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),s=Number.parseInt(t.toFixed(a).replace(".",""));return i%s/10**a}function gt(e,t,r){Object.defineProperty(e,t,{get(){{const n=r();return e[t]=n,n}},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function m1(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function xo(e){return JSON.stringify(e)}const i7=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Nc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const hY=h1(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Rc(e){if(Nc(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(Nc(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}const fY=new Set(["string","number","symbol"]);function Ku(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Xi(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function Oe(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function pY(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const mY={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function gY(e,t){const r={},n=e._zod.def;for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(r[a]=n.shape[a])}return Xi(e,{...e._zod.def,shape:r,checks:[]})}function yY(e,t){const r={...e._zod.def.shape},n=e._zod.def;for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete r[a]}return Xi(e,{...e._zod.def,shape:r,checks:[]})}function bY(e,t){if(!Rc(t))throw new Error("Invalid input to extend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return m1(this,"shape",n),n},checks:[]};return Xi(e,r)}function vY(e,t){return Xi(e,{...e._zod.def,get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return m1(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function xY(e,t,r){const n=t._zod.def.shape,a={...n};if(r)for(const i in r){if(!(i in n))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(a[i]=e?new e({type:"optional",innerType:n[i]}):n[i])}else for(const i in n)a[i]=e?new e({type:"optional",innerType:n[i]}):n[i];return Xi(t,{...t._zod.def,shape:a,checks:[]})}function wY(e,t,r){const n=t._zod.def.shape,a={...n};if(r)for(const i in r){if(!(i in a))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(a[i]=new e({type:"nonoptional",innerType:n[i]}))}else for(const i in n)a[i]=new e({type:"nonoptional",innerType:n[i]});return Xi(t,{...t._zod.def,shape:a,checks:[]})}function Qo(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Ci(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Ml(e){return typeof e=="string"?e:e?.message}function oi(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const a=Ml(e.inst?._zod.def?.error?.(e))??Ml(t?.error?.(e))??Ml(r.customError?.(e))??Ml(r.localeError?.(e))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function g1(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function yu(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const s7=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,cY,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},o7=Q("$ZodError",s7),u7=Q("$ZodError",s7,{Parent:Error});function TY(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function EY(e,t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>a({issues:o}));else if(s.code==="invalid_key")a({issues:s.issues});else if(s.code==="invalid_element")a({issues:s.issues});else if(s.path.length===0)n._errors.push(r(s));else{let o=n,u=0;for(;u<s.path.length;){const l=s.path[u];u===s.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(r(s))):o[l]=o[l]||{_errors:[]},o=o[l],u++}}};return a(e),n}const kY=e=>(t,r,n,a)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise)throw new gu;if(s.issues.length){const o=new(a?.Err??e)(s.issues.map(u=>oi(u,i,si())));throw i7(o,a?.callee),o}return s.value},_Y=e=>async(t,r,n,a)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise&&(s=await s),s.issues.length){const o=new(a?.Err??e)(s.issues.map(u=>oi(u,i,si())));throw i7(o,a?.callee),o}return s.value},l7=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},a);if(i instanceof Promise)throw new gu;return i.issues.length?{success:!1,error:new(e??o7)(i.issues.map(s=>oi(s,a,si())))}:{success:!0,data:i.value}},SY=l7(u7),c7=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},a);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(s=>oi(s,a,si())))}:{success:!0,data:i.value}},AY=c7(u7),CY=/^[cC][^\s-]{8,}$/,IY=/^[0-9a-z]+$/,NY=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,RY=/^[0-9a-vA-V]{20}$/,OY=/^[A-Za-z0-9]{27}$/,MY=/^[a-zA-Z0-9_-]{21}$/,PY=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,DY=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ub=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,LY=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,FY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function BY(){return new RegExp(FY,"u")}const jY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$Y=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,zY=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,UY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,HY=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,d7=/^[A-Za-z0-9_-]*$/,VY=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,qY=/^\+(?:[0-9]){6,14}[0-9]$/,h7="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",WY=new RegExp(`^${h7}$`);function f7(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function ZY(e){return new RegExp(`^${f7(e)}$`)}function GY(e){const t=f7({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-]\\d{2}:\\d{2})");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${h7}T(?:${n})$`)}const YY=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},KY=/^\d+$/,XY=/^-?\d+(?:\.\d+)?/i,JY=/true|false/i,QY=/null/i,eK=/^[^A-Z]*$/,tK=/^[^a-z]*$/,qr=Q("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),p7={number:"number",bigint:"bigint",object:"date"},m7=Q("$ZodCheckLessThan",(e,t)=>{qr.init(e,t);const r=p7[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,i=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),g7=Q("$ZodCheckGreaterThan",(e,t)=>{qr.init(e,t);const r=p7[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,i=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),rK=Q("$ZodCheckMultipleOf",(e,t)=>{qr.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):dY(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),nK=Q("$ZodCheckNumberFormat",(e,t)=>{qr.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[a,i]=mY[t.format];e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,o.minimum=a,o.maximum=i,r&&(o.pattern=KY)}),e._zod.check=s=>{const o=s.value;if(r){if(!Number.isInteger(o)){s.issues.push({expected:n,format:t.format,code:"invalid_type",input:o,inst:e});return}if(!Number.isSafeInteger(o)){o>0?s.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):s.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}o<a&&s.issues.push({origin:"number",input:o,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),o>i&&s.issues.push({origin:"number",input:o,code:"too_big",maximum:i,inst:e})}}),aK=Q("$ZodCheckMaxLength",(e,t)=>{var r;qr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!f1(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const s=g1(a);n.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),iK=Q("$ZodCheckMinLength",(e,t)=>{var r;qr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!f1(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const s=g1(a);n.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),sK=Q("$ZodCheckLengthEquals",(e,t)=>{var r;qr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!f1(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,i=a.length;if(i===t.length)return;const s=g1(a),o=i>t.length;n.issues.push({origin:s,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),j0=Q("$ZodCheckStringFormat",(e,t)=>{var r,n;qr.init(e,t),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),oK=Q("$ZodCheckRegex",(e,t)=>{j0.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),uK=Q("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=eK),j0.init(e,t)}),lK=Q("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=tK),j0.init(e,t)}),cK=Q("$ZodCheckIncludes",(e,t)=>{qr.init(e,t);const r=Ku(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),dK=Q("$ZodCheckStartsWith",(e,t)=>{qr.init(e,t);const r=new RegExp(`^${Ku(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),hK=Q("$ZodCheckEndsWith",(e,t)=>{qr.init(e,t);const r=new RegExp(`.*${Ku(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),fK=Q("$ZodCheckOverwrite",(e,t)=>{qr.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class pK{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(s=>s),a=Math.min(...n.map(s=>s.length-s.trimStart().length)),i=n.map(s=>s.slice(a)).map(s=>" ".repeat(this.indent*2)+s);for(const s of i)this.content.push(s)}compile(){const t=Function,r=this?.args,a=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,a.join(`
`))}}const mK={major:4,minor:0,patch:0},St=Q("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=mK;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const a of n)for(const i of a._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(i,s,o)=>{let u=Qo(i),l;for(const c of s){if(c._zod.def.when){if(!c._zod.def.when(i))continue}else if(u)continue;const d=i.issues.length,h=c._zod.check(i);if(h instanceof Promise&&o?.async===!1)throw new gu;if(l||h instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await h,i.issues.length!==d&&(u||(u=Qo(i,d)))});else{if(i.issues.length===d)continue;u||(u=Qo(i,d))}}return l?l.then(()=>i):i};e._zod.run=(i,s)=>{const o=e._zod.parse(i,s);if(o instanceof Promise){if(s.async===!1)throw new gu;return o.then(u=>a(u,n,s))}return a(o,n,s)}}e["~standard"]={validate:a=>{try{const i=SY(e,a);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return AY(e,a).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}}),y1=Q("$ZodString",(e,t)=>{St.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??YY(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),jt=Q("$ZodStringFormat",(e,t)=>{j0.init(e,t),y1.init(e,t)}),gK=Q("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=DY),jt.init(e,t)}),yK=Q("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Ub(n))}else t.pattern??(t.pattern=Ub());jt.init(e,t)}),bK=Q("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=LY),jt.init(e,t)}),vK=Q("$ZodURL",(e,t)=>{jt.init(e,t),e._zod.check=r=>{try{const n=r.value,a=new URL(n),i=a.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:VY.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),!n.endsWith("/")&&i.endsWith("/")?r.value=i.slice(0,-1):r.value=i;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),xK=Q("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=BY()),jt.init(e,t)}),wK=Q("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=MY),jt.init(e,t)}),TK=Q("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=CY),jt.init(e,t)}),EK=Q("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=IY),jt.init(e,t)}),kK=Q("$ZodULID",(e,t)=>{t.pattern??(t.pattern=NY),jt.init(e,t)}),_K=Q("$ZodXID",(e,t)=>{t.pattern??(t.pattern=RY),jt.init(e,t)}),SK=Q("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=OY),jt.init(e,t)}),AK=Q("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=GY(t)),jt.init(e,t)}),CK=Q("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=WY),jt.init(e,t)}),IK=Q("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=ZY(t)),jt.init(e,t)}),NK=Q("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=PY),jt.init(e,t)}),RK=Q("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=jY),jt.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),OK=Q("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=$Y),jt.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),MK=Q("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=zY),jt.init(e,t)}),PK=Q("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=UY),jt.init(e,t),e._zod.check=r=>{const[n,a]=r.value.split("/");try{if(!a)throw new Error;const i=Number(a);if(`${i}`!==a)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function y7(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const DK=Q("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=HY),jt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{y7(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function LK(e){if(!d7.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return y7(r)}const FK=Q("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=d7),jt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{LK(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),BK=Q("$ZodE164",(e,t)=>{t.pattern??(t.pattern=qY),jt.init(e,t)});function jK(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const $K=Q("$ZodJWT",(e,t)=>{jt.init(e,t),e._zod.check=r=>{jK(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),b7=Q("$ZodNumber",(e,t)=>{St.init(e,t),e._zod.pattern=e._zod.bag.pattern??XY,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const i=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...i?{received:i}:{}}),r}}),zK=Q("$ZodNumber",(e,t)=>{nK.init(e,t),b7.init(e,t)}),UK=Q("$ZodBoolean",(e,t)=>{St.init(e,t),e._zod.pattern=JY,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const a=r.value;return typeof a=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),HK=Q("$ZodNull",(e,t)=>{St.init(e,t),e._zod.pattern=QY,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{const a=r.value;return a===null||r.issues.push({expected:"null",code:"invalid_type",input:a,inst:e}),r}}),VK=Q("$ZodAny",(e,t)=>{St.init(e,t),e._zod.parse=r=>r}),qK=Q("$ZodUnknown",(e,t)=>{St.init(e,t),e._zod.parse=r=>r}),WK=Q("$ZodNever",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function Hb(e,t,r){e.issues.length&&t.issues.push(...Ci(r,e.issues)),t.value[r]=e.value}const ZK=Q("$ZodArray",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const i=[];for(let s=0;s<a.length;s++){const o=a[s],u=t.element._zod.run({value:o,issues:[]},n);u instanceof Promise?i.push(u.then(l=>Hb(l,r,s))):Hb(u,r,s)}return i.length?Promise.all(i).then(()=>r):r}});function Pl(e,t,r){e.issues.length&&t.issues.push(...Ci(r,e.issues)),t.value[r]=e.value}function Vb(e,t,r,n){e.issues.length?n[r]===void 0?r in n?t.value[r]=void 0:t.value[r]=e.value:t.issues.push(...Ci(r,e.issues)):e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}const GK=Q("$ZodObject",(e,t)=>{St.init(e,t);const r=h1(()=>{const d=Object.keys(t.shape);for(const f of d)if(!(t.shape[f]instanceof St))throw new Error(`Invalid element at key "${f}": expected a Zod schema`);const h=pY(t.shape);return{shape:t.shape,keys:d,keySet:new Set(d),numKeys:d.length,optionalKeys:new Set(h)}});gt(e._zod,"propValues",()=>{const d=t.shape,h={};for(const f in d){const p=d[f]._zod;if(p.values){h[f]??(h[f]=new Set);for(const g of p.values)h[f].add(g)}}return h});const n=d=>{const h=new pK(["shape","payload","ctx"]),f=r.value,p=x=>{const _=xo(x);return`shape[${_}]._zod.run({ value: input[${_}], issues: [] }, ctx)`};h.write("const input = payload.value;");const g=Object.create(null);let T=0;for(const x of f.keys)g[x]=`key_${T++}`;h.write("const newResult = {}");for(const x of f.keys)if(f.optionalKeys.has(x)){const _=g[x];h.write(`const ${_} = ${p(x)};`);const k=xo(x);h.write(`
        if (${_}.issues.length) {
          if (input[${k}] === undefined) {
            if (${k} in input) {
              newResult[${k}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${_}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${k}, ...iss.path] : [${k}],
              }))
            );
          }
        } else if (${_}.value === undefined) {
          if (${k} in input) newResult[${k}] = undefined;
        } else {
          newResult[${k}] = ${_}.value;
        }
        `)}else{const _=g[x];h.write(`const ${_} = ${p(x)};`),h.write(`
          if (${_}.issues.length) payload.issues = payload.issues.concat(${_}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${xo(x)}, ...iss.path] : [${xo(x)}]
          })));`),h.write(`newResult[${xo(x)}] = ${_}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");const y=h.compile();return(x,_)=>y(d,x,_)};let a;const i=Nc,s=!n7.jitless,u=s&&hY.value,l=t.catchall;let c;e._zod.parse=(d,h)=>{c??(c=r.value);const f=d.value;if(!i(f))return d.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),d;const p=[];if(s&&u&&h?.async===!1&&h.jitless!==!0)a||(a=n(t.shape)),d=a(d,h);else{d.value={};const _=c.shape;for(const k of c.keys){const C=_[k],A=C._zod.run({value:f[k],issues:[]},h),P=C._zod.optin==="optional"&&C._zod.optout==="optional";A instanceof Promise?p.push(A.then(D=>P?Vb(D,d,k,f):Pl(D,d,k))):P?Vb(A,d,k,f):Pl(A,d,k)}}if(!l)return p.length?Promise.all(p).then(()=>d):d;const g=[],T=c.keySet,y=l._zod,x=y.def.type;for(const _ of Object.keys(f)){if(T.has(_))continue;if(x==="never"){g.push(_);continue}const k=y.run({value:f[_],issues:[]},h);k instanceof Promise?p.push(k.then(C=>Pl(C,d,_))):Pl(k,d,_)}return g.length&&d.issues.push({code:"unrecognized_keys",keys:g,input:f,inst:e}),p.length?Promise.all(p).then(()=>d):d}});function qb(e,t,r,n){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(a=>a.issues.map(i=>oi(i,n,si())))}),t}const v7=Q("$ZodUnion",(e,t)=>{St.init(e,t),gt(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),gt(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),gt(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),gt(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(n=>n._zod.pattern);return new RegExp(`^(${r.map(n=>p1(n.source)).join("|")})$`)}}),e._zod.parse=(r,n)=>{let a=!1;const i=[];for(const s of t.options){const o=s._zod.run({value:r.value,issues:[]},n);if(o instanceof Promise)i.push(o),a=!0;else{if(o.issues.length===0)return o;i.push(o)}}return a?Promise.all(i).then(s=>qb(s,r,e,n)):qb(i,r,e,n)}}),YK=Q("$ZodDiscriminatedUnion",(e,t)=>{v7.init(e,t);const r=e._zod.parse;gt(e._zod,"propValues",()=>{const a={};for(const i of t.options){const s=i._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(const[o,u]of Object.entries(s)){a[o]||(a[o]=new Set);for(const l of u)a[o].add(l)}}return a});const n=h1(()=>{const a=t.options,i=new Map;for(const s of a){const o=s._zod.propValues[t.discriminator];if(!o||o.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(const u of o){if(i.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);i.set(u,s)}}return i});e._zod.parse=(a,i)=>{const s=a.value;if(!Nc(s))return a.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),a;const o=n.value.get(s?.[t.discriminator]);return o?o._zod.run(a,i):t.unionFallback?r(a,i):(a.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:s,path:[t.discriminator],inst:e}),a)}}),KK=Q("$ZodIntersection",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,i=t.left._zod.run({value:a,issues:[]},n),s=t.right._zod.run({value:a,issues:[]},n);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([u,l])=>Wb(r,u,l)):Wb(r,i,s)}});function Kf(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Rc(e)&&Rc(t)){const r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),a={...e,...t};for(const i of n){const s=Kf(e[i],t[i]);if(!s.valid)return{valid:!1,mergeErrorPath:[i,...s.mergeErrorPath]};a[i]=s.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],i=t[n],s=Kf(a,i);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Wb(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),Qo(e))return e;const n=Kf(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const XK=Q("$ZodRecord",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Rc(a))return r.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),r;const i=[];if(t.keyType._zod.values){const s=t.keyType._zod.values;r.value={};for(const u of s)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){const l=t.valueType._zod.run({value:a[u],issues:[]},n);l instanceof Promise?i.push(l.then(c=>{c.issues.length&&r.issues.push(...Ci(u,c.issues)),r.value[u]=c.value})):(l.issues.length&&r.issues.push(...Ci(u,l.issues)),r.value[u]=l.value)}let o;for(const u in a)s.has(u)||(o=o??[],o.push(u));o&&o.length>0&&r.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:o})}else{r.value={};for(const s of Reflect.ownKeys(a)){if(s==="__proto__")continue;const o=t.keyType._zod.run({value:s,issues:[]},n);if(o instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(o.issues.length){r.issues.push({origin:"record",code:"invalid_key",issues:o.issues.map(l=>oi(l,n,si())),input:s,path:[s],inst:e}),r.value[o.value]=o.value;continue}const u=t.valueType._zod.run({value:a[s],issues:[]},n);u instanceof Promise?i.push(u.then(l=>{l.issues.length&&r.issues.push(...Ci(s,l.issues)),r.value[o.value]=l.value})):(u.issues.length&&r.issues.push(...Ci(s,u.issues)),r.value[o.value]=u.value)}}return i.length?Promise.all(i).then(()=>r):r}}),JK=Q("$ZodEnum",(e,t)=>{St.init(e,t);const r=a7(t.entries);e._zod.values=new Set(r),e._zod.pattern=new RegExp(`^(${r.filter(n=>fY.has(typeof n)).map(n=>typeof n=="string"?Ku(n):n.toString()).join("|")})$`),e._zod.parse=(n,a)=>{const i=n.value;return e._zod.values.has(i)||n.issues.push({code:"invalid_value",values:r,input:i,inst:e}),n}}),QK=Q("$ZodLiteral",(e,t)=>{St.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Ku(r):r?r.toString():String(r)).join("|")})$`),e._zod.parse=(r,n)=>{const a=r.value;return e._zod.values.has(a)||r.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),r}}),eX=Q("$ZodTransform",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>{const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(s=>(r.value=s,r));if(a instanceof Promise)throw new gu;return r.value=a,r}}),tX=Q("$ZodOptional",(e,t)=>{St.init(e,t),e._zod.optin="optional",e._zod.optout="optional",gt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),gt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${p1(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(r,n):r.value===void 0?r:t.innerType._zod.run(r,n)}),rX=Q("$ZodNullable",(e,t)=>{St.init(e,t),gt(e._zod,"optin",()=>t.innerType._zod.optin),gt(e._zod,"optout",()=>t.innerType._zod.optout),gt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${p1(r.source)}|null)$`):void 0}),gt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),nX=Q("$ZodDefault",(e,t)=>{St.init(e,t),e._zod.optin="optional",gt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>Zb(i,t)):Zb(a,t)}});function Zb(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const aX=Q("$ZodPrefault",(e,t)=>{St.init(e,t),e._zod.optin="optional",gt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),iX=Q("$ZodNonOptional",(e,t)=>{St.init(e,t),gt(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>Gb(i,e)):Gb(a,e)}});function Gb(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const sX=Q("$ZodCatch",(e,t)=>{St.init(e,t),e._zod.optin="optional",gt(e._zod,"optout",()=>t.innerType._zod.optout),gt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(s=>oi(s,n,si()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(i=>oi(i,n,si()))},input:r.value}),r.issues=[]),r)}}),oX=Q("$ZodPipe",(e,t)=>{St.init(e,t),gt(e._zod,"values",()=>t.in._zod.values),gt(e._zod,"optin",()=>t.in._zod.optin),gt(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(r,n)=>{const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(i=>Yb(i,t,n)):Yb(a,t,n)}});function Yb(e,t,r){return Qo(e)?e:t.out._zod.run({value:e.value,issues:e.issues},r)}const uX=Q("$ZodReadonly",(e,t)=>{St.init(e,t),gt(e._zod,"propValues",()=>t.innerType._zod.propValues),gt(e._zod,"values",()=>t.innerType._zod.values),gt(e._zod,"optin",()=>t.innerType._zod.optin),gt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(Kb):Kb(a)}});function Kb(e){return e.value=Object.freeze(e.value),e}const lX=Q("$ZodLazy",(e,t)=>{St.init(e,t),gt(e._zod,"innerType",()=>t.getter()),gt(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),gt(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),gt(e._zod,"optin",()=>e._zod.innerType._zod.optin),gt(e._zod,"optout",()=>e._zod.innerType._zod.optout),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)}),cX=Q("$ZodCustom",(e,t)=>{qr.init(e,t),St.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(i=>Xb(i,r,n,e));Xb(a,r,n,e)}});function Xb(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(yu(a))}}class x7{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};return delete n.id,{...n,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function dX(){return new x7}const Po=dX();function hX(e,t){return new e({type:"string",...Oe(t)})}function fX(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Oe(t)})}function Jb(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Oe(t)})}function pX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Oe(t)})}function mX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Oe(t)})}function gX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Oe(t)})}function yX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Oe(t)})}function bX(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Oe(t)})}function vX(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Oe(t)})}function xX(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Oe(t)})}function wX(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Oe(t)})}function TX(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Oe(t)})}function EX(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Oe(t)})}function kX(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Oe(t)})}function _X(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Oe(t)})}function SX(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Oe(t)})}function AX(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Oe(t)})}function CX(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Oe(t)})}function IX(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Oe(t)})}function NX(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Oe(t)})}function RX(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Oe(t)})}function OX(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Oe(t)})}function MX(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Oe(t)})}function PX(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Oe(t)})}function DX(e,t){return new e({type:"string",format:"date",check:"string_format",...Oe(t)})}function LX(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Oe(t)})}function FX(e,t){return new e({type:"string",format:"duration",check:"string_format",...Oe(t)})}function BX(e,t){return new e({type:"number",checks:[],...Oe(t)})}function jX(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Oe(t)})}function $X(e,t){return new e({type:"boolean",...Oe(t)})}function zX(e,t){return new e({type:"null",...Oe(t)})}function UX(e){return new e({type:"any"})}function HX(e){return new e({type:"unknown"})}function VX(e,t){return new e({type:"never",...Oe(t)})}function Qb(e,t){return new m7({check:"less_than",...Oe(t),value:e,inclusive:!1})}function sh(e,t){return new m7({check:"less_than",...Oe(t),value:e,inclusive:!0})}function ev(e,t){return new g7({check:"greater_than",...Oe(t),value:e,inclusive:!1})}function oh(e,t){return new g7({check:"greater_than",...Oe(t),value:e,inclusive:!0})}function tv(e,t){return new rK({check:"multiple_of",...Oe(t),value:e})}function w7(e,t){return new aK({check:"max_length",...Oe(t),maximum:e})}function Oc(e,t){return new iK({check:"min_length",...Oe(t),minimum:e})}function T7(e,t){return new sK({check:"length_equals",...Oe(t),length:e})}function qX(e,t){return new oK({check:"string_format",format:"regex",...Oe(t),pattern:e})}function WX(e){return new uK({check:"string_format",format:"lowercase",...Oe(e)})}function ZX(e){return new lK({check:"string_format",format:"uppercase",...Oe(e)})}function GX(e,t){return new cK({check:"string_format",format:"includes",...Oe(t),includes:e})}function YX(e,t){return new dK({check:"string_format",format:"starts_with",...Oe(t),prefix:e})}function KX(e,t){return new hK({check:"string_format",format:"ends_with",...Oe(t),suffix:e})}function Xu(e){return new fK({check:"overwrite",tx:e})}function XX(e){return Xu(t=>t.normalize(e))}function JX(){return Xu(e=>e.trim())}function QX(){return Xu(e=>e.toLowerCase())}function eJ(){return Xu(e=>e.toUpperCase())}function tJ(e,t,r){return new e({type:"array",element:t,...Oe(r)})}function rJ(e,t,r){const n=Oe(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function nJ(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Oe(r)})}class rv{constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??Po,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,r={path:[],schemaPath:[]}){var n;const a=t._zod.def,i={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(t);if(s)return s.count++,r.schemaPath.includes(t)&&(s.cycle=r.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(t,o);const u=t._zod.toJSONSchema?.();if(u)o.schema=u;else{const d={...r,schemaPath:[...r.schemaPath,t],path:r.path},h=t._zod.parent;if(h)o.ref=h,this.process(h,d),this.seen.get(h).isParent=!0;else{const f=o.schema;switch(a.type){case"string":{const p=f;p.type="string";const{minimum:g,maximum:T,format:y,patterns:x,contentEncoding:_}=t._zod.bag;if(typeof g=="number"&&(p.minLength=g),typeof T=="number"&&(p.maxLength=T),y&&(p.format=i[y]??y,p.format===""&&delete p.format),_&&(p.contentEncoding=_),x&&x.size>0){const k=[...x];k.length===1?p.pattern=k[0].source:k.length>1&&(o.schema.allOf=[...k.map(C=>({...this.target==="draft-7"?{type:"string"}:{},pattern:C.source}))])}break}case"number":{const p=f,{minimum:g,maximum:T,format:y,multipleOf:x,exclusiveMaximum:_,exclusiveMinimum:k}=t._zod.bag;typeof y=="string"&&y.includes("int")?p.type="integer":p.type="number",typeof k=="number"&&(p.exclusiveMinimum=k),typeof g=="number"&&(p.minimum=g,typeof k=="number"&&(k>=g?delete p.minimum:delete p.exclusiveMinimum)),typeof _=="number"&&(p.exclusiveMaximum=_),typeof T=="number"&&(p.maximum=T,typeof _=="number"&&(_<=T?delete p.maximum:delete p.exclusiveMaximum)),typeof x=="number"&&(p.multipleOf=x);break}case"boolean":{const p=f;p.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{f.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{f.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const p=f,{minimum:g,maximum:T}=t._zod.bag;typeof g=="number"&&(p.minItems=g),typeof T=="number"&&(p.maxItems=T),p.type="array",p.items=this.process(a.element,{...d,path:[...d.path,"items"]});break}case"object":{const p=f;p.type="object",p.properties={};const g=a.shape;for(const x in g)p.properties[x]=this.process(g[x],{...d,path:[...d.path,"properties",x]});const T=new Set(Object.keys(g)),y=new Set([...T].filter(x=>{const _=a.shape[x]._zod;return this.io==="input"?_.optin===void 0:_.optout===void 0}));y.size>0&&(p.required=Array.from(y)),a.catchall?._zod.def.type==="never"?p.additionalProperties=!1:a.catchall?a.catchall&&(p.additionalProperties=this.process(a.catchall,{...d,path:[...d.path,"additionalProperties"]})):this.io==="output"&&(p.additionalProperties=!1);break}case"union":{const p=f;p.anyOf=a.options.map((g,T)=>this.process(g,{...d,path:[...d.path,"anyOf",T]}));break}case"intersection":{const p=f,g=this.process(a.left,{...d,path:[...d.path,"allOf",0]}),T=this.process(a.right,{...d,path:[...d.path,"allOf",1]}),y=_=>"allOf"in _&&Object.keys(_).length===1,x=[...y(g)?g.allOf:[g],...y(T)?T.allOf:[T]];p.allOf=x;break}case"tuple":{const p=f;p.type="array";const g=a.items.map((x,_)=>this.process(x,{...d,path:[...d.path,"prefixItems",_]}));if(this.target==="draft-2020-12"?p.prefixItems=g:p.items=g,a.rest){const x=this.process(a.rest,{...d,path:[...d.path,"items"]});this.target==="draft-2020-12"?p.items=x:p.additionalItems=x}a.rest&&(p.items=this.process(a.rest,{...d,path:[...d.path,"items"]}));const{minimum:T,maximum:y}=t._zod.bag;typeof T=="number"&&(p.minItems=T),typeof y=="number"&&(p.maxItems=y);break}case"record":{const p=f;p.type="object",p.propertyNames=this.process(a.keyType,{...d,path:[...d.path,"propertyNames"]}),p.additionalProperties=this.process(a.valueType,{...d,path:[...d.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const p=f,g=a7(a.entries);g.every(T=>typeof T=="number")&&(p.type="number"),g.every(T=>typeof T=="string")&&(p.type="string"),p.enum=g;break}case"literal":{const p=f,g=[];for(const T of a.values)if(T===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof T=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");g.push(Number(T))}else g.push(T);if(g.length!==0)if(g.length===1){const T=g[0];p.type=T===null?"null":typeof T,p.const=T}else g.every(T=>typeof T=="number")&&(p.type="number"),g.every(T=>typeof T=="string")&&(p.type="string"),g.every(T=>typeof T=="boolean")&&(p.type="string"),g.every(T=>T===null)&&(p.type="null"),p.enum=g;break}case"file":{const p=f,g={type:"string",format:"binary",contentEncoding:"binary"},{minimum:T,maximum:y,mime:x}=t._zod.bag;T!==void 0&&(g.minLength=T),y!==void 0&&(g.maxLength=y),x?x.length===1?(g.contentMediaType=x[0],Object.assign(p,g)):p.anyOf=x.map(_=>({...g,contentMediaType:_})):Object.assign(p,g);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const p=this.process(a.innerType,d);f.anyOf=[p,{type:"null"}];break}case"nonoptional":{this.process(a.innerType,d),o.ref=a.innerType;break}case"success":{const p=f;p.type="boolean";break}case"default":{this.process(a.innerType,d),o.ref=a.innerType,f.default=JSON.parse(JSON.stringify(a.defaultValue));break}case"prefault":{this.process(a.innerType,d),o.ref=a.innerType,this.io==="input"&&(f._prefault=JSON.parse(JSON.stringify(a.defaultValue)));break}case"catch":{this.process(a.innerType,d),o.ref=a.innerType;let p;try{p=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}f.default=p;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const p=f,g=t._zod.pattern;if(!g)throw new Error("Pattern not found in template literal");p.type="string",p.pattern=g.source;break}case"pipe":{const p=this.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;this.process(p,d),o.ref=p;break}case"readonly":{this.process(a.innerType,d),o.ref=a.innerType,f.readOnly=!0;break}case"promise":{this.process(a.innerType,d),o.ref=a.innerType;break}case"optional":{this.process(a.innerType,d),o.ref=a.innerType;break}case"lazy":{const p=t._zod.innerType;this.process(p,d),o.ref=p;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}}const l=this.metadataRegistry.get(t);return l&&Object.assign(o.schema,l),this.io==="input"&&nr(t)&&(delete o.schema.examples,delete o.schema.default),this.io==="input"&&o.schema._prefault&&((n=o.schema).default??(n.default=o.schema._prefault)),delete o.schema._prefault,this.seen.get(t).schema}emit(t,r){const n={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},a=this.seen.get(t);if(!a)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=c=>{const d=this.target==="draft-2020-12"?"$defs":"definitions";if(n.external){const g=n.external.registry.get(c[0])?.id,T=n.external.uri??(x=>x);if(g)return{ref:T(g)};const y=c[1].defId??c[1].schema.id??`schema${this.counter++}`;return c[1].defId=y,{defId:y,ref:`${T("__shared")}#/${d}/${y}`}}if(c[1]===a)return{ref:"#"};const f=`#/${d}/`,p=c[1].schema.id??`__schema${this.counter++}`;return{defId:p,ref:f+p}},s=c=>{if(c[1].schema.$ref)return;const d=c[1],{ref:h,defId:f}=i(c);d.def={...d.schema},f&&(d.defId=f);const p=d.schema;for(const g in p)delete p[g];p.$ref=h};if(n.cycles==="throw")for(const c of this.seen.entries()){const d=c[1];if(d.cycle)throw new Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of this.seen.entries()){const d=c[1];if(t===c[0]){s(c);continue}if(n.external){const f=n.external.registry.get(c[0])?.id;if(t!==c[0]&&f){s(c);continue}}if(this.metadataRegistry.get(c[0])?.id){s(c);continue}if(d.cycle){s(c);continue}if(d.count>1&&n.reused==="ref"){s(c);continue}}const o=(c,d)=>{const h=this.seen.get(c),f=h.def??h.schema,p={...f};if(h.ref===null)return;const g=h.ref;if(h.ref=null,g){o(g,d);const T=this.seen.get(g).schema;T.$ref&&d.target==="draft-7"?(f.allOf=f.allOf??[],f.allOf.push(T)):(Object.assign(f,T),Object.assign(f,p))}h.isParent||this.override({zodSchema:c,jsonSchema:f,path:h.path??[]})};for(const c of[...this.seen.entries()].reverse())o(c[0],{target:this.target});const u={};if(this.target==="draft-2020-12"?u.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?u.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),n.external?.uri){const c=n.external.registry.get(t)?.id;if(!c)throw new Error("Schema is missing an `id` property");u.$id=n.external.uri(c)}Object.assign(u,a.def);const l=n.external?.defs??{};for(const c of this.seen.entries()){const d=c[1];d.def&&d.defId&&(l[d.defId]=d.def)}n.external||Object.keys(l).length>0&&(this.target==="draft-2020-12"?u.$defs=l:u.definitions=l);try{return JSON.parse(JSON.stringify(u))}catch{throw new Error("Error converting schema to JSON.")}}}function E7(e,t){if(e instanceof x7){const n=new rv(t),a={};for(const o of e._idmap.entries()){const[u,l]=o;n.process(l)}const i={},s={registry:e,uri:t?.uri,defs:a};for(const o of e._idmap.entries()){const[u,l]=o;i[u]=n.emit(l,{...t,external:s})}if(Object.keys(a).length>0){const o=n.target==="draft-2020-12"?"$defs":"definitions";i.__shared={[o]:a}}return{schemas:i}}const r=new rv(t);return r.process(e),r.emit(e,t)}function nr(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const a=e._zod.def;switch(a.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return nr(a.element,r);case"object":{for(const i in a.shape)if(nr(a.shape[i],r))return!0;return!1}case"union":{for(const i of a.options)if(nr(i,r))return!0;return!1}case"intersection":return nr(a.left,r)||nr(a.right,r);case"tuple":{for(const i of a.items)if(nr(i,r))return!0;return!!(a.rest&&nr(a.rest,r))}case"record":return nr(a.keyType,r)||nr(a.valueType,r);case"map":return nr(a.keyType,r)||nr(a.valueType,r);case"set":return nr(a.valueType,r);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return nr(a.innerType,r);case"lazy":return nr(a.getter(),r);case"default":return nr(a.innerType,r);case"prefault":return nr(a.innerType,r);case"custom":return!1;case"transform":return!0;case"pipe":return nr(a.in,r)||nr(a.out,r);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${a.type}`)}const aJ=Q("ZodISODateTime",(e,t)=>{AK.init(e,t),Ht.init(e,t)});function iJ(e){return PX(aJ,e)}const sJ=Q("ZodISODate",(e,t)=>{CK.init(e,t),Ht.init(e,t)});function oJ(e){return DX(sJ,e)}const uJ=Q("ZodISOTime",(e,t)=>{IK.init(e,t),Ht.init(e,t)});function lJ(e){return LX(uJ,e)}const cJ=Q("ZodISODuration",(e,t)=>{NK.init(e,t),Ht.init(e,t)});function dJ(e){return FX(cJ,e)}const hJ=(e,t)=>{o7.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>EY(e,r)},flatten:{value:r=>TY(e,r)},addIssue:{value:r=>e.issues.push(r)},addIssues:{value:r=>e.issues.push(...r)},isEmpty:{get(){return e.issues.length===0}}})},$0=Q("ZodError",hJ,{Parent:Error}),fJ=kY($0),pJ=_Y($0),mJ=l7($0),b1=c7($0),Pt=Q("ZodType",(e,t)=>(St.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>Xi(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>fJ(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>mJ(e,r,n),e.parseAsync=async(r,n)=>pJ(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>b1(e,r,n),e.spa=e.safeParseAsync,e.refine=(r,n)=>e.check(fQ(r,n)),e.superRefine=r=>e.check(pQ(r)),e.overwrite=r=>e.check(Xu(r)),e.optional=()=>iv(e),e.nullable=()=>sv(e),e.nullish=()=>iv(sv(e)),e.nonoptional=r=>nQ(e,r),e.array=()=>Jr(e),e.or=r=>Qr([e,r]),e.and=r=>ZJ(e,r),e.transform=r=>ov(e,XJ(r)),e.default=r=>eQ(e,r),e.prefault=r=>rQ(e,r),e.catch=r=>iQ(e,r),e.pipe=r=>ov(e,r),e.readonly=()=>uQ(e),e.describe=r=>{const n=e.clone();return Po.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return Po.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Po.get(e);const n=e.clone();return Po.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),k7=Q("_ZodString",(e,t)=>{y1.init(e,t),Pt.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(qX(...n)),e.includes=(...n)=>e.check(GX(...n)),e.startsWith=(...n)=>e.check(YX(...n)),e.endsWith=(...n)=>e.check(KX(...n)),e.min=(...n)=>e.check(Oc(...n)),e.max=(...n)=>e.check(w7(...n)),e.length=(...n)=>e.check(T7(...n)),e.nonempty=(...n)=>e.check(Oc(1,...n)),e.lowercase=n=>e.check(WX(n)),e.uppercase=n=>e.check(ZX(n)),e.trim=()=>e.check(JX()),e.normalize=(...n)=>e.check(XX(...n)),e.toLowerCase=()=>e.check(QX()),e.toUpperCase=()=>e.check(eJ())}),gJ=Q("ZodString",(e,t)=>{y1.init(e,t),k7.init(e,t),e.email=r=>e.check(fX(yJ,r)),e.url=r=>e.check(bX(bJ,r)),e.jwt=r=>e.check(MX(MJ,r)),e.emoji=r=>e.check(vX(vJ,r)),e.guid=r=>e.check(Jb(nv,r)),e.uuid=r=>e.check(pX(Dl,r)),e.uuidv4=r=>e.check(mX(Dl,r)),e.uuidv6=r=>e.check(gX(Dl,r)),e.uuidv7=r=>e.check(yX(Dl,r)),e.nanoid=r=>e.check(xX(xJ,r)),e.guid=r=>e.check(Jb(nv,r)),e.cuid=r=>e.check(wX(wJ,r)),e.cuid2=r=>e.check(TX(TJ,r)),e.ulid=r=>e.check(EX(EJ,r)),e.base64=r=>e.check(NX(NJ,r)),e.base64url=r=>e.check(RX(RJ,r)),e.xid=r=>e.check(kX(kJ,r)),e.ksuid=r=>e.check(_X(_J,r)),e.ipv4=r=>e.check(SX(SJ,r)),e.ipv6=r=>e.check(AX(AJ,r)),e.cidrv4=r=>e.check(CX(CJ,r)),e.cidrv6=r=>e.check(IX(IJ,r)),e.e164=r=>e.check(OX(OJ,r)),e.datetime=r=>e.check(iJ(r)),e.date=r=>e.check(oJ(r)),e.time=r=>e.check(lJ(r)),e.duration=r=>e.check(dJ(r))});function Ve(e){return hX(gJ,e)}const Ht=Q("ZodStringFormat",(e,t)=>{jt.init(e,t),k7.init(e,t)}),yJ=Q("ZodEmail",(e,t)=>{bK.init(e,t),Ht.init(e,t)}),nv=Q("ZodGUID",(e,t)=>{gK.init(e,t),Ht.init(e,t)}),Dl=Q("ZodUUID",(e,t)=>{yK.init(e,t),Ht.init(e,t)}),bJ=Q("ZodURL",(e,t)=>{vK.init(e,t),Ht.init(e,t)}),vJ=Q("ZodEmoji",(e,t)=>{xK.init(e,t),Ht.init(e,t)}),xJ=Q("ZodNanoID",(e,t)=>{wK.init(e,t),Ht.init(e,t)}),wJ=Q("ZodCUID",(e,t)=>{TK.init(e,t),Ht.init(e,t)}),TJ=Q("ZodCUID2",(e,t)=>{EK.init(e,t),Ht.init(e,t)}),EJ=Q("ZodULID",(e,t)=>{kK.init(e,t),Ht.init(e,t)}),kJ=Q("ZodXID",(e,t)=>{_K.init(e,t),Ht.init(e,t)}),_J=Q("ZodKSUID",(e,t)=>{SK.init(e,t),Ht.init(e,t)}),SJ=Q("ZodIPv4",(e,t)=>{RK.init(e,t),Ht.init(e,t)}),AJ=Q("ZodIPv6",(e,t)=>{OK.init(e,t),Ht.init(e,t)}),CJ=Q("ZodCIDRv4",(e,t)=>{MK.init(e,t),Ht.init(e,t)}),IJ=Q("ZodCIDRv6",(e,t)=>{PK.init(e,t),Ht.init(e,t)}),NJ=Q("ZodBase64",(e,t)=>{DK.init(e,t),Ht.init(e,t)}),RJ=Q("ZodBase64URL",(e,t)=>{FK.init(e,t),Ht.init(e,t)}),OJ=Q("ZodE164",(e,t)=>{BK.init(e,t),Ht.init(e,t)}),MJ=Q("ZodJWT",(e,t)=>{$K.init(e,t),Ht.init(e,t)}),_7=Q("ZodNumber",(e,t)=>{b7.init(e,t),Pt.init(e,t),e.gt=(n,a)=>e.check(ev(n,a)),e.gte=(n,a)=>e.check(oh(n,a)),e.min=(n,a)=>e.check(oh(n,a)),e.lt=(n,a)=>e.check(Qb(n,a)),e.lte=(n,a)=>e.check(sh(n,a)),e.max=(n,a)=>e.check(sh(n,a)),e.int=n=>e.check(av(n)),e.safe=n=>e.check(av(n)),e.positive=n=>e.check(ev(0,n)),e.nonnegative=n=>e.check(oh(0,n)),e.negative=n=>e.check(Qb(0,n)),e.nonpositive=n=>e.check(sh(0,n)),e.multipleOf=(n,a)=>e.check(tv(n,a)),e.step=(n,a)=>e.check(tv(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Mc(e){return BX(_7,e)}const PJ=Q("ZodNumberFormat",(e,t)=>{zK.init(e,t),_7.init(e,t)});function av(e){return jX(PJ,e)}const DJ=Q("ZodBoolean",(e,t)=>{UK.init(e,t),Pt.init(e,t)});function S7(e){return $X(DJ,e)}const LJ=Q("ZodNull",(e,t)=>{HK.init(e,t),Pt.init(e,t)});function FJ(e){return zX(LJ,e)}const BJ=Q("ZodAny",(e,t)=>{VK.init(e,t),Pt.init(e,t)});function Xa(){return UX(BJ)}const jJ=Q("ZodUnknown",(e,t)=>{qK.init(e,t),Pt.init(e,t)});function Fi(){return HX(jJ)}const $J=Q("ZodNever",(e,t)=>{WK.init(e,t),Pt.init(e,t)});function zJ(e){return VX($J,e)}const UJ=Q("ZodArray",(e,t)=>{ZK.init(e,t),Pt.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(Oc(r,n)),e.nonempty=r=>e.check(Oc(1,r)),e.max=(r,n)=>e.check(w7(r,n)),e.length=(r,n)=>e.check(T7(r,n)),e.unwrap=()=>e.element});function Jr(e,t){return tJ(UJ,e,t)}const HJ=Q("ZodObject",(e,t)=>{GK.init(e,t),Pt.init(e,t),gt(e,"shape",()=>t.shape),e.keyof=()=>C7(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Fi()}),e.loose=()=>e.clone({...e._zod.def,catchall:Fi()}),e.strict=()=>e.clone({...e._zod.def,catchall:zJ()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>bY(e,r),e.merge=r=>vY(e,r),e.pick=r=>gY(e,r),e.omit=r=>yY(e,r),e.partial=(...r)=>xY(I7,e,r[0]),e.required=(...r)=>wY(N7,e,r[0])});function mt(e,t){const r={type:"object",get shape(){return m1(this,"shape",{...e}),this.shape},...Oe(t)};return new HJ(r)}const A7=Q("ZodUnion",(e,t)=>{v7.init(e,t),Pt.init(e,t),e.options=t.options});function Qr(e,t){return new A7({type:"union",options:e,...Oe(t)})}const VJ=Q("ZodDiscriminatedUnion",(e,t)=>{A7.init(e,t),YK.init(e,t)});function qJ(e,t,r){return new VJ({type:"union",options:t,discriminator:e,...Oe(r)})}const WJ=Q("ZodIntersection",(e,t)=>{KK.init(e,t),Pt.init(e,t)});function ZJ(e,t){return new WJ({type:"intersection",left:e,right:t})}const GJ=Q("ZodRecord",(e,t)=>{XK.init(e,t),Pt.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Os(e,t,r){return new GJ({type:"record",keyType:e,valueType:t,...Oe(r)})}const Xf=Q("ZodEnum",(e,t)=>{JK.init(e,t),Pt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const i={};for(const s of n)if(r.has(s))i[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Xf({...t,checks:[],...Oe(a),entries:i})},e.exclude=(n,a)=>{const i={...t.entries};for(const s of n)if(r.has(s))delete i[s];else throw new Error(`Key ${s} not found in enum`);return new Xf({...t,checks:[],...Oe(a),entries:i})}});function C7(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Xf({type:"enum",entries:r,...Oe(t)})}const YJ=Q("ZodLiteral",(e,t)=>{QK.init(e,t),Pt.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Gt(e,t){return new YJ({type:"literal",values:Array.isArray(e)?e:[e],...Oe(t)})}const KJ=Q("ZodTransform",(e,t)=>{eX.init(e,t),Pt.init(e,t),e._zod.parse=(r,n)=>{r.addIssue=i=>{if(typeof i=="string")r.issues.push(yu(i,r.value,t));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=e),s.continue??(s.continue=!0),r.issues.push(yu(s))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(i=>(r.value=i,r)):(r.value=a,r)}});function XJ(e){return new KJ({type:"transform",transform:e})}const I7=Q("ZodOptional",(e,t)=>{tX.init(e,t),Pt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function iv(e){return new I7({type:"optional",innerType:e})}const JJ=Q("ZodNullable",(e,t)=>{rX.init(e,t),Pt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sv(e){return new JJ({type:"nullable",innerType:e})}const QJ=Q("ZodDefault",(e,t)=>{nX.init(e,t),Pt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function eQ(e,t){return new QJ({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const tQ=Q("ZodPrefault",(e,t)=>{aX.init(e,t),Pt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rQ(e,t){return new tQ({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const N7=Q("ZodNonOptional",(e,t)=>{iX.init(e,t),Pt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function nQ(e,t){return new N7({type:"nonoptional",innerType:e,...Oe(t)})}const aQ=Q("ZodCatch",(e,t)=>{sX.init(e,t),Pt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function iQ(e,t){return new aQ({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const sQ=Q("ZodPipe",(e,t)=>{oX.init(e,t),Pt.init(e,t),e.in=t.in,e.out=t.out});function ov(e,t){return new sQ({type:"pipe",in:e,out:t})}const oQ=Q("ZodReadonly",(e,t)=>{uX.init(e,t),Pt.init(e,t)});function uQ(e){return new oQ({type:"readonly",innerType:e})}const lQ=Q("ZodLazy",(e,t)=>{lX.init(e,t),Pt.init(e,t),e.unwrap=()=>e._zod.def.getter()});function cQ(e){return new lQ({type:"lazy",getter:e})}const v1=Q("ZodCustom",(e,t)=>{cX.init(e,t),Pt.init(e,t)});function dQ(e){const t=new qr({check:"custom"});return t._zod.check=e,t}function hQ(e,t){return rJ(v1,e??(()=>!0),t)}function fQ(e,t={}){return nJ(v1,e,t)}function pQ(e){const t=dQ(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(yu(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(yu(a))}},e(r.value,r)));return t}function Pc(e,t={error:`Input not instance of ${e.name}`}){const r=new v1({type:"custom",check:"custom",fn:n=>n instanceof e,abort:!0,...Oe(t)});return r._zod.bag.Class=e,r}var ut;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),s={};for(const o of i)s[o]=a[o];return e.objectValues(s)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},e.find=(a,i)=>{for(const s of a)if(i(s))return s},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ut||(ut={}));var uv;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(uv||(uv={}));const Se=ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Za=e=>{switch(typeof e){case"undefined":return Se.undefined;case"string":return Se.string;case"number":return Number.isNaN(e)?Se.nan:Se.number;case"boolean":return Se.boolean;case"function":return Se.function;case"bigint":return Se.bigint;case"symbol":return Se.symbol;case"object":return Array.isArray(e)?Se.array:e===null?Se.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Se.promise:typeof Map<"u"&&e instanceof Map?Se.map:typeof Set<"u"&&e instanceof Set?Se.set:typeof Date<"u"&&e instanceof Date?Se.date:Se.object;default:return Se.unknown}},ce=ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Oa extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,u=0;for(;u<s.path.length;){const l=s.path[u];u===s.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(r(s))):o[l]=o[l]||{_errors:[]},o=o[l],u++}}};return a(this),n}static assert(t){if(!(t instanceof Oa))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Oa.create=e=>new Oa(e);const Jf=(e,t)=>{let r;switch(e.code){case ce.invalid_type:e.received===Se.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ce.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ut.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:r=`Unrecognized key(s) in object: ${ut.joinValues(e.keys,", ")}`;break;case ce.invalid_union:r="Invalid input";break;case ce.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ut.joinValues(e.options)}`;break;case ce.invalid_enum_value:r=`Invalid enum value. Expected ${ut.joinValues(e.options)}, received '${e.received}'`;break;case ce.invalid_arguments:r="Invalid function arguments";break;case ce.invalid_return_type:r="Invalid function return type";break;case ce.invalid_date:r="Invalid date";break;case ce.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ut.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ce.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ce.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ce.custom:r="Invalid input";break;case ce.invalid_intersection_types:r="Intersection results could not be merged";break;case ce.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ce.not_finite:r="Number must be finite";break;default:r=t.defaultError,ut.assertNever(e)}return{message:r}};let mQ=Jf;function gQ(){return mQ}const yQ=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const u=n.filter(l=>!!l).slice().reverse();for(const l of u)o=l(s,{data:t,defaultError:o}).message;return{...a,path:i,message:o}};function we(e,t){const r=gQ(),n=yQ({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Jf?void 0:Jf].filter(a=>!!a)});e.common.issues.push(n)}class Or{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return ze;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,s=await a.value;n.push({key:i,value:s})}return Or.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return ze;i.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(n[i.value]=s.value)}return{status:t.value,value:n}}}const ze=Object.freeze({status:"aborted"}),Do=e=>({status:"dirty",value:e}),vn=e=>({status:"valid",value:e}),lv=e=>e.status==="aborted",cv=e=>e.status==="dirty",Ms=e=>e.status==="valid",Dc=e=>typeof Promise<"u"&&e instanceof Promise;var Ne;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Ne||(Ne={}));class na{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const dv=(e,t)=>{if(Ms(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Oa(e.common.issues);return this._error=r,this._error}}};function Xe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(s,o)=>{const{message:u}=e;return s.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:u??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:u??r??o.defaultError}},description:a}}class nt{get description(){return this._def.description}_getType(t){return Za(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Za(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Or,ctx:{common:t.parent.common,data:t.data,parsedType:Za(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Dc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Za(t)},a=this._parseSync({data:t,path:n.path,parent:n});return dv(n,a)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Za(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:r});return Ms(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>Ms(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Za(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Dc(a)?a:Promise.resolve(a));return dv(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const s=t(a),o=()=>i.addIssue({code:ce.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(u=>u?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new $i({schema:this,typeName:Y.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return _a.create(this,this._def)}nullable(){return zi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ta.create(this)}promise(){return zc.create(this,this._def)}or(t){return Fc.create([this,t],this._def)}and(t){return Bc.create(this,t,this._def)}transform(t){return new $i({...Xe(this._def),schema:this,typeName:Y.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Uc({...Xe(this._def),innerType:this,defaultValue:r,typeName:Y.ZodDefault})}brand(){return new P7({typeName:Y.ZodBranded,type:this,...Xe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Hc({...Xe(this._def),innerType:this,catchValue:r,typeName:Y.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return w1.create(this,t)}readonly(){return Vc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bQ=/^c[^\s-]{8,}$/i,vQ=/^[0-9a-z]+$/,xQ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wQ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TQ=/^[a-z0-9_-]{21}$/i,EQ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kQ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_Q=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,SQ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let uh;const AQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,IQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,NQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,RQ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,OQ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,R7="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",MQ=new RegExp(`^${R7}$`);function O7(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function PQ(e){return new RegExp(`^${O7(e)}$`)}function DQ(e){let t=`${R7}T${O7(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function LQ(e,t){return!!((t==="v4"||!t)&&AQ.test(e)||(t==="v6"||!t)&&IQ.test(e))}function FQ(e,t){if(!EQ.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function BQ(e,t){return!!((t==="v4"||!t)&&CQ.test(e)||(t==="v6"||!t)&&NQ.test(e))}class wa extends nt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Se.string){const i=this._getOrReturnCtx(t);return we(i,{code:ce.invalid_type,expected:Se.string,received:i.parsedType}),ze}const n=new Or;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const s=t.data.length>i.value,o=t.data.length<i.value;(s||o)&&(a=this._getOrReturnCtx(t,a),s?we(a,{code:ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&we(a,{code:ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")_Q.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"email",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")uh||(uh=new RegExp(SQ,"u")),uh.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"emoji",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")wQ.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"uuid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")TQ.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"nanoid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")bQ.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"cuid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")vQ.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"cuid2",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")xQ.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"ulid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),we(a,{validation:"url",code:ce.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"regex",code:ce.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),we(a,{code:ce.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),we(a,{code:ce.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),we(a,{code:ce.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?DQ(i).test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{code:ce.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?MQ.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{code:ce.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?PQ(i).test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{code:ce.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?kQ.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"duration",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?LQ(t.data,i.version)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"ip",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?FQ(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"jwt",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?BQ(t.data,i.version)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"cidr",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?RQ.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"base64",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?OQ.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"base64url",code:ce.invalid_string,message:i.message}),n.dirty()):ut.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ce.invalid_string,...Ne.errToObj(n)})}_addCheck(t){return new wa({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ne.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ne.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ne.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ne.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ne.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ne.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ne.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ne.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ne.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ne.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ne.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ne.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ne.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Ne.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Ne.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Ne.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ne.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Ne.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ne.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ne.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ne.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ne.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ne.errToObj(r)})}nonempty(t){return this.min(1,Ne.errToObj(t))}trim(){return new wa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}wa.create=e=>new wa({checks:[],typeName:Y.ZodString,coerce:e?.coerce??!1,...Xe(e)});function jQ(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),s=Number.parseInt(t.toFixed(a).replace(".",""));return i%s/10**a}class Ps extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Se.number){const i=this._getOrReturnCtx(t);return we(i,{code:ce.invalid_type,expected:Se.number,received:i.parsedType}),ze}let n;const a=new Or;for(const i of this._def.checks)i.kind==="int"?ut.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),we(n,{code:ce.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),we(n,{code:ce.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),we(n,{code:ce.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?jQ(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),we(n,{code:ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),we(n,{code:ce.not_finite,message:i.message}),a.dirty()):ut.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ne.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ne.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ne.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ne.toString(r))}setLimit(t,r,n,a){return new Ps({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ne.toString(a)}]})}_addCheck(t){return new Ps({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ne.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ne.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ne.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ut.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ps.create=e=>new Ps({checks:[],typeName:Y.ZodNumber,coerce:e?.coerce||!1,...Xe(e)});class bu extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Se.bigint)return this._getInvalidInput(t);let n;const a=new Or;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),we(n,{code:ce.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),we(n,{code:ce.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),we(n,{code:ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ut.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return we(r,{code:ce.invalid_type,expected:Se.bigint,received:r.parsedType}),ze}gte(t,r){return this.setLimit("min",t,!0,Ne.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ne.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ne.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ne.toString(r))}setLimit(t,r,n,a){return new bu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ne.toString(a)}]})}_addCheck(t){return new bu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ne.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}bu.create=e=>new bu({checks:[],typeName:Y.ZodBigInt,coerce:e?.coerce??!1,...Xe(e)});class Qf extends nt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Se.boolean){const n=this._getOrReturnCtx(t);return we(n,{code:ce.invalid_type,expected:Se.boolean,received:n.parsedType}),ze}return vn(t.data)}}Qf.create=e=>new Qf({typeName:Y.ZodBoolean,coerce:e?.coerce||!1,...Xe(e)});class Lc extends nt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Se.date){const i=this._getOrReturnCtx(t);return we(i,{code:ce.invalid_type,expected:Se.date,received:i.parsedType}),ze}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return we(i,{code:ce.invalid_date}),ze}const n=new Or;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:ce.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:ce.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ut.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Lc({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ne.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ne.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Lc.create=e=>new Lc({checks:[],coerce:e?.coerce||!1,typeName:Y.ZodDate,...Xe(e)});class hv extends nt{_parse(t){if(this._getType(t)!==Se.symbol){const n=this._getOrReturnCtx(t);return we(n,{code:ce.invalid_type,expected:Se.symbol,received:n.parsedType}),ze}return vn(t.data)}}hv.create=e=>new hv({typeName:Y.ZodSymbol,...Xe(e)});class ep extends nt{_parse(t){if(this._getType(t)!==Se.undefined){const n=this._getOrReturnCtx(t);return we(n,{code:ce.invalid_type,expected:Se.undefined,received:n.parsedType}),ze}return vn(t.data)}}ep.create=e=>new ep({typeName:Y.ZodUndefined,...Xe(e)});class tp extends nt{_parse(t){if(this._getType(t)!==Se.null){const n=this._getOrReturnCtx(t);return we(n,{code:ce.invalid_type,expected:Se.null,received:n.parsedType}),ze}return vn(t.data)}}tp.create=e=>new tp({typeName:Y.ZodNull,...Xe(e)});class rp extends nt{constructor(){super(...arguments),this._any=!0}_parse(t){return vn(t.data)}}rp.create=e=>new rp({typeName:Y.ZodAny,...Xe(e)});class fv extends nt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return vn(t.data)}}fv.create=e=>new fv({typeName:Y.ZodUnknown,...Xe(e)});class ui extends nt{_parse(t){const r=this._getOrReturnCtx(t);return we(r,{code:ce.invalid_type,expected:Se.never,received:r.parsedType}),ze}}ui.create=e=>new ui({typeName:Y.ZodNever,...Xe(e)});class pv extends nt{_parse(t){if(this._getType(t)!==Se.undefined){const n=this._getOrReturnCtx(t);return we(n,{code:ce.invalid_type,expected:Se.void,received:n.parsedType}),ze}return vn(t.data)}}pv.create=e=>new pv({typeName:Y.ZodVoid,...Xe(e)});class ta extends nt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Se.array)return we(r,{code:ce.invalid_type,expected:Se.array,received:r.parsedType}),ze;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(s||o)&&(we(r,{code:s?ce.too_big:ce.too_small,minimum:o?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(we(r,{code:ce.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(we(r,{code:ce.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>a.type._parseAsync(new na(r,s,r.path,o)))).then(s=>Or.mergeArray(n,s));const i=[...r.data].map((s,o)=>a.type._parseSync(new na(r,s,r.path,o)));return Or.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ta({...this._def,minLength:{value:t,message:Ne.toString(r)}})}max(t,r){return new ta({...this._def,maxLength:{value:t,message:Ne.toString(r)}})}length(t,r){return new ta({...this._def,exactLength:{value:t,message:Ne.toString(r)}})}nonempty(t){return this.min(1,t)}}ta.create=(e,t)=>new ta({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Y.ZodArray,...Xe(t)});function ls(e){if(e instanceof Qt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=_a.create(ls(n))}return new Qt({...e._def,shape:()=>t})}else return e instanceof ta?new ta({...e._def,type:ls(e.element)}):e instanceof _a?_a.create(ls(e.unwrap())):e instanceof zi?zi.create(ls(e.unwrap())):e instanceof Bi?Bi.create(e.items.map(t=>ls(t))):e}class Qt extends nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ut.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Se.object){const l=this._getOrReturnCtx(t);return we(l,{code:ce.invalid_type,expected:Se.object,received:l.parsedType}),ze}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof ui&&this._def.unknownKeys==="strip"))for(const l in a.data)s.includes(l)||o.push(l);const u=[];for(const l of s){const c=i[l],d=a.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new na(a,d,a.path,l)),alwaysSet:l in a.data})}if(this._def.catchall instanceof ui){const l=this._def.unknownKeys;if(l==="passthrough")for(const c of o)u.push({key:{status:"valid",value:c},value:{status:"valid",value:a.data[c]}});else if(l==="strict")o.length>0&&(we(a,{code:ce.unrecognized_keys,keys:o}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const c of o){const d=a.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new na(a,d,a.path,c)),alwaysSet:c in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const l=[];for(const c of u){const d=await c.key,h=await c.value;l.push({key:d,value:h,alwaysSet:c.alwaysSet})}return l}).then(l=>Or.mergeObjectSync(n,l)):Or.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(t){return Ne.errToObj,new Qt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{const a=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Ne.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Qt({...this._def,unknownKeys:"strip"})}passthrough(){return new Qt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Qt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Qt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Y.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Qt({...this._def,catchall:t})}pick(t){const r={};for(const n of ut.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Qt({...this._def,shape:()=>r})}omit(t){const r={};for(const n of ut.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Qt({...this._def,shape:()=>r})}deepPartial(){return ls(this)}partial(t){const r={};for(const n of ut.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Qt({...this._def,shape:()=>r})}required(t){const r={};for(const n of ut.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof _a;)i=i._def.innerType;r[n]=i}return new Qt({...this._def,shape:()=>r})}keyof(){return M7(ut.objectKeys(this.shape))}}Qt.create=(e,t)=>new Qt({shape:()=>e,unknownKeys:"strip",catchall:ui.create(),typeName:Y.ZodObject,...Xe(t)});Qt.strictCreate=(e,t)=>new Qt({shape:()=>e,unknownKeys:"strict",catchall:ui.create(),typeName:Y.ZodObject,...Xe(t)});Qt.lazycreate=(e,t)=>new Qt({shape:e,unknownKeys:"strip",catchall:ui.create(),typeName:Y.ZodObject,...Xe(t)});class Fc extends nt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=i.map(o=>new Oa(o.ctx.common.issues));return we(r,{code:ce.invalid_union,unionErrors:s}),ze}if(r.common.async)return Promise.all(n.map(async i=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const u of n){const l={...r,common:{...r.common,issues:[]},parent:null},c=u._parseSync({data:r.data,path:r.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:l}),l.common.issues.length&&s.push(l.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=s.map(u=>new Oa(u));return we(r,{code:ce.invalid_union,unionErrors:o}),ze}}get options(){return this._def.options}}Fc.create=(e,t)=>new Fc({options:e,typeName:Y.ZodUnion,...Xe(t)});const ga=e=>e instanceof ap?ga(e.schema):e instanceof $i?ga(e.innerType()):e instanceof $c?[e.value]:e instanceof ji?e.options:e instanceof ip?ut.objectValues(e.enum):e instanceof Uc?ga(e._def.innerType):e instanceof ep?[void 0]:e instanceof tp?[null]:e instanceof _a?[void 0,...ga(e.unwrap())]:e instanceof zi?[null,...ga(e.unwrap())]:e instanceof P7||e instanceof Vc?ga(e.unwrap()):e instanceof Hc?ga(e._def.innerType):[];class x1 extends nt{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Se.object)return we(r,{code:ce.invalid_type,expected:Se.object,received:r.parsedType}),ze;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(we(r,{code:ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ze)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const s=ga(i.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of s){if(a.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);a.set(o,i)}}return new x1({typeName:Y.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Xe(n)})}}function np(e,t){const r=Za(e),n=Za(t);if(e===t)return{valid:!0,data:e};if(r===Se.object&&n===Se.object){const a=ut.objectKeys(t),i=ut.objectKeys(e).filter(o=>a.indexOf(o)!==-1),s={...e,...t};for(const o of i){const u=np(e[o],t[o]);if(!u.valid)return{valid:!1};s[o]=u.data}return{valid:!0,data:s}}else if(r===Se.array&&n===Se.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const s=e[i],o=t[i],u=np(s,o);if(!u.valid)return{valid:!1};a.push(u.data)}return{valid:!0,data:a}}else return r===Se.date&&n===Se.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Bc extends nt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,s)=>{if(lv(i)||lv(s))return ze;const o=np(i.value,s.value);return o.valid?((cv(i)||cv(s))&&r.dirty(),{status:r.value,value:o.data}):(we(n,{code:ce.invalid_intersection_types}),ze)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Bc.create=(e,t,r)=>new Bc({left:e,right:t,typeName:Y.ZodIntersection,...Xe(r)});class Bi extends nt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Se.array)return we(n,{code:ce.invalid_type,expected:Se.array,received:n.parsedType}),ze;if(n.data.length<this._def.items.length)return we(n,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ze;!this._def.rest&&n.data.length>this._def.items.length&&(we(n,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new na(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>Or.mergeArray(r,s)):Or.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Bi({...this._def,rest:t})}}Bi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bi({items:e,typeName:Y.ZodTuple,rest:null,...Xe(t)})};class jc extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Se.object)return we(n,{code:ce.invalid_type,expected:Se.object,received:n.parsedType}),ze;const a=[],i=this._def.keyType,s=this._def.valueType;for(const o in n.data)a.push({key:i._parse(new na(n,o,n.path,o)),value:s._parse(new na(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Or.mergeObjectAsync(r,a):Or.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof nt?new jc({keyType:t,valueType:r,typeName:Y.ZodRecord,...Xe(n)}):new jc({keyType:wa.create(),valueType:t,typeName:Y.ZodRecord,...Xe(r)})}}class mv extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Se.map)return we(n,{code:ce.invalid_type,expected:Se.map,received:n.parsedType}),ze;const a=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([o,u],l)=>({key:a._parse(new na(n,o,n.path,[l,"key"])),value:i._parse(new na(n,u,n.path,[l,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of s){const l=await u.key,c=await u.value;if(l.status==="aborted"||c.status==="aborted")return ze;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(l.value,c.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const u of s){const l=u.key,c=u.value;if(l.status==="aborted"||c.status==="aborted")return ze;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(l.value,c.value)}return{status:r.value,value:o}}}}mv.create=(e,t,r)=>new mv({valueType:t,keyType:e,typeName:Y.ZodMap,...Xe(r)});class vu extends nt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Se.set)return we(n,{code:ce.invalid_type,expected:Se.set,received:n.parsedType}),ze;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(we(n,{code:ce.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(we(n,{code:ce.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function s(u){const l=new Set;for(const c of u){if(c.status==="aborted")return ze;c.status==="dirty"&&r.dirty(),l.add(c.value)}return{status:r.value,value:l}}const o=[...n.data.values()].map((u,l)=>i._parse(new na(n,u,n.path,l)));return n.common.async?Promise.all(o).then(u=>s(u)):s(o)}min(t,r){return new vu({...this._def,minSize:{value:t,message:Ne.toString(r)}})}max(t,r){return new vu({...this._def,maxSize:{value:t,message:Ne.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}vu.create=(e,t)=>new vu({valueType:e,minSize:null,maxSize:null,typeName:Y.ZodSet,...Xe(t)});class ap extends nt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ap.create=(e,t)=>new ap({getter:e,typeName:Y.ZodLazy,...Xe(t)});class $c extends nt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return we(r,{received:r.data,code:ce.invalid_literal,expected:this._def.value}),ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}$c.create=(e,t)=>new $c({value:e,typeName:Y.ZodLiteral,...Xe(t)});function M7(e,t){return new ji({values:e,typeName:Y.ZodEnum,...Xe(t)})}class ji extends nt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return we(r,{expected:ut.joinValues(n),received:r.parsedType,code:ce.invalid_type}),ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return we(r,{received:r.data,code:ce.invalid_enum_value,options:n}),ze}return vn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ji.create(t,{...this._def,...r})}exclude(t,r=this._def){return ji.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ji.create=M7;class ip extends nt{_parse(t){const r=ut.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Se.string&&n.parsedType!==Se.number){const a=ut.objectValues(r);return we(n,{expected:ut.joinValues(a),received:n.parsedType,code:ce.invalid_type}),ze}if(this._cache||(this._cache=new Set(ut.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=ut.objectValues(r);return we(n,{received:n.data,code:ce.invalid_enum_value,options:a}),ze}return vn(t.data)}get enum(){return this._def.values}}ip.create=(e,t)=>new ip({values:e,typeName:Y.ZodNativeEnum,...Xe(t)});class zc extends nt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Se.promise&&r.common.async===!1)return we(r,{code:ce.invalid_type,expected:Se.promise,received:r.parsedType}),ze;const n=r.parsedType===Se.promise?r.data:Promise.resolve(r.data);return vn(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}zc.create=(e,t)=>new zc({type:e,typeName:Y.ZodPromise,...Xe(t)});class $i extends nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:s=>{we(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return ze;const u=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return u.status==="aborted"?ze:u.status==="dirty"||r.value==="dirty"?Do(u.value):u});{if(r.value==="aborted")return ze;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?ze:o.status==="dirty"||r.value==="dirty"?Do(o.value):o}}if(a.type==="refinement"){const s=o=>{const u=a.refinement(o,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ze:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?ze:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ms(s))return ze;const o=a.transform(s.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Ms(s)?Promise.resolve(a.transform(s.value,i)).then(o=>({status:r.value,value:o})):ze);ut.assertNever(a)}}$i.create=(e,t,r)=>new $i({schema:e,typeName:Y.ZodEffects,effect:t,...Xe(r)});$i.createWithPreprocess=(e,t,r)=>new $i({schema:t,effect:{type:"preprocess",transform:e},typeName:Y.ZodEffects,...Xe(r)});class _a extends nt{_parse(t){return this._getType(t)===Se.undefined?vn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_a.create=(e,t)=>new _a({innerType:e,typeName:Y.ZodOptional,...Xe(t)});class zi extends nt{_parse(t){return this._getType(t)===Se.null?vn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}zi.create=(e,t)=>new zi({innerType:e,typeName:Y.ZodNullable,...Xe(t)});class Uc extends nt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Se.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Uc.create=(e,t)=>new Uc({innerType:e,typeName:Y.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Xe(t)});class Hc extends nt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Dc(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Oa(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Oa(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Hc.create=(e,t)=>new Hc({innerType:e,typeName:Y.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Xe(t)});class gv extends nt{_parse(t){if(this._getType(t)!==Se.nan){const n=this._getOrReturnCtx(t);return we(n,{code:ce.invalid_type,expected:Se.nan,received:n.parsedType}),ze}return{status:"valid",value:t.data}}}gv.create=e=>new gv({typeName:Y.ZodNaN,...Xe(e)});class P7 extends nt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class w1 extends nt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ze:i.status==="dirty"?(r.dirty(),Do(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ze:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new w1({in:t,out:r,typeName:Y.ZodPipeline})}}class Vc extends nt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Ms(a)&&(a.value=Object.freeze(a.value)),a);return Dc(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Vc.create=(e,t)=>new Vc({innerType:e,typeName:Y.ZodReadonly,...Xe(t)});var Y;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Y||(Y={}));const he=wa.create,$e=Ps.create,lh=Qf.create,D7=rp.create;ui.create;const Nt=ta.create,ve=Qt.create,z0=Fc.create,T1=x1.create;Bc.create;Bi.create;const L7=jc.create,It=$c.create,E1=ji.create;zc.create;_a.create;zi.create;var $Q={};function qc(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}function Ju(e){return Object.fromEntries([...e.headers])}var zQ=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{const a=()=>{const i=r.length,s=new Array(t);for(let o=0;o<t;o++)s[o]=r[Math.random()*i|0];return s.join("")};if(e==null)return a;if(r.includes(n))throw new nY({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${a()}`};zQ();function xu(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}var UQ=["fetch failed","failed to fetch"];function F7({error:e,url:t,requestBodyValues:r}){if(xu(e))return e;if(e instanceof TypeError&&UQ.includes(e.message.toLowerCase())){const n=e.cause;if(n!=null)return new $r({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return e}function B7(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function HQ(e){if(e==null)return{};const t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(const[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}function k1(e,...t){const r=new Headers(HQ(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}var j7="3.0.19",VQ=()=>globalThis.fetch,yv=async({url:e,headers:t={},successfulResponseHandler:r,failedResponseHandler:n,abortSignal:a,fetch:i=VQ()})=>{try{const s=await i(e,{method:"GET",headers:k1(t,`ai-sdk/provider-utils/${j7}`,B7()),signal:a}),o=Ju(s);if(!s.ok){let u;try{u=await n({response:s,url:e,requestBodyValues:{}})}catch(l){throw xu(l)||$r.isInstance(l)?l:new $r({message:"Failed to process error response",cause:l,statusCode:s.status,url:e,responseHeaders:o,requestBodyValues:{}})}throw u.value}try{return await r({response:s,url:e,requestBodyValues:{}})}catch(u){throw u instanceof Error&&(xu(u)||$r.isInstance(u))?u:new $r({message:"Failed to process successful response",cause:u,statusCode:s.status,url:e,responseHeaders:o,requestBodyValues:{}})}}catch(s){throw F7({error:s,url:e,requestBodyValues:{}})}};function Xl({settingValue:e,environmentVariableName:t}){if(typeof e=="string")return e;if(!(e!=null||typeof process>"u")&&(e=$Q[t],!(e==null||typeof e!="string")))return e}var qQ=/"__proto__"\s*:/,WQ=/"constructor"\s*:/;function bv(e){const t=JSON.parse(e);return t===null||typeof t!="object"||qQ.test(e)===!1&&WQ.test(e)===!1?t:ZQ(t)}function ZQ(e){let t=[e];for(;t.length;){const r=t;t=[];for(const n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const a in n){const i=n[a];i&&typeof i=="object"&&t.push(i)}}}return e}function $7(e){const{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return bv(e)}try{return bv(e)}finally{Error.stackTraceLimit=t}}var Wc=Symbol.for("vercel.ai.validator");function GQ(e){return{[Wc]:!0,validate:e}}function YQ(e){return typeof e=="object"&&e!==null&&Wc in e&&e[Wc]===!0&&"validate"in e}function eo(e){let t;return()=>(t==null&&(t=e()),t)}function KQ(e){return YQ(e)?e:typeof e=="function"?e():XQ(e)}function XQ(e){return GQ(async t=>{const r=await e["~standard"].validate(t);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new mu({value:t,cause:r.issues})}})}async function JQ({value:e,schema:t}){const r=await wu({value:e,schema:t});if(!r.success)throw mu.wrap({value:e,cause:r.error});return r.value}async function wu({value:e,schema:t}){const r=KQ(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};const n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:mu.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:mu.wrap({value:e,cause:n}),rawValue:e}}}async function QQ({text:e,schema:t}){try{const r=$7(e);return t==null?r:JQ({value:r,schema:t})}catch(r){throw Ic.isInstance(r)||mu.isInstance(r)?r:new Ic({text:e,cause:r})}}async function z7({text:e,schema:t}){try{const r=$7(e);return t==null?{success:!0,value:r,rawValue:r}:await wu({value:r,schema:t})}catch(r){return{success:!1,error:Ic.isInstance(r)?r:new Ic({text:e,cause:r}),rawValue:void 0}}}function eee({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new lY).pipeThrough(new TransformStream({async transform({data:r},n){r!=="[DONE]"&&n.enqueue(await z7({text:r,schema:t}))}}))}var tee=()=>globalThis.fetch,Zc=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:s})=>ree({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:s}),ree=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:i,fetch:s=tee()})=>{try{const o=await s(e,{method:"POST",headers:k1(t,`ai-sdk/provider-utils/${j7}`,B7()),body:r.content,signal:i}),u=Ju(o);if(!o.ok){let l;try{l=await a({response:o,url:e,requestBodyValues:r.values})}catch(c){throw xu(c)||$r.isInstance(c)?c:new $r({message:"Failed to process error response",cause:c,statusCode:o.status,url:e,responseHeaders:u,requestBodyValues:r.values})}throw l.value}try{return await n({response:o,url:e,requestBodyValues:r.values})}catch(l){throw l instanceof Error&&(xu(l)||$r.isInstance(l))?l:new $r({message:"Failed to process successful response",cause:l,statusCode:o.status,url:e,responseHeaders:u,requestBodyValues:r.values})}}catch(o){throw F7({error:o,url:e,requestBodyValues:r.values})}};async function Kn(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var Ds=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:i})=>{const s=await n.text(),o=Ju(n);if(s.trim()==="")return{responseHeaders:o,value:new $r({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:o,responseBody:s,isRetryable:r?.(n)})};try{const u=await QQ({text:s,schema:e});return{responseHeaders:o,value:new $r({message:t(u),url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:o,responseBody:s,data:u,isRetryable:r?.(n,u)})}}catch{return{responseHeaders:o,value:new $r({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:o,responseBody:s,isRetryable:r?.(n)})}}},nee=e=>async({response:t})=>{const r=Ju(t);if(t.body==null)throw new tY({});return{responseHeaders:r,value:eee({stream:t.body,schema:e})}},Tu=e=>async({response:t,url:r,requestBodyValues:n})=>{const a=await t.text(),i=await z7({text:a,schema:e}),s=Ju(t);if(!i.success)throw new $r({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:s,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:s,value:i.value,rawValue:i.rawValue}};function Jl(e){if(e.type==="object"){e.additionalProperties=!1;const t=e.properties;if(t!=null)for(const r in t)t[r]=Jl(t[r])}return e.type==="array"&&e.items!=null&&(Array.isArray(e.items)?e.items=e.items.map(t=>Jl(t)):e.items=Jl(e.items)),e}var aee=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},iee=Symbol("Let zodToJsonSchema decide on which parser to use"),vv={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},see=e=>typeof e=="string"?{...vv,name:e}:{...vv,...e};function en(){return{}}function oee(e,t){var r,n,a;const i={type:"array"};return(r=e.type)!=null&&r._def&&((a=(n=e.type)==null?void 0:n._def)==null?void 0:a.typeName)!==Y.ZodAny&&(i.items=yt(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(i.minItems=e.minLength.value),e.maxLength&&(i.maxItems=e.maxLength.value),e.exactLength&&(i.minItems=e.exactLength.value,i.maxItems=e.exactLength.value),i}function uee(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}function lee(){return{type:"boolean"}}function U7(e,t){return yt(e.type._def,t)}var cee=(e,t)=>yt(e.innerType._def,t);function H7(e,t,r){const n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((a,i)=>H7(e,t,a))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return dee(e)}}var dee=e=>{const t={type:"integer",format:"unix-time"};for(const r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t};function hee(e,t){return{...yt(e.innerType._def,t),default:e.defaultValue()}}function fee(e,t){return t.effectStrategy==="input"?yt(e.schema._def,t):en()}function pee(e){return{type:"string",enum:Array.from(e.values)}}var mee=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function gee(e,t){const r=[yt(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),yt(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),n=[];return r.forEach(a=>{if(mee(a))n.push(...a.allOf);else{let i=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:s,...o}=a;i=o}n.push(i)}}),n.length?{allOf:n}:void 0}function yee(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var ch=void 0,En={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(ch===void 0&&(ch=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ch),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function V7(e,t){const r={type:"string"};if(e.checks)for(const n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":kn(r,"email",n.message,t);break;case"format:idn-email":kn(r,"idn-email",n.message,t);break;case"pattern:zod":_r(r,En.email,n.message,t);break}break;case"url":kn(r,"uri",n.message,t);break;case"uuid":kn(r,"uuid",n.message,t);break;case"regex":_r(r,n.regex,n.message,t);break;case"cuid":_r(r,En.cuid,n.message,t);break;case"cuid2":_r(r,En.cuid2,n.message,t);break;case"startsWith":_r(r,RegExp(`^${dh(n.value,t)}`),n.message,t);break;case"endsWith":_r(r,RegExp(`${dh(n.value,t)}$`),n.message,t);break;case"datetime":kn(r,"date-time",n.message,t);break;case"date":kn(r,"date",n.message,t);break;case"time":kn(r,"time",n.message,t);break;case"duration":kn(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{_r(r,RegExp(dh(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&kn(r,"ipv4",n.message,t),n.version!=="v4"&&kn(r,"ipv6",n.message,t);break}case"base64url":_r(r,En.base64url,n.message,t);break;case"jwt":_r(r,En.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&_r(r,En.ipv4Cidr,n.message,t),n.version!=="v4"&&_r(r,En.ipv6Cidr,n.message,t);break}case"emoji":_r(r,En.emoji(),n.message,t);break;case"ulid":{_r(r,En.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{kn(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{_r(r,En.base64,n.message,t);break}}break}case"nanoid":_r(r,En.nanoid,n.message,t)}return r}function dh(e,t){return t.patternStrategy==="escape"?vee(e):e}var bee=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function vee(e){let t="";for(let r=0;r<e.length;r++)bee.has(e[r])||(t+="\\"),t+=e[r];return t}function kn(e,t,r,n){var a;e.format||(a=e.anyOf)!=null&&a.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}function _r(e,t,r,n){var a;e.pattern||(a=e.allOf)!=null&&a.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:xv(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=xv(t,n)}function xv(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=n.i?e.source.toLowerCase():e.source;let i="",s=!1,o=!1,u=!1;for(let l=0;l<a.length;l++){if(s){i+=a[l],s=!1;continue}if(n.i){if(o){if(a[l].match(/[a-z]/)){u?(i+=a[l],i+=`${a[l-2]}-${a[l]}`.toUpperCase(),u=!1):a[l+1]==="-"&&((r=a[l+2])!=null&&r.match(/[a-z]/))?(i+=a[l],u=!0):i+=`${a[l]}${a[l].toUpperCase()}`;continue}}else if(a[l].match(/[a-z]/)){i+=`[${a[l]}${a[l].toUpperCase()}]`;continue}}if(n.m){if(a[l]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(a[l]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&a[l]==="."){i+=o?`${a[l]}\r
`:`[${a[l]}\r
]`;continue}i+=a[l],a[l]==="\\"?s=!0:o&&a[l]==="]"?o=!1:!o&&a[l]==="["&&(o=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}function q7(e,t){var r,n,a,i,s,o;const u={type:"object",additionalProperties:(r=yt(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===Y.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){const{type:l,...c}=V7(e.keyType._def,t);return{...u,propertyNames:c}}else{if(((i=e.keyType)==null?void 0:i._def.typeName)===Y.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===Y.ZodBranded&&e.keyType._def.type._def.typeName===Y.ZodString&&((o=e.keyType._def.type._def.checks)!=null&&o.length)){const{type:l,...c}=U7(e.keyType._def,t);return{...u,propertyNames:c}}}return u}function xee(e,t){if(t.mapStrategy==="record")return q7(e,t);const r=yt(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||en(),n=yt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||en();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function wee(e){const t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),a=Array.from(new Set(n.map(i=>typeof i)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:n}}function Tee(){return{not:en()}}function Eee(){return{type:"null"}}var sp={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function kee(e,t){const r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in sp&&(!n._def.checks||!n._def.checks.length))){const n=r.reduce((a,i)=>{const s=sp[i._def.typeName];return s&&!a.includes(s)?[...a,s]:a},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){const n=r.reduce((a,i)=>{const s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...a,s];case"bigint":return[...a,"integer"];case"object":if(i._def.value===null)return[...a,"null"];default:return a}},[]);if(n.length===r.length){const a=n.filter((i,s,o)=>o.indexOf(i)===s);return{type:a.length>1?a:a[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,a)=>[...n,...a._def.values.filter(i=>!n.includes(i))],[])};return _ee(e,t)}var _ee=(e,t)=>{const r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,a)=>yt(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${a}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function See(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[sp[e.innerType._def.typeName],"null"]};const r=yt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function Aee(e){const t={type:"number"};if(!e.checks)return t;for(const r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}function Cee(e,t){const r={type:"object",properties:{}},n=[],a=e.shape();for(const s in a){let o=a[s];if(o===void 0||o._def===void 0)continue;const u=Nee(o),l=yt(o._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});l!==void 0&&(r.properties[s]=l,u||n.push(s))}n.length&&(r.required=n);const i=Iee(e,t);return i!==void 0&&(r.additionalProperties=i),r}function Iee(e,t){if(e.catchall._def.typeName!=="ZodNever")return yt(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function Nee(e){try{return e.isOptional()}catch{return!0}}var Ree=(e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return yt(e.innerType._def,t);const n=yt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:en()},n]}:en()},Oee=(e,t)=>{if(t.pipeStrategy==="input")return yt(e.in._def,t);if(t.pipeStrategy==="output")return yt(e.out._def,t);const r=yt(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=yt(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(a=>a!==void 0)}};function Mee(e,t){return yt(e.type._def,t)}function Pee(e,t){const n={type:"array",uniqueItems:!0,items:yt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}function Dee(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>yt(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:yt(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>yt(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function Lee(){return{not:en()}}function Fee(){return en()}var Bee=(e,t)=>yt(e.innerType._def,t),jee=(e,t,r)=>{switch(t){case Y.ZodString:return V7(e,r);case Y.ZodNumber:return Aee(e);case Y.ZodObject:return Cee(e,r);case Y.ZodBigInt:return uee(e);case Y.ZodBoolean:return lee();case Y.ZodDate:return H7(e,r);case Y.ZodUndefined:return Lee();case Y.ZodNull:return Eee();case Y.ZodArray:return oee(e,r);case Y.ZodUnion:case Y.ZodDiscriminatedUnion:return kee(e,r);case Y.ZodIntersection:return gee(e,r);case Y.ZodTuple:return Dee(e,r);case Y.ZodRecord:return q7(e,r);case Y.ZodLiteral:return yee(e);case Y.ZodEnum:return pee(e);case Y.ZodNativeEnum:return wee(e);case Y.ZodNullable:return See(e,r);case Y.ZodOptional:return Ree(e,r);case Y.ZodMap:return xee(e,r);case Y.ZodSet:return Pee(e,r);case Y.ZodLazy:return()=>e.getter()._def;case Y.ZodPromise:return Mee(e,r);case Y.ZodNaN:case Y.ZodNever:return Tee();case Y.ZodEffects:return fee(e,r);case Y.ZodAny:return en();case Y.ZodUnknown:return Fee();case Y.ZodDefault:return hee(e,r);case Y.ZodBranded:return U7(e,r);case Y.ZodReadonly:return Bee(e,r);case Y.ZodCatch:return cee(e,r);case Y.ZodPipeline:return Oee(e,r);case Y.ZodFunction:case Y.ZodVoid:case Y.ZodSymbol:return;default:return(n=>{})()}};function yt(e,t,r=!1){var n;const a=t.seen.get(e);if(t.override){const u=(n=t.override)==null?void 0:n.call(t,e,t,a,r);if(u!==iee)return u}if(a&&!r){const u=$ee(a,t);if(u!==void 0)return u}const i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);const s=jee(e,e.typeName,t),o=typeof s=="function"?yt(s(),t):s;if(o&&zee(e,t,o),t.postProcess){const u=t.postProcess(o,e,t);return i.jsonSchema=o,u}return i.jsonSchema=o,o}var $ee=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:aee(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),en()):t.$refStrategy==="seen"?en():void 0}},zee=(e,t,r)=>(e.description&&(r.description=e.description),r),Uee=e=>{const t=see(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,a])=>[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},Hee=(e,t)=>{var r;const n=Uee(t);let a=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((l,[c,d])=>{var h;return{...l,[c]:(h=yt(d._def,{...n,currentPath:[...n.basePath,n.definitionPath,c]},!0))!=null?h:en()}},{}):void 0;const i=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(r=yt(e._def,i===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1))!=null?r:en(),o=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;o!==void 0&&(s.title=o);const u=i===void 0?a?{...s,[n.definitionPath]:a}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...a,[i]:s}};return u.$schema="http://json-schema.org/draft-07/schema#",u},Vee=Hee;function qee(e,t){var r;const n=(r=void 0)!=null?r:!1;return W7(()=>Vee(e,{$refStrategy:n?"root":"none"}),{validate:async a=>{const i=await e.safeParseAsync(a);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}}})}function Wee(e,t){var r;const n=(r=void 0)!=null?r:!1;return W7(()=>Jl(E7(e,{target:"draft-7",io:"input",reused:n?"ref":"inline"})),{validate:async a=>{const i=await b1(e,a);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}}})}function Zee(e){return"_zod"in e}function to(e,t){return Zee(e)?Wee(e):qee(e)}var Gee=Symbol.for("vercel.ai.schema");function W7(e,{validate:t}={}){return{[Gee]:!0,_type:void 0,[Wc]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}function Yee(e){return e?.replace(/\/$/,"")}var hh,wv;function Kee(){if(wv)return hh;wv=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,a=(c,d)=>{for(var h in d)e(c,h,{get:d[h],enumerable:!0})},i=(c,d,h,f)=>{if(d&&typeof d=="object"||typeof d=="function")for(let p of r(d))!n.call(c,p)&&p!==h&&e(c,p,{get:()=>d[p],enumerable:!(f=t(d,p))||f.enumerable});return c},s=c=>i(e({},"__esModule",{value:!0}),c),o={};a(o,{SYMBOL_FOR_REQ_CONTEXT:()=>u,getContext:()=>l}),hh=s(o);const u=Symbol.for("@vercel/request-context");function l(){return globalThis[u]?.get?.()??{}}return hh}var fh,Tv;function Xee(){if(Tv)return fh;Tv=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,a=(d,h)=>{for(var f in h)e(d,f,{get:h[f],enumerable:!0})},i=(d,h,f,p)=>{if(h&&typeof h=="object"||typeof h=="function")for(let g of r(h))!n.call(d,g)&&g!==f&&e(d,g,{get:()=>h[g],enumerable:!(p=t(h,g))||p.enumerable});return d},s=d=>i(e({},"__esModule",{value:!0}),d),o={};a(o,{getContext:()=>u.getContext,getVercelOidcToken:()=>l,getVercelOidcTokenSync:()=>c}),fh=s(o);var u=Kee();async function l(){return""}function c(){return""}return fh}var Z7=Xee(),Jee="vercel.ai.gateway.error",ph=Symbol.for(Jee),Ev,kv,tn=class G7 extends(kv=Error,Ev=ph,kv){constructor({message:t,statusCode:r=500,cause:n}){super(t),this[Ev]=!0,this.statusCode=r,this.cause=n}static isInstance(t){return G7.hasMarker(t)}static hasMarker(t){return typeof t=="object"&&t!==null&&ph in t&&t[ph]===!0}},Y7="GatewayAuthenticationError",Qee=`vercel.ai.gateway.error.${Y7}`,_v=Symbol.for(Qee),Sv,Av,_1=class K7 extends(Av=tn,Sv=_v,Av){constructor({message:t="Authentication failed",statusCode:r=401,cause:n}={}){super({message:t,statusCode:r,cause:n}),this[Sv]=!0,this.name=Y7,this.type="authentication_error"}static isInstance(t){return tn.hasMarker(t)&&_v in t}static createContextualError({apiKeyProvided:t,oidcTokenProvided:r,message:n="Authentication failed",statusCode:a=401,cause:i}){let s;return t?s=`AI Gateway authentication failed: Invalid API key.

Create a new API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys

Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`:r?s=`AI Gateway authentication failed: Invalid OIDC token.

Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.

Alternatively, use an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys`:s=`AI Gateway authentication failed: No authentication provided.

Option 1 - API key:
Create an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys
Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.

Option 2 - OIDC token:
Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.`,new K7({message:s,statusCode:a,cause:i})}},X7="GatewayInvalidRequestError",ete=`vercel.ai.gateway.error.${X7}`,Cv=Symbol.for(ete),Iv,Nv,tte=class extends(Nv=tn,Iv=Cv,Nv){constructor({message:e="Invalid request",statusCode:t=400,cause:r}={}){super({message:e,statusCode:t,cause:r}),this[Iv]=!0,this.name=X7,this.type="invalid_request_error"}static isInstance(e){return tn.hasMarker(e)&&Cv in e}},J7="GatewayRateLimitError",rte=`vercel.ai.gateway.error.${J7}`,Rv=Symbol.for(rte),Ov,Mv,nte=class extends(Mv=tn,Ov=Rv,Mv){constructor({message:e="Rate limit exceeded",statusCode:t=429,cause:r}={}){super({message:e,statusCode:t,cause:r}),this[Ov]=!0,this.name=J7,this.type="rate_limit_exceeded"}static isInstance(e){return tn.hasMarker(e)&&Rv in e}},Q7="GatewayModelNotFoundError",ate=`vercel.ai.gateway.error.${Q7}`,Pv=Symbol.for(ate),ite=eo(()=>to(mt({modelId:Ve()}))),Dv,Lv,ste=class extends(Lv=tn,Dv=Pv,Lv){constructor({message:e="Model not found",statusCode:t=404,modelId:r,cause:n}={}){super({message:e,statusCode:t,cause:n}),this[Dv]=!0,this.name=Q7,this.type="model_not_found",this.modelId=r}static isInstance(e){return tn.hasMarker(e)&&Pv in e}},e8="GatewayInternalServerError",ote=`vercel.ai.gateway.error.${e8}`,Fv=Symbol.for(ote),Bv,jv,$v=class extends(jv=tn,Bv=Fv,jv){constructor({message:e="Internal server error",statusCode:t=500,cause:r}={}){super({message:e,statusCode:t,cause:r}),this[Bv]=!0,this.name=e8,this.type="internal_server_error"}static isInstance(e){return tn.hasMarker(e)&&Fv in e}},t8="GatewayResponseError",ute=`vercel.ai.gateway.error.${t8}`,zv=Symbol.for(ute),Uv,Hv,lte=class extends(Hv=tn,Uv=zv,Hv){constructor({message:e="Invalid response from Gateway",statusCode:t=502,response:r,validationError:n,cause:a}={}){super({message:e,statusCode:t,cause:a}),this[Uv]=!0,this.name=t8,this.type="response_error",this.response=r,this.validationError=n}static isInstance(e){return tn.hasMarker(e)&&zv in e}};async function Vv({response:e,statusCode:t,defaultMessage:r="Gateway request failed",cause:n,authMethod:a}){const i=await wu({value:e,schema:cte});if(!i.success)return new lte({message:`Invalid error response format: ${r}`,statusCode:t,response:e,validationError:i.error,cause:n});const s=i.value,o=s.error.type,u=s.error.message;switch(o){case"authentication_error":return _1.createContextualError({apiKeyProvided:a==="api-key",oidcTokenProvided:a==="oidc",statusCode:t,cause:n});case"invalid_request_error":return new tte({message:u,statusCode:t,cause:n});case"rate_limit_exceeded":return new nte({message:u,statusCode:t,cause:n});case"model_not_found":{const l=await wu({value:s.error.param,schema:ite});return new ste({message:u,statusCode:t,modelId:l.success?l.value.modelId:void 0,cause:n})}case"internal_server_error":return new $v({message:u,statusCode:t,cause:n});default:return new $v({message:u,statusCode:t,cause:n})}}var cte=eo(()=>to(mt({error:mt({message:Ve(),type:Ve().nullish(),param:Fi().nullish(),code:Qr([Ve(),Mc()]).nullish()})})));function li(e,t){var r;return tn.isInstance(e)?e:$r.isInstance(e)?Vv({response:dte(e),statusCode:(r=e.statusCode)!=null?r:500,defaultMessage:"Gateway request failed",cause:e,authMethod:t}):Vv({response:{},statusCode:500,defaultMessage:e instanceof Error?`Gateway request failed: ${e.message}`:"Unknown Gateway error",cause:e,authMethod:t})}function dte(e){if(e.data!==void 0)return e.data;if(e.responseBody!=null)try{return JSON.parse(e.responseBody)}catch{return e.responseBody}return{}}var r8="ai-gateway-auth-method";async function Ls(e){const t=await wu({value:e[r8],schema:hte});return t.success?t.value:void 0}var hte=eo(()=>to(Qr([Gt("api-key"),Gt("oidc")]))),qv=class{constructor(e){this.config=e}async getAvailableModels(){try{const{value:e}=await yv({url:`${this.config.baseURL}/config`,headers:await Kn(this.config.headers()),successfulResponseHandler:Tu(fte),failedResponseHandler:Ds({errorSchema:Xa(),errorToMessage:t=>t}),fetch:this.config.fetch});return e}catch(e){throw await li(e)}}async getCredits(){try{const e=new URL(this.config.baseURL),{value:t}=await yv({url:`${e.origin}/v1/credits`,headers:await Kn(this.config.headers()),successfulResponseHandler:Tu(pte),failedResponseHandler:Ds({errorSchema:Xa(),errorToMessage:r=>r}),fetch:this.config.fetch});return t}catch(e){throw await li(e)}}},fte=eo(()=>to(mt({models:Jr(mt({id:Ve(),name:Ve(),description:Ve().nullish(),pricing:mt({input:Ve(),output:Ve(),input_cache_read:Ve().nullish(),input_cache_write:Ve().nullish()}).transform(({input:e,output:t,input_cache_read:r,input_cache_write:n})=>({input:e,output:t,...r?{cachedInputTokens:r}:{},...n?{cacheCreationInputTokens:n}:{}})).nullish(),specification:mt({specificationVersion:Gt("v2"),provider:Ve(),modelId:Ve()}),modelType:C7(["language","embedding","image"]).nullish()}))}))),pte=eo(()=>to(mt({balance:Ve(),total_used:Ve()}).transform(({balance:e,total_used:t})=>({balance:e,totalUsed:t})))),mte=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.supportedUrls={"*/*":[/.*/]}}get provider(){return this.config.provider}async getArgs(e){const{abortSignal:t,...r}=e;return{args:this.maybeEncodeFileParts(r),warnings:[]}}async doGenerate(e){const{args:t,warnings:r}=await this.getArgs(e),{abortSignal:n}=e,a=await Kn(this.config.headers());try{const{responseHeaders:i,value:s,rawValue:o}=await Zc({url:this.getUrl(),headers:qc(a,e.headers,this.getModelConfigHeaders(this.modelId,!1),await Kn(this.config.o11yHeaders)),body:t,successfulResponseHandler:Tu(Xa()),failedResponseHandler:Ds({errorSchema:Xa(),errorToMessage:u=>u}),...n&&{abortSignal:n},fetch:this.config.fetch});return{...s,request:{body:t},response:{headers:i,body:o},warnings:r}}catch(i){throw await li(i,await Ls(a))}}async doStream(e){const{args:t,warnings:r}=await this.getArgs(e),{abortSignal:n}=e,a=await Kn(this.config.headers());try{const{value:i,responseHeaders:s}=await Zc({url:this.getUrl(),headers:qc(a,e.headers,this.getModelConfigHeaders(this.modelId,!0),await Kn(this.config.o11yHeaders)),body:t,successfulResponseHandler:nee(Xa()),failedResponseHandler:Ds({errorSchema:Xa(),errorToMessage:o=>o}),...n&&{abortSignal:n},fetch:this.config.fetch});return{stream:i.pipeThrough(new TransformStream({start(o){r.length>0&&o.enqueue({type:"stream-start",warnings:r})},transform(o,u){if(o.success){const l=o.value;if(l.type==="raw"&&!e.includeRawChunks)return;l.type==="response-metadata"&&l.timestamp&&typeof l.timestamp=="string"&&(l.timestamp=new Date(l.timestamp)),u.enqueue(l)}else u.error(o.error)}})),request:{body:t},response:{headers:s}}}catch(i){throw await li(i,await Ls(a))}}isFilePart(e){return e&&typeof e=="object"&&"type"in e&&e.type==="file"}maybeEncodeFileParts(e){for(const t of e.prompt)for(const r of t.content)if(this.isFilePart(r)){const n=r;if(n.data instanceof Uint8Array){const a=Uint8Array.from(n.data),i=Buffer.from(a).toString("base64");n.data=new URL(`data:${n.mediaType||"application/octet-stream"};base64,${i}`)}}return e}getUrl(){return`${this.config.baseURL}/language-model`}getModelConfigHeaders(e,t){return{"ai-language-model-specification-version":"2","ai-language-model-id":e,"ai-language-model-streaming":String(t)}}},gte=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:n}){var a;const i=await Kn(this.config.headers());try{const{responseHeaders:s,value:o,rawValue:u}=await Zc({url:this.getUrl(),headers:qc(i,t??{},this.getModelConfigHeaders(),await Kn(this.config.o11yHeaders)),body:{input:e.length===1?e[0]:e,...n?{providerOptions:n}:{}},successfulResponseHandler:Tu(yte),failedResponseHandler:Ds({errorSchema:Xa(),errorToMessage:l=>l}),...r&&{abortSignal:r},fetch:this.config.fetch});return{embeddings:o.embeddings,usage:(a=o.usage)!=null?a:void 0,providerMetadata:o.providerMetadata,response:{headers:s,body:u}}}catch(s){throw await li(s,await Ls(i))}}getUrl(){return`${this.config.baseURL}/embedding-model`}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":"2","ai-model-id":this.modelId}}},yte=eo(()=>to(mt({embeddings:Jr(Jr(Mc())),usage:mt({tokens:Mc()}).nullish(),providerMetadata:Os(Ve(),Os(Ve(),Fi())).optional()}))),bte=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxImagesPerCall=Number.MAX_SAFE_INTEGER}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:r,aspectRatio:n,seed:a,providerOptions:i,headers:s,abortSignal:o}){var u;const l=await Kn(this.config.headers());try{const{responseHeaders:c,value:d,rawValue:h}=await Zc({url:this.getUrl(),headers:qc(l,s??{},this.getModelConfigHeaders(),await Kn(this.config.o11yHeaders)),body:{prompt:e,n:t,...r&&{size:r},...n&&{aspectRatio:n},...a&&{seed:a},...i&&{providerOptions:i}},successfulResponseHandler:Tu(xte),failedResponseHandler:Ds({errorSchema:Xa(),errorToMessage:f=>f}),...o&&{abortSignal:o},fetch:this.config.fetch});return{images:d.images,warnings:(u=d.warnings)!=null?u:[],providerMetadata:d.providerMetadata,response:{timestamp:new Date,modelId:this.modelId,headers:c}}}catch(c){throw li(c,await Ls(l))}}getUrl(){return`${this.config.baseURL}/image-model`}getModelConfigHeaders(){return{"ai-image-model-specification-version":"2","ai-model-id":this.modelId}}},vte=mt({images:Jr(Fi()).optional()}).catchall(Fi()),xte=mt({images:Jr(Ve()),warnings:Jr(mt({type:Gt("other"),message:Ve()})).optional(),providerMetadata:Os(Ve(),vte).optional()});async function wte(){var e;return(e=Z7.getContext().headers)==null?void 0:e["x-vercel-id"]}var Tte="2.0.22",Ete="0.0.1";function kte(e={}){var t,r;let n=null,a=null;const i=(t=e.metadataCacheRefreshMillis)!=null?t:1e3*60*5;let s=0;const o=(r=Yee(e.baseURL))!=null?r:"https://ai-gateway.vercel.sh/v1/ai",u=async()=>{const p=await Ste(e);if(p)return k1({Authorization:`Bearer ${p.token}`,"ai-gateway-protocol-version":Ete,[r8]:p.authMethod,...e.headers},`ai-sdk/gateway/${Tte}`);throw _1.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401})},l=()=>{const p=Xl({settingValue:void 0,environmentVariableName:"VERCEL_DEPLOYMENT_ID"}),g=Xl({settingValue:void 0,environmentVariableName:"VERCEL_ENV"}),T=Xl({settingValue:void 0,environmentVariableName:"VERCEL_REGION"});return async()=>{const y=await wte();return{...p&&{"ai-o11y-deployment-id":p},...g&&{"ai-o11y-environment":g},...T&&{"ai-o11y-region":T},...y&&{"ai-o11y-request-id":y}}}},c=p=>new mte(p,{provider:"gateway",baseURL:o,headers:u,fetch:e.fetch,o11yHeaders:l()}),d=async()=>{var p,g,T;const y=(T=(g=(p=e._internal)==null?void 0:p.currentDate)==null?void 0:g.call(p).getTime())!=null?T:Date.now();return(!n||y-s>i)&&(s=y,n=new qv({baseURL:o,headers:u,fetch:e.fetch}).getAvailableModels().then(x=>(a=x,x)).catch(async x=>{throw await li(x,await Ls(await u()))})),a?Promise.resolve(a):n},h=async()=>new qv({baseURL:o,headers:u,fetch:e.fetch}).getCredits().catch(async p=>{throw await li(p,await Ls(await u()))}),f=function(p){if(new.target)throw new Error("The Gateway Provider model function cannot be called with the new keyword.");return c(p)};return f.getAvailableModels=d,f.getCredits=h,f.imageModel=p=>new bte(p,{provider:"gateway",baseURL:o,headers:u,fetch:e.fetch,o11yHeaders:l()}),f.languageModel=c,f.textEmbeddingModel=p=>new gte(p,{provider:"gateway",baseURL:o,headers:u,fetch:e.fetch,o11yHeaders:l()}),f}var _te=kte();async function Ste(e){const t=Xl({settingValue:e.apiKey,environmentVariableName:"AI_GATEWAY_API_KEY"});if(t)return{token:t,authMethod:"api-key"};try{return{token:await Z7.getVercelOidcToken(),authMethod:"oidc"}}catch{return null}}var n8="vercel.ai.error",Ate=Symbol.for(n8),a8,Cte=class i8 extends Error{constructor({name:t,message:r,cause:n}){super(r),this[a8]=!0,this.name=t,this.cause=n}static isInstance(t){return i8.hasMarker(t,n8)}static hasMarker(t,r){const n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}};a8=Ate;var ct=Cte,s8="AI_APICallError",o8=`vercel.ai.error.${s8}`,Ite=Symbol.for(o8),u8,Nte=class extends ct{constructor({message:t,url:r,requestBodyValues:n,statusCode:a,responseHeaders:i,responseBody:s,cause:o,isRetryable:u=a!=null&&(a===408||a===409||a===429||a>=500),data:l}){super({name:s8,message:t,cause:o}),this[u8]=!0,this.url=r,this.requestBodyValues=n,this.statusCode=a,this.responseHeaders=i,this.responseBody=s,this.isRetryable=u,this.data=l}static isInstance(t){return ct.hasMarker(t,o8)}};u8=Ite;function ro(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var l8="AI_InvalidArgumentError",c8=`vercel.ai.error.${l8}`,Rte=Symbol.for(c8),d8,Ote=class extends ct{constructor({message:t,cause:r,argument:n}){super({name:l8,message:t,cause:r}),this[d8]=!0,this.argument=n}static isInstance(t){return ct.hasMarker(t,c8)}};d8=Rte;var h8="AI_InvalidPromptError",f8=`vercel.ai.error.${h8}`,Mte=Symbol.for(f8),p8,ns=class extends ct{constructor({prompt:t,message:r,cause:n}){super({name:h8,message:`Invalid prompt: ${r}`,cause:n}),this[p8]=!0,this.prompt=t}static isInstance(t){return ct.hasMarker(t,f8)}};p8=Mte;var m8="AI_JSONParseError",g8=`vercel.ai.error.${m8}`,Pte=Symbol.for(g8),y8,Wv=class extends ct{constructor({text:t,cause:r}){super({name:m8,message:`JSON parsing failed: Text: ${t}.
Error message: ${ro(r)}`,cause:r}),this[y8]=!0,this.text=t}static isInstance(t){return ct.hasMarker(t,g8)}};y8=Pte;var b8="AI_TypeValidationError",v8=`vercel.ai.error.${b8}`,Dte=Symbol.for(v8),x8,Lte=class op extends ct{constructor({value:t,cause:r}){super({name:b8,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${ro(r)}`,cause:r}),this[x8]=!0,this.value=t}static isInstance(t){return ct.hasMarker(t,v8)}static wrap({value:t,cause:r}){return op.isInstance(r)&&r.value===t?r:new op({value:t,cause:r})}};x8=Dte;var Gc=Lte;async function Fte(e,t){if(e==null)return Promise.resolve();const r=t?.abortSignal;return new Promise((n,a)=>{if(r?.aborted){a(Zv());return}const i=setTimeout(()=>{s(),n()},e),s=()=>{clearTimeout(i),r?.removeEventListener("abort",o)},o=()=>{s(),a(Zv())};r?.addEventListener("abort",o)})}function Zv(){return new DOMException("Delay was aborted","AbortError")}var Ll=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get promise(){return this._promise?this._promise:(this._promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this._promise)}resolve(e){var t;this.status={type:"resolved",value:e},this._promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this._promise&&((t=this._reject)==null||t.call(this,e))}isResolved(){return this.status.type==="resolved"}isRejected(){return this.status.type==="rejected"}isPending(){return this.status.type==="pending"}},Qu=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{const a=()=>{const i=r.length,s=new Array(t);for(let o=0;o<t;o++)s[o]=r[Math.random()*i|0];return s.join("")};if(e==null)return a;if(r.includes(n))throw new Ote({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${a()}`},Bte=Qu();function S1(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function w8(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}function jte(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function $te(e){if(e==null)return{};const t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(const[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}function T8(e,...t){const r=new Headers($te(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}function zte({mediaType:e,url:t,supportedUrls:r}){return t=t.toLowerCase(),e=e.toLowerCase(),Object.entries(r).map(([n,a])=>{const i=n.toLowerCase();return i==="*"||i==="*/*"?{mediaTypePrefix:"",regexes:a}:{mediaTypePrefix:i.replace(/\*/,""),regexes:a}}).filter(({mediaTypePrefix:n})=>e.startsWith(n)).flatMap(({regexes:n})=>n).some(n=>n.test(t))}var Ute=/"__proto__"\s*:/,Hte=/"constructor"\s*:/;function Gv(e){const t=JSON.parse(e);return t===null||typeof t!="object"||Ute.test(e)===!1&&Hte.test(e)===!1?t:Vte(t)}function Vte(e){let t=[e];for(;t.length;){const r=t;t=[];for(const n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const a in n){const i=n[a];i&&typeof i=="object"&&t.push(i)}}}return e}function qte(e){const{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return Gv(e)}try{return Gv(e)}finally{Error.stackTraceLimit=t}}var Yc=Symbol.for("vercel.ai.validator");function Wte(e){return{[Yc]:!0,validate:e}}function Zte(e){return typeof e=="object"&&e!==null&&Yc in e&&e[Yc]===!0&&"validate"in e}function Gte(e){return Zte(e)?e:typeof e=="function"?e():Yte(e)}function Yte(e){return Wte(async t=>{const r=await e["~standard"].validate(t);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new Gc({value:t,cause:r.issues})}})}async function Yv({value:e,schema:t}){const r=await el({value:e,schema:t});if(!r.success)throw Gc.wrap({value:e,cause:r.error});return r.value}async function el({value:e,schema:t}){const r=Gte(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};const n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:Gc.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:Gc.wrap({value:e,cause:n}),rawValue:e}}}async function Eu({text:e,schema:t}){try{const r=qte(e);return t==null?{success:!0,value:r,rawValue:r}:await el({value:r,schema:t})}catch(r){return{success:!1,error:Wv.isInstance(r)?r:new Wv({text:e,cause:r}),rawValue:void 0}}}function Ql(e){if(e.type==="object"){e.additionalProperties=!1;const t=e.properties;if(t!=null)for(const r in t)t[r]=Ql(t[r])}return e.type==="array"&&e.items!=null&&(Array.isArray(e.items)?e.items=e.items.map(t=>Ql(t)):e.items=Ql(e.items)),e}var Kte=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},Xte=Symbol("Let zodToJsonSchema decide on which parser to use"),Kv={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Jte=e=>typeof e=="string"?{...Kv,name:e}:{...Kv,...e};function rn(){return{}}function Qte(e,t){var r,n,a;const i={type:"array"};return(r=e.type)!=null&&r._def&&((a=(n=e.type)==null?void 0:n._def)==null?void 0:a.typeName)!==Y.ZodAny&&(i.items=bt(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(i.minItems=e.minLength.value),e.maxLength&&(i.maxItems=e.maxLength.value),e.exactLength&&(i.minItems=e.exactLength.value,i.maxItems=e.exactLength.value),i}function ere(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}function tre(){return{type:"boolean"}}function E8(e,t){return bt(e.type._def,t)}var rre=(e,t)=>bt(e.innerType._def,t);function k8(e,t,r){const n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((a,i)=>k8(e,t,a))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return nre(e)}}var nre=e=>{const t={type:"integer",format:"unix-time"};for(const r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t};function are(e,t){return{...bt(e.innerType._def,t),default:e.defaultValue()}}function ire(e,t){return t.effectStrategy==="input"?bt(e.schema._def,t):rn()}function sre(e){return{type:"string",enum:Array.from(e.values)}}var ore=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function ure(e,t){const r=[bt(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),bt(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),n=[];return r.forEach(a=>{if(ore(a))n.push(...a.allOf);else{let i=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:s,...o}=a;i=o}n.push(i)}}),n.length?{allOf:n}:void 0}function lre(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var mh=void 0,_n={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(mh===void 0&&(mh=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),mh),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function _8(e,t){const r={type:"string"};if(e.checks)for(const n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":Sn(r,"email",n.message,t);break;case"format:idn-email":Sn(r,"idn-email",n.message,t);break;case"pattern:zod":Sr(r,_n.email,n.message,t);break}break;case"url":Sn(r,"uri",n.message,t);break;case"uuid":Sn(r,"uuid",n.message,t);break;case"regex":Sr(r,n.regex,n.message,t);break;case"cuid":Sr(r,_n.cuid,n.message,t);break;case"cuid2":Sr(r,_n.cuid2,n.message,t);break;case"startsWith":Sr(r,RegExp(`^${gh(n.value,t)}`),n.message,t);break;case"endsWith":Sr(r,RegExp(`${gh(n.value,t)}$`),n.message,t);break;case"datetime":Sn(r,"date-time",n.message,t);break;case"date":Sn(r,"date",n.message,t);break;case"time":Sn(r,"time",n.message,t);break;case"duration":Sn(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{Sr(r,RegExp(gh(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&Sn(r,"ipv4",n.message,t),n.version!=="v4"&&Sn(r,"ipv6",n.message,t);break}case"base64url":Sr(r,_n.base64url,n.message,t);break;case"jwt":Sr(r,_n.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&Sr(r,_n.ipv4Cidr,n.message,t),n.version!=="v4"&&Sr(r,_n.ipv6Cidr,n.message,t);break}case"emoji":Sr(r,_n.emoji(),n.message,t);break;case"ulid":{Sr(r,_n.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Sn(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{Sr(r,_n.base64,n.message,t);break}}break}case"nanoid":Sr(r,_n.nanoid,n.message,t)}return r}function gh(e,t){return t.patternStrategy==="escape"?dre(e):e}var cre=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function dre(e){let t="";for(let r=0;r<e.length;r++)cre.has(e[r])||(t+="\\"),t+=e[r];return t}function Sn(e,t,r,n){var a;e.format||(a=e.anyOf)!=null&&a.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}function Sr(e,t,r,n){var a;e.pattern||(a=e.allOf)!=null&&a.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:Xv(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=Xv(t,n)}function Xv(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=n.i?e.source.toLowerCase():e.source;let i="",s=!1,o=!1,u=!1;for(let l=0;l<a.length;l++){if(s){i+=a[l],s=!1;continue}if(n.i){if(o){if(a[l].match(/[a-z]/)){u?(i+=a[l],i+=`${a[l-2]}-${a[l]}`.toUpperCase(),u=!1):a[l+1]==="-"&&((r=a[l+2])!=null&&r.match(/[a-z]/))?(i+=a[l],u=!0):i+=`${a[l]}${a[l].toUpperCase()}`;continue}}else if(a[l].match(/[a-z]/)){i+=`[${a[l]}${a[l].toUpperCase()}]`;continue}}if(n.m){if(a[l]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(a[l]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&a[l]==="."){i+=o?`${a[l]}\r
`:`[${a[l]}\r
]`;continue}i+=a[l],a[l]==="\\"?s=!0:o&&a[l]==="]"?o=!1:!o&&a[l]==="["&&(o=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}function S8(e,t){var r,n,a,i,s,o;const u={type:"object",additionalProperties:(r=bt(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===Y.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){const{type:l,...c}=_8(e.keyType._def,t);return{...u,propertyNames:c}}else{if(((i=e.keyType)==null?void 0:i._def.typeName)===Y.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===Y.ZodBranded&&e.keyType._def.type._def.typeName===Y.ZodString&&((o=e.keyType._def.type._def.checks)!=null&&o.length)){const{type:l,...c}=E8(e.keyType._def,t);return{...u,propertyNames:c}}}return u}function hre(e,t){if(t.mapStrategy==="record")return S8(e,t);const r=bt(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||rn(),n=bt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||rn();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function fre(e){const t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),a=Array.from(new Set(n.map(i=>typeof i)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:n}}function pre(){return{not:rn()}}function mre(){return{type:"null"}}var up={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function gre(e,t){const r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in up&&(!n._def.checks||!n._def.checks.length))){const n=r.reduce((a,i)=>{const s=up[i._def.typeName];return s&&!a.includes(s)?[...a,s]:a},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){const n=r.reduce((a,i)=>{const s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...a,s];case"bigint":return[...a,"integer"];case"object":if(i._def.value===null)return[...a,"null"];default:return a}},[]);if(n.length===r.length){const a=n.filter((i,s,o)=>o.indexOf(i)===s);return{type:a.length>1?a:a[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,a)=>[...n,...a._def.values.filter(i=>!n.includes(i))],[])};return yre(e,t)}var yre=(e,t)=>{const r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,a)=>bt(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${a}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function bre(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[up[e.innerType._def.typeName],"null"]};const r=bt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function vre(e){const t={type:"number"};if(!e.checks)return t;for(const r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}function xre(e,t){const r={type:"object",properties:{}},n=[],a=e.shape();for(const s in a){let o=a[s];if(o===void 0||o._def===void 0)continue;const u=Tre(o),l=bt(o._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});l!==void 0&&(r.properties[s]=l,u||n.push(s))}n.length&&(r.required=n);const i=wre(e,t);return i!==void 0&&(r.additionalProperties=i),r}function wre(e,t){if(e.catchall._def.typeName!=="ZodNever")return bt(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function Tre(e){try{return e.isOptional()}catch{return!0}}var Ere=(e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return bt(e.innerType._def,t);const n=bt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:rn()},n]}:rn()},kre=(e,t)=>{if(t.pipeStrategy==="input")return bt(e.in._def,t);if(t.pipeStrategy==="output")return bt(e.out._def,t);const r=bt(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=bt(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(a=>a!==void 0)}};function _re(e,t){return bt(e.type._def,t)}function Sre(e,t){const n={type:"array",uniqueItems:!0,items:bt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}function Are(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>bt(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:bt(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>bt(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function Cre(){return{not:rn()}}function Ire(){return rn()}var Nre=(e,t)=>bt(e.innerType._def,t),Rre=(e,t,r)=>{switch(t){case Y.ZodString:return _8(e,r);case Y.ZodNumber:return vre(e);case Y.ZodObject:return xre(e,r);case Y.ZodBigInt:return ere(e);case Y.ZodBoolean:return tre();case Y.ZodDate:return k8(e,r);case Y.ZodUndefined:return Cre();case Y.ZodNull:return mre();case Y.ZodArray:return Qte(e,r);case Y.ZodUnion:case Y.ZodDiscriminatedUnion:return gre(e,r);case Y.ZodIntersection:return ure(e,r);case Y.ZodTuple:return Are(e,r);case Y.ZodRecord:return S8(e,r);case Y.ZodLiteral:return lre(e);case Y.ZodEnum:return sre(e);case Y.ZodNativeEnum:return fre(e);case Y.ZodNullable:return bre(e,r);case Y.ZodOptional:return Ere(e,r);case Y.ZodMap:return hre(e,r);case Y.ZodSet:return Sre(e,r);case Y.ZodLazy:return()=>e.getter()._def;case Y.ZodPromise:return _re(e,r);case Y.ZodNaN:case Y.ZodNever:return pre();case Y.ZodEffects:return ire(e,r);case Y.ZodAny:return rn();case Y.ZodUnknown:return Ire();case Y.ZodDefault:return are(e,r);case Y.ZodBranded:return E8(e,r);case Y.ZodReadonly:return Nre(e,r);case Y.ZodCatch:return rre(e,r);case Y.ZodPipeline:return kre(e,r);case Y.ZodFunction:case Y.ZodVoid:case Y.ZodSymbol:return;default:return(n=>{})()}};function bt(e,t,r=!1){var n;const a=t.seen.get(e);if(t.override){const u=(n=t.override)==null?void 0:n.call(t,e,t,a,r);if(u!==Xte)return u}if(a&&!r){const u=Ore(a,t);if(u!==void 0)return u}const i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);const s=Rre(e,e.typeName,t),o=typeof s=="function"?bt(s(),t):s;if(o&&Mre(e,t,o),t.postProcess){const u=t.postProcess(o,e,t);return i.jsonSchema=o,u}return i.jsonSchema=o,o}var Ore=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:Kte(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),rn()):t.$refStrategy==="seen"?rn():void 0}},Mre=(e,t,r)=>(e.description&&(r.description=e.description),r),Pre=e=>{const t=Jte(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,a])=>[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},Dre=(e,t)=>{var r;const n=Pre(t);let a=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((l,[c,d])=>{var h;return{...l,[c]:(h=bt(d._def,{...n,currentPath:[...n.basePath,n.definitionPath,c]},!0))!=null?h:rn()}},{}):void 0;const i=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(r=bt(e._def,i===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1))!=null?r:rn(),o=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;o!==void 0&&(s.title=o);const u=i===void 0?a?{...s,[n.definitionPath]:a}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...a,[i]:s}};return u.$schema="http://json-schema.org/draft-07/schema#",u},Lre=Dre;function Fre(e,t){var r;const n=(r=void 0)!=null?r:!1;return A1(()=>Lre(e,{$refStrategy:n?"root":"none"}),{validate:async a=>{const i=await e.safeParseAsync(a);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}}})}function Bre(e,t){var r;const n=(r=void 0)!=null?r:!1;return A1(()=>Ql(E7(e,{target:"draft-7",io:"input",reused:n?"ref":"inline"})),{validate:async a=>{const i=await b1(e,a);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}}})}function jre(e){return"_zod"in e}function $re(e,t){return jre(e)?Bre(e):Fre(e)}var lp=Symbol.for("vercel.ai.schema");function A1(e,{validate:t}={}){return{[lp]:!0,_type:void 0,[Yc]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}function zre(e){return typeof e=="object"&&e!==null&&lp in e&&e[lp]===!0&&"jsonSchema"in e&&"validate"in e}function U0(e){return e==null?A1({properties:{},additionalProperties:!1}):zre(e)?e:typeof e=="function"?e():$re(e)}var{btoa:Ure,atob:Hre}=globalThis;function C1(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=Hre(t);return Uint8Array.from(r,n=>n.codePointAt(0))}function cp(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return Ure(t)}function Vre(e){return e!=null&&typeof e[Symbol.asyncIterator]=="function"}async function*A8({execute:e,input:t,options:r}){const n=e(t,r);if(Vre(n)){let a;for await(const i of n)a=i,yield{type:"preliminary",output:i};yield{type:"final",output:a}}else yield{type:"final",output:await n}}var qre=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Ii="1.9.0",Jv=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Wre(e){var t=new Set([e]),r=new Set,n=e.match(Jv);if(!n)return function(){return!1};var a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(a.prerelease!=null)return function(u){return u===e};function i(o){return r.add(o),!1}function s(o){return t.add(o),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;var l=u.match(Jv);if(!l)return i(u);var c={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return c.prerelease!=null||a.major!==c.major?i(u):a.major===0?a.minor===c.minor&&a.patch<=c.patch?s(u):i(u):a.minor<=c.minor?s(u):i(u)}}var Zre=Wre(Ii),Gre=Ii.split(".")[0],ku=Symbol.for("opentelemetry.js.api."+Gre),_u=qre;function I1(e,t,r,n){var a;n===void 0&&(n=!1);var i=_u[ku]=(a=_u[ku])!==null&&a!==void 0?a:{version:Ii};if(!n&&i[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(i.version!==Ii){var s=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+Ii);return r.error(s.stack||s.message),!1}return i[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+Ii+"."),!0}function Su(e){var t,r,n=(t=_u[ku])===null||t===void 0?void 0:t.version;if(!(!n||!Zre(n)))return(r=_u[ku])===null||r===void 0?void 0:r[e]}function N1(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Ii+".");var r=_u[ku];r&&delete r[e]}var Yre=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Kre=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},Xre=(function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return wo("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return wo("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return wo("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return wo("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return wo("verbose",this._namespace,t)},e})();function wo(e,t,r){var n=Su("diag");if(n)return r.unshift(t),n[e].apply(n,Kre([],Yre(r),!1))}var Gr;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Gr||(Gr={}));function Jre(e,t){e<Gr.NONE?e=Gr.NONE:e>Gr.ALL&&(e=Gr.ALL),t=t||{};function r(n,a){var i=t[n];return typeof i=="function"&&e>=a?i.bind(t):function(){}}return{error:r("error",Gr.ERROR),warn:r("warn",Gr.WARN),info:r("info",Gr.INFO),debug:r("debug",Gr.DEBUG),verbose:r("verbose",Gr.VERBOSE)}}var Qre=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},ene=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},tne="diag",Kc=(function(){function e(){function t(a){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=Su("diag");if(o)return o[a].apply(o,ene([],Qre(i),!1))}}var r=this,n=function(a,i){var s,o,u;if(i===void 0&&(i={logLevel:Gr.INFO}),a===r){var l=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=l.stack)!==null&&s!==void 0?s:l.message),!1}typeof i=="number"&&(i={logLevel:i});var c=Su("diag"),d=Jre((o=i.logLevel)!==null&&o!==void 0?o:Gr.INFO,a);if(c&&!i.suppressOverrideMessage){var h=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+h),d.warn("Current logger will overwrite one already registered from "+h)}return I1("diag",d,r,!0)};r.setLogger=n,r.disable=function(){N1(tne,r)},r.createComponentLogger=function(a){return new Xre(a)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e})();function rne(e){return Symbol.for(e)}var nne=(function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,a){var i=new e(r._currentContext);return i._currentContext.set(n,a),i},r.deleteValue=function(n){var a=new e(r._currentContext);return a._currentContext.delete(n),a}}return e})(),ane=new nne,ine=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},sne=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},one=(function(){function e(){}return e.prototype.active=function(){return ane},e.prototype.with=function(t,r,n){for(var a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return r.call.apply(r,sne([n],ine(a),!1))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e})(),une=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},lne=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},yh="context",cne=new one,C8=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return I1(yh,t,Kc.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var a,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return(a=this._getContextManager()).with.apply(a,lne([t,r,n],une(i),!1))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return Su(yh)||cne},e.prototype.disable=function(){this._getContextManager().disable(),N1(yh,Kc.instance())},e})(),dp;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(dp||(dp={}));var I8="0000000000000000",N8="00000000000000000000000000000000",dne={traceId:N8,spanId:I8,traceFlags:dp.NONE},eu=(function(){function e(t){t===void 0&&(t=dne),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e})(),R1=rne("OpenTelemetry Context Key SPAN");function O1(e){return e.getValue(R1)||void 0}function hne(){return O1(C8.getInstance().active())}function M1(e,t){return e.setValue(R1,t)}function fne(e){return e.deleteValue(R1)}function pne(e,t){return M1(e,new eu(t))}function R8(e){var t;return(t=O1(e))===null||t===void 0?void 0:t.spanContext()}var mne=/^([0-9a-f]{32})$/i,gne=/^[0-9a-f]{16}$/i;function yne(e){return mne.test(e)&&e!==N8}function bne(e){return gne.test(e)&&e!==I8}function O8(e){return yne(e.traceId)&&bne(e.spanId)}function vne(e){return new eu(e)}var bh=C8.getInstance(),M8=(function(){function e(){}return e.prototype.startSpan=function(t,r,n){n===void 0&&(n=bh.active());var a=!!r?.root;if(a)return new eu;var i=n&&R8(n);return xne(i)&&O8(i)?new eu(i):new eu},e.prototype.startActiveSpan=function(t,r,n,a){var i,s,o;if(!(arguments.length<2)){arguments.length===2?o=r:arguments.length===3?(i=r,o=n):(i=r,s=n,o=a);var u=s??bh.active(),l=this.startSpan(t,i,u),c=M1(u,l);return bh.with(c,o,void 0,l)}},e})();function xne(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var wne=new M8,Tne=(function(){function e(t,r,n,a){this._provider=t,this.name=r,this.version=n,this.options=a}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,a){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):wne},e})(),Ene=(function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new M8},e})(),kne=new Ene,Qv=(function(){function e(){}return e.prototype.getTracer=function(t,r,n){var a;return(a=this.getDelegateTracer(t,r,n))!==null&&a!==void 0?a:new Tne(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:kne},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var a;return(a=this._delegate)===null||a===void 0?void 0:a.getTracer(t,r,n)},e})(),Xc;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(Xc||(Xc={}));var vh="trace",_ne=(function(){function e(){this._proxyTracerProvider=new Qv,this.wrapSpanContext=vne,this.isSpanContextValid=O8,this.deleteSpan=fne,this.getSpan=O1,this.getActiveSpan=hne,this.getSpanContext=R8,this.setSpan=M1,this.setSpanContext=pne}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=I1(vh,this._proxyTracerProvider,Kc.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return Su(vh)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){N1(vh,Kc.instance()),this._proxyTracerProvider=new Qv},e})(),Sne=_ne.getInstance(),Ane=Object.defineProperty,Cne=(e,t)=>{for(var r in t)Ane(e,r,{get:t[r],enumerable:!0})},P8="AI_NoOutputSpecifiedError",D8=`vercel.ai.error.${P8}`,Ine=Symbol.for(D8),L8,F8=class extends ct{constructor({message:e="No output specified."}={}){super({name:P8,message:e}),this[L8]=!0}static isInstance(e){return ct.hasMarker(e,D8)}};L8=Ine;function Nne(e){const t="AI SDK Warning:";switch(e.type){case"unsupported-setting":{let r=`${t} The "${e.setting}" setting is not supported by this model`;return e.details&&(r+=` - ${e.details}`),r}case"unsupported-tool":{const r="name"in e.tool?e.tool.name:"unknown tool";let n=`${t} The tool "${r}" is not supported by this model`;return e.details&&(n+=` - ${e.details}`),n}case"other":return`${t} ${e.message}`;default:return`${t} ${JSON.stringify(e,null,2)}`}}var Rne="AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false.",e4=!1,B8=e=>{if(e.length===0)return;const t=globalThis.AI_SDK_LOG_WARNINGS;if(t!==!1){if(typeof t=="function"){t(e);return}e4||(e4=!0,console.info(Rne));for(const r of e)console.warn(Nne(r))}},j8="AI_InvalidArgumentError",$8=`vercel.ai.error.${j8}`,One=Symbol.for($8),z8,Un=class extends ct{constructor({parameter:t,value:r,message:n}){super({name:j8,message:`Invalid argument for parameter ${t}: ${n}`}),this[z8]=!0,this.parameter=t,this.value=r}static isInstance(t){return ct.hasMarker(t,$8)}};z8=One;var U8="AI_InvalidToolInputError",H8=`vercel.ai.error.${U8}`,Mne=Symbol.for(H8),V8,q8=class extends ct{constructor({toolInput:e,toolName:t,cause:r,message:n=`Invalid input for tool ${t}: ${ro(r)}`}){super({name:U8,message:n,cause:r}),this[V8]=!0,this.toolInput=e,this.toolName=t}static isInstance(e){return ct.hasMarker(e,H8)}};V8=Mne;var W8="AI_NoObjectGeneratedError",Z8=`vercel.ai.error.${W8}`,Pne=Symbol.for(Z8),G8,t4=class extends ct{constructor({message:e="No object generated.",cause:t,text:r,response:n,usage:a,finishReason:i}){super({name:W8,message:e,cause:t}),this[G8]=!0,this.text=r,this.response=n,this.usage=a,this.finishReason=i}static isInstance(e){return ct.hasMarker(e,Z8)}};G8=Pne;var Y8="AI_NoOutputGeneratedError",K8=`vercel.ai.error.${Y8}`,Dne=Symbol.for(K8),X8,Lne=class extends ct{constructor({message:e="No output generated.",cause:t}={}){super({name:Y8,message:e,cause:t}),this[X8]=!0}static isInstance(e){return ct.hasMarker(e,K8)}};X8=Dne;var J8="AI_NoSuchToolError",Q8=`vercel.ai.error.${J8}`,Fne=Symbol.for(Q8),e9,hp=class extends ct{constructor({toolName:e,availableTools:t=void 0,message:r=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:J8,message:r}),this[e9]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return ct.hasMarker(e,Q8)}};e9=Fne;var t9="AI_ToolCallRepairError",r9=`vercel.ai.error.${t9}`,Bne=Symbol.for(r9),n9,jne=class extends ct{constructor({cause:e,originalError:t,message:r=`Error repairing tool call: ${ro(e)}`}){super({name:t9,message:r,cause:e}),this[n9]=!0,this.originalError=t}static isInstance(e){return ct.hasMarker(e,r9)}};n9=Bne;var $ne=class extends ct{constructor(e){super({name:"AI_UnsupportedModelVersionError",message:`Unsupported model version ${e.version} for provider "${e.provider}" and model "${e.modelId}". AI SDK 5 only supports models that implement specification version "v2".`}),this.version=e.version,this.provider=e.provider,this.modelId=e.modelId}},a9="AI_InvalidMessageRoleError",i9=`vercel.ai.error.${a9}`,zne=Symbol.for(i9),s9,Une=class extends ct{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:a9,message:t}),this[s9]=!0,this.role=e}static isInstance(e){return ct.hasMarker(e,i9)}};s9=zne;var o9="AI_DownloadError",u9=`vercel.ai.error.${o9}`,Hne=Symbol.for(u9),l9,xh=class extends ct{constructor({url:e,statusCode:t,statusText:r,cause:n,message:a=n==null?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:o9,message:a,cause:n}),this[l9]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return ct.hasMarker(e,u9)}};l9=Hne;var c9="AI_RetryError",d9=`vercel.ai.error.${c9}`,Vne=Symbol.for(d9),h9,r4=class extends ct{constructor({message:e,reason:t,errors:r}){super({name:c9,message:e}),this[h9]=!0,this.reason=t,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return ct.hasMarker(e,d9)}};h9=Vne;function Jc(e){if(typeof e!="string"){if(e.specificationVersion!=="v2")throw new $ne({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});return e}return qne().languageModel(e)}function qne(){var e;return(e=globalThis.AI_SDK_DEFAULT_PROVIDER)!=null?e:_te}var Wne=[{mediaType:"image/gif",bytesPrefix:[71,73,70]},{mediaType:"image/png",bytesPrefix:[137,80,78,71]},{mediaType:"image/jpeg",bytesPrefix:[255,216]},{mediaType:"image/webp",bytesPrefix:[82,73,70,70,null,null,null,null,87,69,66,80]},{mediaType:"image/bmp",bytesPrefix:[66,77]},{mediaType:"image/tiff",bytesPrefix:[73,73,42,0]},{mediaType:"image/tiff",bytesPrefix:[77,77,0,42]},{mediaType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102]},{mediaType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99]}],Zne=e=>{const t=typeof e=="string"?C1(e):e,r=(t[6]&127)<<21|(t[7]&127)<<14|(t[8]&127)<<7|t[9]&127;return t.slice(r+10)};function Gne(e){return typeof e=="string"&&e.startsWith("SUQz")||typeof e!="string"&&e.length>10&&e[0]===73&&e[1]===68&&e[2]===51?Zne(e):e}function Yne({data:e,signatures:t}){const r=Gne(e),n=typeof r=="string"?C1(r.substring(0,Math.min(r.length,24))):r;for(const a of t)if(n.length>=a.bytesPrefix.length&&a.bytesPrefix.every((i,s)=>i===null||n[s]===i))return a.mediaType}var f9="5.0.115",Kne=async({url:e})=>{var t;const r=e.toString();try{const n=await fetch(r,{headers:T8({},`ai-sdk/${f9}`,jte())});if(!n.ok)throw new xh({url:r,statusCode:n.status,statusText:n.statusText});return{data:new Uint8Array(await n.arrayBuffer()),mediaType:(t=n.headers.get("content-type"))!=null?t:void 0}}catch(n){throw xh.isInstance(n)?n:new xh({url:r,cause:n})}},Xne=(e=Kne)=>t=>Promise.all(t.map(async r=>r.isUrlSupportedByModel?null:e(r)));function Jne(e){try{const[t,r]=e.split(",");return{mediaType:t.split(";")[0].split(":")[1],base64Content:r}}catch{return{mediaType:void 0,base64Content:void 0}}}var p9=Qr([Ve(),Pc(Uint8Array),Pc(ArrayBuffer),hQ(e=>{var t,r;return(r=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?r:!1},{message:"Must be a Buffer"})]);function m9(e){if(e instanceof Uint8Array)return{data:e,mediaType:void 0};if(e instanceof ArrayBuffer)return{data:new Uint8Array(e),mediaType:void 0};if(typeof e=="string")try{e=new URL(e)}catch{}if(e instanceof URL&&e.protocol==="data:"){const{mediaType:t,base64Content:r}=Jne(e.toString());if(t==null||r==null)throw new ct({name:"InvalidDataContentError",message:`Invalid data URL format in content ${e.toString()}`});return{data:r,mediaType:t}}return{data:e,mediaType:void 0}}function Qne(e){return typeof e=="string"?e:e instanceof ArrayBuffer?cp(new Uint8Array(e)):cp(e)}async function g9({prompt:e,supportedUrls:t,download:r=Xne()}){const n=await tae(e.messages,r,t);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(a=>eae({message:a,downloadedAssets:n}))]}function eae({message:e,downloadedAssets:t}){const r=e.role;switch(r){case"system":return{role:"system",content:e.content,providerOptions:e.providerOptions};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerOptions:e.providerOptions}:{role:"user",content:e.content.map(n=>rae(n,t)).filter(n=>n.type!=="text"||n.text!==""),providerOptions:e.providerOptions};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerOptions:e.providerOptions}:{role:"assistant",content:e.content.filter(n=>n.type!=="text"||n.text!==""||n.providerOptions!=null).map(n=>{const a=n.providerOptions;switch(n.type){case"file":{const{data:i,mediaType:s}=m9(n.data);return{type:"file",data:i,filename:n.filename,mediaType:s??n.mediaType,providerOptions:a}}case"reasoning":return{type:"reasoning",text:n.text,providerOptions:a};case"text":return{type:"text",text:n.text,providerOptions:a};case"tool-call":return{type:"tool-call",toolCallId:n.toolCallId,toolName:n.toolName,input:n.input,providerExecuted:n.providerExecuted,providerOptions:a};case"tool-result":return{type:"tool-result",toolCallId:n.toolCallId,toolName:n.toolName,output:n.output,providerOptions:a}}}),providerOptions:e.providerOptions};case"tool":return{role:"tool",content:e.content.map(n=>({type:"tool-result",toolCallId:n.toolCallId,toolName:n.toolName,output:n.output,providerOptions:n.providerOptions})),providerOptions:e.providerOptions};default:{const n=r;throw new Une({role:n})}}}async function tae(e,t,r){const n=e.filter(i=>i.role==="user").map(i=>i.content).filter(i=>Array.isArray(i)).flat().filter(i=>i.type==="image"||i.type==="file").map(i=>{var s;const o=(s=i.mediaType)!=null?s:i.type==="image"?"image/*":void 0;let u=i.type==="image"?i.image:i.data;if(typeof u=="string")try{u=new URL(u)}catch{}return{mediaType:o,data:u}}).filter(i=>i.data instanceof URL).map(i=>({url:i.data,isUrlSupportedByModel:i.mediaType!=null&&zte({url:i.data.toString(),mediaType:i.mediaType,supportedUrls:r})})),a=await t(n);return Object.fromEntries(a.map((i,s)=>i==null?null:[n[s].url.toString(),{data:i.data,mediaType:i.mediaType}]).filter(i=>i!=null))}function rae(e,t){var r;if(e.type==="text")return{type:"text",text:e.text,providerOptions:e.providerOptions};let n;const a=e.type;switch(a){case"image":n=e.image;break;case"file":n=e.data;break;default:throw new Error(`Unsupported part type: ${a}`)}const{data:i,mediaType:s}=m9(n);let o=s??e.mediaType,u=i;if(u instanceof URL){const l=t[u.toString()];l&&(u=l.data,o??(o=l.mediaType))}switch(a){case"image":return(u instanceof Uint8Array||typeof u=="string")&&(o=(r=Yne({data:u,signatures:Wne}))!=null?r:o),{type:"file",mediaType:o??"image/*",filename:void 0,data:u,providerOptions:e.providerOptions};case"file":{if(o==null)throw new Error("Media type is missing for file part");return{type:"file",mediaType:o,filename:e.filename,data:u,providerOptions:e.providerOptions}}}}function fp({maxOutputTokens:e,temperature:t,topP:r,topK:n,presencePenalty:a,frequencyPenalty:i,seed:s,stopSequences:o}){if(e!=null){if(!Number.isInteger(e))throw new Un({parameter:"maxOutputTokens",value:e,message:"maxOutputTokens must be an integer"});if(e<1)throw new Un({parameter:"maxOutputTokens",value:e,message:"maxOutputTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new Un({parameter:"temperature",value:t,message:"temperature must be a number"});if(r!=null&&typeof r!="number")throw new Un({parameter:"topP",value:r,message:"topP must be a number"});if(n!=null&&typeof n!="number")throw new Un({parameter:"topK",value:n,message:"topK must be a number"});if(a!=null&&typeof a!="number")throw new Un({parameter:"presencePenalty",value:a,message:"presencePenalty must be a number"});if(i!=null&&typeof i!="number")throw new Un({parameter:"frequencyPenalty",value:i,message:"frequencyPenalty must be a number"});if(s!=null&&!Number.isInteger(s))throw new Un({parameter:"seed",value:s,message:"seed must be an integer"});return{maxOutputTokens:e,temperature:t,topP:r,topK:n,presencePenalty:a,frequencyPenalty:i,stopSequences:o,seed:s}}function nae(e){return e!=null&&Object.keys(e).length>0}function y9({tools:e,toolChoice:t,activeTools:r}){return nae(e)?{tools:(r!=null?Object.entries(e).filter(([a])=>r.includes(a)):Object.entries(e)).map(([a,i])=>{const s=i.type;switch(s){case void 0:case"dynamic":case"function":return{type:"function",name:a,description:i.description,inputSchema:U0(i.inputSchema).jsonSchema,providerOptions:i.providerOptions};case"provider-defined":return{type:"provider-defined",name:a,id:i.id,args:i.args};default:{const o=s;throw new Error(`Unsupported tool type: ${o}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var Au=cQ(()=>Qr([FJ(),Ve(),Mc(),S7(),Os(Ve(),Au),Jr(Au)])),ha=Os(Ve(),Os(Ve(),Au)),b9=mt({type:Gt("text"),text:Ve(),providerOptions:ha.optional()}),aae=mt({type:Gt("image"),image:Qr([p9,Pc(URL)]),mediaType:Ve().optional(),providerOptions:ha.optional()}),v9=mt({type:Gt("file"),data:Qr([p9,Pc(URL)]),filename:Ve().optional(),mediaType:Ve(),providerOptions:ha.optional()}),iae=mt({type:Gt("reasoning"),text:Ve(),providerOptions:ha.optional()}),sae=mt({type:Gt("tool-call"),toolCallId:Ve(),toolName:Ve(),input:Fi(),providerOptions:ha.optional(),providerExecuted:S7().optional()}),oae=qJ("type",[mt({type:Gt("text"),value:Ve()}),mt({type:Gt("json"),value:Au}),mt({type:Gt("error-text"),value:Ve()}),mt({type:Gt("error-json"),value:Au}),mt({type:Gt("content"),value:Jr(Qr([mt({type:Gt("text"),text:Ve()}),mt({type:Gt("media"),data:Ve(),mediaType:Ve()})]))})]),x9=mt({type:Gt("tool-result"),toolCallId:Ve(),toolName:Ve(),output:oae,providerOptions:ha.optional()}),uae=mt({role:Gt("system"),content:Ve(),providerOptions:ha.optional()}),lae=mt({role:Gt("user"),content:Qr([Ve(),Jr(Qr([b9,aae,v9]))]),providerOptions:ha.optional()}),cae=mt({role:Gt("assistant"),content:Qr([Ve(),Jr(Qr([b9,v9,iae,sae,x9]))]),providerOptions:ha.optional()}),dae=mt({role:Gt("tool"),content:Jr(x9),providerOptions:ha.optional()}),hae=Qr([uae,lae,cae,dae]);async function w9(e){if(e.prompt==null&&e.messages==null)throw new ns({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new ns({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new ns({prompt:e,message:"system must be a string"});let t;if(e.prompt!=null&&typeof e.prompt=="string")t=[{role:"user",content:e.prompt}];else if(e.prompt!=null&&Array.isArray(e.prompt))t=e.prompt;else if(e.messages!=null)t=e.messages;else throw new ns({prompt:e,message:"prompt or messages must be defined"});if(t.length===0)throw new ns({prompt:e,message:"messages must not be empty"});const r=await el({value:t,schema:Jr(hae)});if(!r.success)throw new ns({prompt:e,message:"The messages must be a ModelMessage[]. If you have passed a UIMessage[], you can use convertToModelMessages to convert them.",cause:r.error});return{messages:t,system:e.system}}function T9(e){if(!_1.isInstance(e))return e;const t=(process==null?void 0:"production")==="production",r="https://ai-sdk.dev/unauthenticated-ai-gateway";return t?new ct({name:"GatewayError",message:`Unauthenticated. Configure AI_GATEWAY_API_KEY or use a provider module. Learn more: ${r}`}):Object.assign(new Error(`\x1B[1m\x1B[31mUnauthenticated request to AI Gateway.\x1B[0m

To authenticate, set the \x1B[33mAI_GATEWAY_API_KEY\x1B[0m environment variable with your API key.

Alternatively, you can use a provider module instead of the AI Gateway.

Learn more: \x1B[34m${r}\x1B[0m

`),{name:"GatewayAuthenticationError"})}function Fs({operationId:e,telemetry:t}){return{"operation.name":`${e}${t?.functionId!=null?` ${t.functionId}`:""}`,"resource.name":t?.functionId,"ai.operationId":e,"ai.telemetry.functionId":t?.functionId}}function E9({model:e,settings:t,telemetry:r,headers:n}){var a;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((i,[s,o])=>(i[`ai.settings.${s}`]=o,i),{}),...Object.entries((a=r?.metadata)!=null?a:{}).reduce((i,[s,o])=>(i[`ai.telemetry.metadata.${s}`]=o,i),{}),...Object.entries(n??{}).reduce((i,[s,o])=>(o!==void 0&&(i[`ai.request.headers.${s}`]=o),i),{})}}var fae={startSpan(){return Fl},startActiveSpan(e,t,r,n){if(typeof t=="function")return t(Fl);if(typeof r=="function")return r(Fl);if(typeof n=="function")return n(Fl)}},Fl={spanContext(){return pae},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},pae={traceId:"",spanId:"",traceFlags:0};function k9({isEnabled:e=!1,tracer:t}={}){return e?t||Sne.getTracer("ai"):fae}function Bs({name:e,tracer:t,attributes:r,fn:n,endWhenDone:a=!0}){return t.startActiveSpan(e,{attributes:r},async i=>{try{const s=await n(i);return a&&i.end(),s}catch(s){try{P1(i,s)}finally{i.end()}throw s}})}function P1(e,t){t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:Xc.ERROR,message:t.message})):e.setStatus({code:Xc.ERROR})}function fn({telemetry:e,attributes:t}){return e?.isEnabled!==!0?{}:Object.entries(t).reduce((r,[n,a])=>{if(a==null)return r;if(typeof a=="object"&&"input"in a&&typeof a.input=="function"){if(e?.recordInputs===!1)return r;const i=a.input();return i==null?r:{...r,[n]:i}}if(typeof a=="object"&&"output"in a&&typeof a.output=="function"){if(e?.recordOutputs===!1)return r;const i=a.output();return i==null?r:{...r,[n]:i}}return{...r,[n]:a}},{})}function _9(e){return JSON.stringify(e.map(t=>({...t,content:typeof t.content=="string"?t.content:t.content.map(r=>r.type==="file"?{...r,data:r.data instanceof Uint8Array?Qne(r.data):r.data}:r)})))}function S9(e,t){return{inputTokens:To(e.inputTokens,t.inputTokens),outputTokens:To(e.outputTokens,t.outputTokens),totalTokens:To(e.totalTokens,t.totalTokens),reasoningTokens:To(e.reasoningTokens,t.reasoningTokens),cachedInputTokens:To(e.cachedInputTokens,t.cachedInputTokens)}}function To(e,t){return e==null&&t==null?void 0:(e??0)+(t??0)}function pp(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function mae({error:e,exponentialBackoffDelay:t}){const r=e.responseHeaders;if(!r)return t;let n;const a=r["retry-after-ms"];if(a){const s=parseFloat(a);Number.isNaN(s)||(n=s)}const i=r["retry-after"];if(i&&n===void 0){const s=parseFloat(i);Number.isNaN(s)?n=Date.parse(i)-Date.now():n=s*1e3}return n!=null&&!Number.isNaN(n)&&0<=n&&(n<60*1e3||n<t)?n:t}var gae=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:r=2,abortSignal:n}={})=>async a=>A9(a,{maxRetries:e,delayInMs:t,backoffFactor:r,abortSignal:n});async function A9(e,{maxRetries:t,delayInMs:r,backoffFactor:n,abortSignal:a},i=[]){try{return await e()}catch(s){if(w8(s)||t===0)throw s;const o=S1(s),u=[...i,s],l=u.length;if(l>t)throw new r4({message:`Failed after ${l} attempts. Last error: ${o}`,reason:"maxRetriesExceeded",errors:u});if(s instanceof Error&&Nte.isInstance(s)&&s.isRetryable===!0&&l<=t)return await Fte(mae({error:s,exponentialBackoffDelay:r}),{abortSignal:a}),A9(e,{maxRetries:t,delayInMs:n*r,backoffFactor:n,abortSignal:a},u);throw l===1?s:new r4({message:`Failed after ${l} attempts with non-retryable error: '${o}'`,reason:"errorNotRetryable",errors:u})}}function C9({maxRetries:e,abortSignal:t}){if(e!=null){if(!Number.isInteger(e))throw new Un({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new Un({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}const r=e??2;return{maxRetries:r,retry:gae({maxRetries:r,abortSignal:t})}}function n4(e){const t=e.filter(r=>r.type==="text");if(t.length!==0)return t.map(r=>r.text).join("")}var I9=class{constructor({data:e,mediaType:t}){const r=e instanceof Uint8Array;this.base64Data=r?void 0:e,this.uint8ArrayData=r?e:void 0,this.mediaType=t}get base64(){return this.base64Data==null&&(this.base64Data=cp(this.uint8ArrayData)),this.base64Data}get uint8Array(){return this.uint8ArrayData==null&&(this.uint8ArrayData=C1(this.base64Data)),this.uint8ArrayData}},yae=class extends I9{constructor(e){super(e),this.type="file"}};async function N9({toolCall:e,tools:t,repairToolCall:r,system:n,messages:a}){try{if(t==null)throw new hp({toolName:e.toolName});try{return await a4({toolCall:e,tools:t})}catch(i){if(r==null||!(hp.isInstance(i)||q8.isInstance(i)))throw i;let s=null;try{s=await r({toolCall:e,tools:t,inputSchema:({toolName:o})=>{const{inputSchema:u}=t[o];return U0(u).jsonSchema},system:n,messages:a,error:i})}catch(o){throw new jne({cause:o,originalError:i})}if(s==null)throw i;return await a4({toolCall:s,tools:t})}}catch(i){const s=await Eu({text:e.input}),o=s.success?s.value:e.input;return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:o,dynamic:!0,invalid:!0,error:i,providerMetadata:e.providerMetadata}}}async function a4({toolCall:e,tools:t}){const r=e.toolName,n=t[r];if(n==null)throw new hp({toolName:e.toolName,availableTools:Object.keys(t)});const a=U0(n.inputSchema),i=e.input.trim()===""?await el({value:{},schema:a}):await Eu({text:e.input,schema:a});if(i.success===!1)throw new q8({toolName:r,toolInput:e.input,cause:i.error});return n.type==="dynamic"?{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:i.value,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata,dynamic:!0}:{type:"tool-call",toolCallId:e.toolCallId,toolName:r,input:i.value,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}}var R9=class{constructor({content:e,finishReason:t,usage:r,warnings:n,request:a,response:i,providerMetadata:s}){this.content=e,this.finishReason=t,this.usage=r,this.warnings=n,this.request=a,this.response=i,this.providerMetadata=s}get text(){return this.content.filter(e=>e.type==="text").map(e=>e.text).join("")}get reasoning(){return this.content.filter(e=>e.type==="reasoning")}get reasoningText(){return this.reasoning.length===0?void 0:this.reasoning.map(e=>e.text).join("")}get files(){return this.content.filter(e=>e.type==="file").map(e=>e.file)}get sources(){return this.content.filter(e=>e.type==="source")}get toolCalls(){return this.content.filter(e=>e.type==="tool-call")}get staticToolCalls(){return this.toolCalls.filter(e=>e.dynamic!==!0)}get dynamicToolCalls(){return this.toolCalls.filter(e=>e.dynamic===!0)}get toolResults(){return this.content.filter(e=>e.type==="tool-result")}get staticToolResults(){return this.toolResults.filter(e=>e.dynamic!==!0)}get dynamicToolResults(){return this.toolResults.filter(e=>e.dynamic===!0)}};function O9(e){return({steps:t})=>t.length===e}async function M9({stopConditions:e,steps:t}){return(await Promise.all(e.map(r=>r({steps:t})))).some(r=>r)}function wh({output:e,tool:t,errorMode:r}){return r==="text"?{type:"error-text",value:ro(e)}:r==="json"?{type:"error-json",value:i4(e)}:t?.toModelOutput?t.toModelOutput(e):typeof e=="string"?{type:"text",value:e}:{type:"json",value:i4(e)}}function i4(e){return e===void 0?null:e}function mp({content:e,tools:t}){const r=[],n=e.filter(i=>i.type!=="source").filter(i=>(i.type!=="tool-result"||i.providerExecuted)&&(i.type!=="tool-error"||i.providerExecuted)).filter(i=>i.type!=="text"||i.text.length>0).map(i=>{switch(i.type){case"text":return{type:"text",text:i.text,providerOptions:i.providerMetadata};case"reasoning":return{type:"reasoning",text:i.text,providerOptions:i.providerMetadata};case"file":return{type:"file",data:i.file.base64,mediaType:i.file.mediaType,providerOptions:i.providerMetadata};case"tool-call":return{type:"tool-call",toolCallId:i.toolCallId,toolName:i.toolName,input:i.input,providerExecuted:i.providerExecuted,providerOptions:i.providerMetadata};case"tool-result":return{type:"tool-result",toolCallId:i.toolCallId,toolName:i.toolName,output:wh({tool:t?.[i.toolName],output:i.output,errorMode:"none"}),providerExecuted:!0,providerOptions:i.providerMetadata};case"tool-error":return{type:"tool-result",toolCallId:i.toolCallId,toolName:i.toolName,output:wh({tool:t?.[i.toolName],output:i.error,errorMode:"json"}),providerOptions:i.providerMetadata}}});n.length>0&&r.push({role:"assistant",content:n});const a=e.filter(i=>i.type==="tool-result"||i.type==="tool-error").filter(i=>!i.providerExecuted).map(i=>({type:"tool-result",toolCallId:i.toolCallId,toolName:i.toolName,output:wh({tool:t?.[i.toolName],output:i.type==="tool-result"?i.output:i.error,errorMode:i.type==="tool-error"?"text":"none"}),...i.providerMetadata!=null?{providerOptions:i.providerMetadata}:{}}));return a.length>0&&r.push({role:"tool",content:a}),r}var bae=Qu({prefix:"aitxt",size:24});async function vae({model:e,tools:t,toolChoice:r,system:n,prompt:a,messages:i,maxRetries:s,abortSignal:o,headers:u,stopWhen:l=O9(1),experimental_output:c,experimental_telemetry:d,providerOptions:h,experimental_activeTools:f,activeTools:p=f,experimental_prepareStep:g,prepareStep:T=g,experimental_repairToolCall:y,experimental_download:x,experimental_context:_,_internal:{generateId:k=bae,currentDate:C=()=>new Date}={},onStepFinish:A,...P}){const D=Jc(e),$=pp(l),{maxRetries:F,retry:q}=C9({maxRetries:s,abortSignal:o}),U=fp(P),ee=T8(u??{},`ai/${f9}`),Z=E9({model:D,telemetry:d,headers:ee,settings:{...U,maxRetries:F}}),J=await w9({system:n,prompt:a,messages:i}),be=k9(d);try{return await Bs({name:"ai.generateText",attributes:fn({telemetry:d,attributes:{...Fs({operationId:"ai.generateText",telemetry:d}),...Z,"ai.model.provider":D.provider,"ai.model.id":D.modelId,"ai.prompt":{input:()=>JSON.stringify({system:n,prompt:a,messages:i})}}}),tracer:be,fn:async Te=>{var ye,ne,R,pe,W,O,Ie;const me=fp(P);let ge,ae=[],Me=[];const Ue=[],at=[];do{const kt=[...J.messages,...Ue],We=await T?.({model:D,steps:at,stepNumber:at.length,messages:kt}),it=Jc((ye=We?.model)!=null?ye:D),At=await g9({prompt:{system:(ne=We?.system)!=null?ne:J.system,messages:(R=We?.messages)!=null?R:kt},supportedUrls:await it.supportedUrls,download:x}),{toolChoice:Ze,tools:Vt}=y9({tools:t,toolChoice:(pe=We?.toolChoice)!=null?pe:r,activeTools:(W=We?.activeTools)!=null?W:p});ge=await q(()=>{var xt;return Bs({name:"ai.generateText.doGenerate",attributes:fn({telemetry:d,attributes:{...Fs({operationId:"ai.generateText.doGenerate",telemetry:d}),...Z,"ai.model.provider":it.provider,"ai.model.id":it.modelId,"ai.prompt.messages":{input:()=>_9(At)},"ai.prompt.tools":{input:()=>Vt?.map(an=>JSON.stringify(an))},"ai.prompt.toolChoice":{input:()=>Ze!=null?JSON.stringify(Ze):void 0},"gen_ai.system":it.provider,"gen_ai.request.model":it.modelId,"gen_ai.request.frequency_penalty":P.frequencyPenalty,"gen_ai.request.max_tokens":P.maxOutputTokens,"gen_ai.request.presence_penalty":P.presencePenalty,"gen_ai.request.stop_sequences":P.stopSequences,"gen_ai.request.temperature":(xt=P.temperature)!=null?xt:void 0,"gen_ai.request.top_k":P.topK,"gen_ai.request.top_p":P.topP}}),tracer:be,fn:async an=>{var gi,K,oe,Pe,Ge,st,or,sn;const wt=await it.doGenerate({...me,tools:Vt,toolChoice:Ze,responseFormat:c?.responseFormat,prompt:At,providerOptions:h,abortSignal:o,headers:ee}),wr={id:(K=(gi=wt.response)==null?void 0:gi.id)!=null?K:k(),timestamp:(Pe=(oe=wt.response)==null?void 0:oe.timestamp)!=null?Pe:C(),modelId:(st=(Ge=wt.response)==null?void 0:Ge.modelId)!=null?st:it.modelId,headers:(or=wt.response)==null?void 0:or.headers,body:(sn=wt.response)==null?void 0:sn.body};return an.setAttributes(fn({telemetry:d,attributes:{"ai.response.finishReason":wt.finishReason,"ai.response.text":{output:()=>n4(wt.content)},"ai.response.toolCalls":{output:()=>{const Tr=s4(wt.content);return Tr==null?void 0:JSON.stringify(Tr)}},"ai.response.id":wr.id,"ai.response.model":wr.modelId,"ai.response.timestamp":wr.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(wt.providerMetadata),"ai.usage.promptTokens":wt.usage.inputTokens,"ai.usage.completionTokens":wt.usage.outputTokens,"gen_ai.response.finish_reasons":[wt.finishReason],"gen_ai.response.id":wr.id,"gen_ai.response.model":wr.modelId,"gen_ai.usage.input_tokens":wt.usage.inputTokens,"gen_ai.usage.output_tokens":wt.usage.outputTokens}})),{...wt,response:wr}}})});const sr=await Promise.all(ge.content.filter(xt=>xt.type==="tool-call").map(xt=>N9({toolCall:xt,tools:t,repairToolCall:y,system:n,messages:kt})));for(const xt of sr){if(xt.invalid)continue;const an=t[xt.toolName];an?.onInputAvailable!=null&&await an.onInputAvailable({input:xt.input,toolCallId:xt.toolCallId,messages:kt,abortSignal:o,experimental_context:_})}const Ee=sr.filter(xt=>xt.invalid&&xt.dynamic);Me=[];for(const xt of Ee)Me.push({type:"tool-error",toolCallId:xt.toolCallId,toolName:xt.toolName,input:xt.input,error:S1(xt.error),dynamic:!0});ae=sr.filter(xt=>!xt.providerExecuted),t!=null&&Me.push(...await xae({toolCalls:ae.filter(xt=>!xt.invalid),tools:t,tracer:be,telemetry:d,messages:kt,abortSignal:o,experimental_context:_}));const vt=Tae({content:ge.content,toolCalls:sr,toolOutputs:Me});Ue.push(...mp({content:vt,tools:t}));const Fn=new R9({content:vt,finishReason:ge.finishReason,usage:ge.usage,warnings:ge.warnings,providerMetadata:ge.providerMetadata,request:(O=ge.request)!=null?O:{},response:{...ge.response,messages:structuredClone(Ue)}});B8((Ie=ge.warnings)!=null?Ie:[]),at.push(Fn),await A?.(Fn)}while(ae.length>0&&Me.length===ae.length&&!await M9({stopConditions:$,steps:at}));Te.setAttributes(fn({telemetry:d,attributes:{"ai.response.finishReason":ge.finishReason,"ai.response.text":{output:()=>n4(ge.content)},"ai.response.toolCalls":{output:()=>{const kt=s4(ge.content);return kt==null?void 0:JSON.stringify(kt)}},"ai.response.providerMetadata":JSON.stringify(ge.providerMetadata),"ai.usage.promptTokens":ge.usage.inputTokens,"ai.usage.completionTokens":ge.usage.outputTokens}}));const Ot=at[at.length-1];let Wr;return Ot.finishReason==="stop"&&(Wr=await c?.parseOutput({text:Ot.text},{response:Ot.response,usage:Ot.usage,finishReason:Ot.finishReason})),new wae({steps:at,resolvedOutput:Wr})}})}catch(Te){throw T9(Te)}}async function xae({toolCalls:e,tools:t,tracer:r,telemetry:n,messages:a,abortSignal:i,experimental_context:s}){return(await Promise.all(e.map(async({toolCallId:u,toolName:l,input:c})=>{const d=t[l];if(d?.execute!=null)return Bs({name:"ai.toolCall",attributes:fn({telemetry:n,attributes:{...Fs({operationId:"ai.toolCall",telemetry:n}),"ai.toolCall.name":l,"ai.toolCall.id":u,"ai.toolCall.args":{output:()=>JSON.stringify(c)}}}),tracer:r,fn:async h=>{try{const f=A8({execute:d.execute.bind(d),input:c,options:{toolCallId:u,messages:a,abortSignal:i,experimental_context:s}});let p;for await(const g of f)g.type==="final"&&(p=g.output);try{h.setAttributes(fn({telemetry:n,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(p)}}}))}catch{}return{type:"tool-result",toolCallId:u,toolName:l,input:c,output:p,dynamic:d.type==="dynamic"}}catch(f){return P1(h,f),{type:"tool-error",toolCallId:u,toolName:l,input:c,error:f,dynamic:d.type==="dynamic"}}}})}))).filter(u=>u!=null)}var wae=class{constructor(e){this.steps=e.steps,this.resolvedOutput=e.resolvedOutput}get finalStep(){return this.steps[this.steps.length-1]}get content(){return this.finalStep.content}get text(){return this.finalStep.text}get files(){return this.finalStep.files}get reasoningText(){return this.finalStep.reasoningText}get reasoning(){return this.finalStep.reasoning}get toolCalls(){return this.finalStep.toolCalls}get staticToolCalls(){return this.finalStep.staticToolCalls}get dynamicToolCalls(){return this.finalStep.dynamicToolCalls}get toolResults(){return this.finalStep.toolResults}get staticToolResults(){return this.finalStep.staticToolResults}get dynamicToolResults(){return this.finalStep.dynamicToolResults}get sources(){return this.finalStep.sources}get finishReason(){return this.finalStep.finishReason}get warnings(){return this.finalStep.warnings}get providerMetadata(){return this.finalStep.providerMetadata}get response(){return this.finalStep.response}get request(){return this.finalStep.request}get usage(){return this.finalStep.usage}get totalUsage(){return this.steps.reduce((e,t)=>S9(e,t.usage),{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0,reasoningTokens:void 0,cachedInputTokens:void 0})}get experimental_output(){if(this.resolvedOutput==null)throw new F8;return this.resolvedOutput}};function s4(e){const t=e.filter(r=>r.type==="tool-call");if(t.length!==0)return t.map(r=>({toolCallId:r.toolCallId,toolName:r.toolName,input:r.input}))}function Tae({content:e,toolCalls:t,toolOutputs:r}){return[...e.map(n=>{switch(n.type){case"text":case"reasoning":case"source":return n;case"file":return{type:"file",file:new I9(n)};case"tool-call":return t.find(a=>a.toolCallId===n.toolCallId);case"tool-result":{const a=t.find(i=>i.toolCallId===n.toolCallId);if(a==null)throw new Error(`Tool call ${n.toolCallId} not found.`);return n.isError?{type:"tool-error",toolCallId:n.toolCallId,toolName:n.toolName,input:a.input,error:n.result,providerExecuted:!0,dynamic:a.dynamic}:{type:"tool-result",toolCallId:n.toolCallId,toolName:n.toolName,input:a.input,output:n.result,providerExecuted:!0,dynamic:a.dynamic}}}}),...r]}function H0(e,t){const r=new Headers(e??{});for(const[n,a]of Object.entries(t))r.has(n)||r.set(n,a);return r}function Eae({status:e,statusText:t,headers:r,textStream:n}){return new Response(n.pipeThrough(new TextEncoderStream),{status:e??200,statusText:t,headers:H0(r,{"content-type":"text/plain; charset=utf-8"})})}function P9({response:e,status:t,statusText:r,headers:n,stream:a}){const i=t??200;r!==void 0?e.writeHead(i,r,n):e.writeHead(i,n);const s=a.getReader();(async()=>{try{for(;;){const{done:u,value:l}=await s.read();if(u)break;e.write(l)||await new Promise(d=>{e.once("drain",d)})}}catch(u){throw u}finally{e.end()}})()}function kae({response:e,status:t,statusText:r,headers:n,textStream:a}){P9({response:e,status:t,statusText:r,headers:Object.fromEntries(H0(n,{"content-type":"text/plain; charset=utf-8"}).entries()),stream:a.pipeThrough(new TextEncoderStream)})}var D9=class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}},L9={"content-type":"text/event-stream","cache-control":"no-cache",connection:"keep-alive","x-vercel-ai-ui-message-stream":"v1","x-accel-buffering":"no"};function _ae({status:e,statusText:t,headers:r,stream:n,consumeSseStream:a}){let i=n.pipeThrough(new D9);if(a){const[s,o]=i.tee();i=s,a({stream:o})}return new Response(i.pipeThrough(new TextEncoderStream),{status:e,statusText:t,headers:H0(r,L9)})}function Sae({originalMessages:e,responseMessageId:t}){if(e==null)return;const r=e[e.length-1];return r?.role==="assistant"?r.id:typeof t=="function"?t():t}function Aae(e){return e.type.startsWith("data-")}function F9(e,t){if(e===void 0&&t===void 0)return;if(e===void 0)return t;if(t===void 0)return e;const r={...e};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const a=t[n];if(a===void 0)continue;const i=n in e?e[n]:void 0,s=a!==null&&typeof a=="object"&&!Array.isArray(a)&&!(a instanceof Date)&&!(a instanceof RegExp),o=i!=null&&typeof i=="object"&&!Array.isArray(i)&&!(i instanceof Date)&&!(i instanceof RegExp);s&&o?r[n]=F9(i,a):r[n]=a}return r}function Cae(e){const t=["ROOT"];let r=-1,n=null;function a(u,l,c){switch(u){case'"':{r=l,t.pop(),t.push(c),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{r=l,n=l,t.pop(),t.push(c),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(c),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=l,t.pop(),t.push(c),t.push("INSIDE_NUMBER");break}case"{":{r=l,t.pop(),t.push(c),t.push("INSIDE_OBJECT_START");break}case"[":{r=l,t.pop(),t.push(c),t.push("INSIDE_ARRAY_START");break}}}function i(u,l){switch(u){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{r=l,t.pop();break}}}function s(u,l){switch(u){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=l,t.pop();break}}}for(let u=0;u<e.length;u++){const l=e[u];switch(t[t.length-1]){case"ROOT":a(l,u,"FINISH");break;case"INSIDE_OBJECT_START":{switch(l){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{r=u,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{l==='"'&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break}case"INSIDE_OBJECT_KEY":{l==='"'&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break}case"INSIDE_OBJECT_AFTER_KEY":{l===":"&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(l,u,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{i(l,u);break}case"INSIDE_STRING":{switch(l){case'"':{t.pop(),r=u;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:r=u}break}case"INSIDE_ARRAY_START":{l==="]"?(r=u,t.pop()):(r=u,a(l,u,"INSIDE_ARRAY_AFTER_VALUE"));break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(l){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=u,t.pop();break}default:{r=u;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(l,u,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),r=u;break}case"INSIDE_NUMBER":{switch(l){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=u;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(l,u),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&i(l,u);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&i(l,u);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(l,u);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const d=e.substring(n,u+1);!"false".startsWith(d)&&!"true".startsWith(d)&&!"null".startsWith(d)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?i(l,u):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(l,u)):r=u;break}}}let o=e.slice(0,r+1);for(let u=t.length-1;u>=0;u--)switch(t[u]){case"INSIDE_STRING":{o+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{o+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{o+="]";break}case"INSIDE_LITERAL":{const c=e.substring(n,e.length);"true".startsWith(c)?o+="true".slice(c.length):"false".startsWith(c)?o+="false".slice(c.length):"null".startsWith(c)&&(o+="null".slice(c.length))}}return o}async function B9(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await Eu({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await Eu({text:Cae(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}function Th(e){return e.type.startsWith("tool-")}function o4(e){return e.type.split("-").slice(1).join("-")}function Iae({lastMessage:e,messageId:t}){return{message:e?.role==="assistant"?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function Nae({stream:e,messageMetadataSchema:t,dataPartSchemas:r,runUpdateMessageJob:n,onError:a,onToolCall:i,onData:s}){return e.pipeThrough(new TransformStream({async transform(o,u){await n(async({state:l,write:c})=>{var d,h,f,p;function g(k){const A=l.message.parts.filter(Th).find(P=>P.toolCallId===k);if(A==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return A}function T(k){const A=l.message.parts.filter(P=>P.type==="dynamic-tool").find(P=>P.toolCallId===k);if(A==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return A}function y(k){var C;const A=l.message.parts.find($=>Th($)&&$.toolCallId===k.toolCallId),P=k,D=A;A!=null?(A.state=k.state,D.input=P.input,D.output=P.output,D.errorText=P.errorText,D.rawInput=P.rawInput,D.preliminary=P.preliminary,D.providerExecuted=(C=P.providerExecuted)!=null?C:A.providerExecuted,P.providerMetadata!=null&&A.state==="input-available"&&(A.callProviderMetadata=P.providerMetadata)):l.message.parts.push({type:`tool-${k.toolName}`,toolCallId:k.toolCallId,state:k.state,input:P.input,output:P.output,rawInput:P.rawInput,errorText:P.errorText,providerExecuted:P.providerExecuted,preliminary:P.preliminary,...P.providerMetadata!=null?{callProviderMetadata:P.providerMetadata}:{}})}function x(k){var C,A;const P=l.message.parts.find(F=>F.type==="dynamic-tool"&&F.toolCallId===k.toolCallId),D=k,$=P;P!=null?(P.state=k.state,$.toolName=k.toolName,$.input=D.input,$.output=D.output,$.errorText=D.errorText,$.rawInput=(C=D.rawInput)!=null?C:$.rawInput,$.preliminary=D.preliminary,$.providerExecuted=(A=D.providerExecuted)!=null?A:P.providerExecuted,D.providerMetadata!=null&&P.state==="input-available"&&(P.callProviderMetadata=D.providerMetadata)):l.message.parts.push({type:"dynamic-tool",toolName:k.toolName,toolCallId:k.toolCallId,state:k.state,input:D.input,output:D.output,errorText:D.errorText,preliminary:D.preliminary,providerExecuted:D.providerExecuted,...D.providerMetadata!=null?{callProviderMetadata:D.providerMetadata}:{}})}async function _(k){if(k!=null){const C=l.message.metadata!=null?F9(l.message.metadata,k):k;t!=null&&await Yv({value:C,schema:t}),l.message.metadata=C}}switch(o.type){case"text-start":{const k={type:"text",text:"",providerMetadata:o.providerMetadata,state:"streaming"};l.activeTextParts[o.id]=k,l.message.parts.push(k),c();break}case"text-delta":{const k=l.activeTextParts[o.id];k.text+=o.delta,k.providerMetadata=(d=o.providerMetadata)!=null?d:k.providerMetadata,c();break}case"text-end":{const k=l.activeTextParts[o.id];k.state="done",k.providerMetadata=(h=o.providerMetadata)!=null?h:k.providerMetadata,delete l.activeTextParts[o.id],c();break}case"reasoning-start":{const k={type:"reasoning",text:"",providerMetadata:o.providerMetadata,state:"streaming"};l.activeReasoningParts[o.id]=k,l.message.parts.push(k),c();break}case"reasoning-delta":{const k=l.activeReasoningParts[o.id];k.text+=o.delta,k.providerMetadata=(f=o.providerMetadata)!=null?f:k.providerMetadata,c();break}case"reasoning-end":{const k=l.activeReasoningParts[o.id];k.providerMetadata=(p=o.providerMetadata)!=null?p:k.providerMetadata,k.state="done",delete l.activeReasoningParts[o.id],c();break}case"file":{l.message.parts.push({type:"file",mediaType:o.mediaType,url:o.url}),c();break}case"source-url":{l.message.parts.push({type:"source-url",sourceId:o.sourceId,url:o.url,title:o.title,providerMetadata:o.providerMetadata}),c();break}case"source-document":{l.message.parts.push({type:"source-document",sourceId:o.sourceId,mediaType:o.mediaType,title:o.title,filename:o.filename,providerMetadata:o.providerMetadata}),c();break}case"tool-input-start":{const k=l.message.parts.filter(Th);l.partialToolCalls[o.toolCallId]={text:"",toolName:o.toolName,index:k.length,dynamic:o.dynamic},o.dynamic?x({toolCallId:o.toolCallId,toolName:o.toolName,state:"input-streaming",input:void 0,providerExecuted:o.providerExecuted}):y({toolCallId:o.toolCallId,toolName:o.toolName,state:"input-streaming",input:void 0,providerExecuted:o.providerExecuted}),c();break}case"tool-input-delta":{const k=l.partialToolCalls[o.toolCallId];k.text+=o.inputTextDelta;const{value:C}=await B9(k.text);k.dynamic?x({toolCallId:o.toolCallId,toolName:k.toolName,state:"input-streaming",input:C}):y({toolCallId:o.toolCallId,toolName:k.toolName,state:"input-streaming",input:C}),c();break}case"tool-input-available":{o.dynamic?x({toolCallId:o.toolCallId,toolName:o.toolName,state:"input-available",input:o.input,providerExecuted:o.providerExecuted,providerMetadata:o.providerMetadata}):y({toolCallId:o.toolCallId,toolName:o.toolName,state:"input-available",input:o.input,providerExecuted:o.providerExecuted,providerMetadata:o.providerMetadata}),c(),i&&!o.providerExecuted&&await i({toolCall:o});break}case"tool-input-error":{o.dynamic?x({toolCallId:o.toolCallId,toolName:o.toolName,state:"output-error",input:o.input,errorText:o.errorText,providerExecuted:o.providerExecuted,providerMetadata:o.providerMetadata}):y({toolCallId:o.toolCallId,toolName:o.toolName,state:"output-error",input:void 0,rawInput:o.input,errorText:o.errorText,providerExecuted:o.providerExecuted,providerMetadata:o.providerMetadata}),c();break}case"tool-output-available":{if(o.dynamic){const k=T(o.toolCallId);x({toolCallId:o.toolCallId,toolName:k.toolName,state:"output-available",input:k.input,output:o.output,preliminary:o.preliminary})}else{const k=g(o.toolCallId);y({toolCallId:o.toolCallId,toolName:o4(k),state:"output-available",input:k.input,output:o.output,providerExecuted:o.providerExecuted,preliminary:o.preliminary})}c();break}case"tool-output-error":{if(o.dynamic){const k=T(o.toolCallId);x({toolCallId:o.toolCallId,toolName:k.toolName,state:"output-error",input:k.input,errorText:o.errorText,providerExecuted:o.providerExecuted})}else{const k=g(o.toolCallId);y({toolCallId:o.toolCallId,toolName:o4(k),state:"output-error",input:k.input,rawInput:k.rawInput,errorText:o.errorText,providerExecuted:o.providerExecuted})}c();break}case"start-step":{l.message.parts.push({type:"step-start"});break}case"finish-step":{l.activeTextParts={},l.activeReasoningParts={};break}case"start":{o.messageId!=null&&(l.message.id=o.messageId),await _(o.messageMetadata),(o.messageId!=null||o.messageMetadata!=null)&&c();break}case"finish":{o.finishReason!=null&&(l.finishReason=o.finishReason),await _(o.messageMetadata),o.messageMetadata!=null&&c();break}case"message-metadata":{await _(o.messageMetadata),o.messageMetadata!=null&&c();break}case"error":{a?.(new Error(o.errorText));break}default:if(Aae(o)){r?.[o.type]!=null&&await Yv({value:o.data,schema:r[o.type]});const k=o;if(k.transient){s?.(k);break}const C=k.id!=null?l.message.parts.find(A=>k.type===A.type&&k.id===A.id):void 0;C!=null?C.data=k.data:l.message.parts.push(k),s?.(k),c()}}u.enqueue(o)})}}))}function Rae({messageId:e,originalMessages:t=[],onFinish:r,onError:n,stream:a}){let i=t?.[t.length-1];i?.role!=="assistant"?i=void 0:e=i.id;let s=!1;const o=a.pipeThrough(new TransformStream({transform(h,f){if(h.type==="start"){const p=h;p.messageId==null&&e!=null&&(p.messageId=e)}h.type==="abort"&&(s=!0),f.enqueue(h)}}));if(r==null)return o;const u=Iae({lastMessage:i?structuredClone(i):void 0,messageId:e??""}),l=async h=>{await h({state:u,write:()=>{}})};let c=!1;const d=async()=>{if(c||!r)return;c=!0;const h=u.message.id===i?.id;await r({isAborted:s,isContinuation:h,responseMessage:u.message,messages:[...h?t.slice(0,-1):t,u.message],finishReason:u.finishReason})};return Nae({stream:o,runUpdateMessageJob:l,onError:n}).pipeThrough(new TransformStream({transform(h,f){f.enqueue(h)},async cancel(){await d()},async flush(){await d()}}))}function Oae({response:e,status:t,statusText:r,headers:n,stream:a,consumeSseStream:i}){let s=a.pipeThrough(new D9);if(i){const[o,u]=s.tee();s=o,i({stream:u})}P9({response:e,status:t,statusText:r,headers:Object.fromEntries(H0(n,L9).entries()),stream:s.pipeThrough(new TextEncoderStream)})}function Bl(e){const t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=function(){const r=this.getReader();let n=!1;async function a(i){var s;n=!0;try{i&&await((s=r.cancel)==null?void 0:s.call(r))}finally{try{r.releaseLock()}catch{}}}return{async next(){if(n)return{done:!0,value:void 0};const{done:i,value:s}=await r.read();return i?(await a(!0),{done:!0,value:void 0}):{done:!1,value:s}},async return(){return await a(!0),{done:!0,value:void 0}},async throw(i){throw await a(!0),i}}},t}async function Mae({stream:e,onError:t}){const r=e.getReader();try{for(;;){const{done:n}=await r.read();if(n)break}}catch(n){t?.(n)}finally{r.releaseLock()}}function u4(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}function Pae(){let e=[],t=null,r=!1,n=u4();const a=()=>{r=!0,n.resolve(),e.forEach(s=>s.cancel()),e=[],t?.close()},i=async()=>{if(r&&e.length===0){t?.close();return}if(e.length===0)return n=u4(),await n.promise,i();try{const{value:s,done:o}=await e[0].read();o?(e.shift(),e.length>0?await i():r&&t?.close()):t?.enqueue(s)}catch(s){t?.error(s),e.shift(),a()}};return{stream:new ReadableStream({start(s){t=s},pull:i,async cancel(){for(const s of e)await s.cancel();e=[],r=!0}}),addStream:s=>{if(r)throw new Error("Cannot add inner stream: outer stream is closed");e.push(s.getReader()),n.resolve()},close:()=>{r=!0,n.resolve(),e.length===0&&t?.close()},terminate:a}}function Dae(){var e,t;return(t=(e=globalThis?.performance)==null?void 0:e.now())!=null?t:Date.now()}function Lae({tools:e,generatorStream:t,tracer:r,telemetry:n,system:a,messages:i,abortSignal:s,repairToolCall:o,experimental_context:u}){let l=null;const c=new ReadableStream({start(y){l=y}}),d=new Set,h=new Map;let f=!1,p;function g(){f&&d.size===0&&(p!=null&&l.enqueue(p),l.close())}const T=new TransformStream({async transform(y,x){const _=y.type;switch(_){case"stream-start":case"text-start":case"text-delta":case"text-end":case"reasoning-start":case"reasoning-delta":case"reasoning-end":case"tool-input-start":case"tool-input-delta":case"tool-input-end":case"source":case"response-metadata":case"error":case"raw":{x.enqueue(y);break}case"file":{x.enqueue({type:"file",file:new yae({data:y.data,mediaType:y.mediaType})});break}case"finish":{p={type:"finish",finishReason:y.finishReason,usage:y.usage,providerMetadata:y.providerMetadata};break}case"tool-call":{try{const k=await N9({toolCall:y,tools:e,repairToolCall:o,system:a,messages:i});if(x.enqueue(k),k.invalid){l.enqueue({type:"tool-error",toolCallId:k.toolCallId,toolName:k.toolName,input:k.input,error:S1(k.error),dynamic:!0});break}const C=e[k.toolName];if(h.set(k.toolCallId,k.input),C.onInputAvailable!=null&&await C.onInputAvailable({input:k.input,toolCallId:k.toolCallId,messages:i,abortSignal:s,experimental_context:u}),C.execute!=null&&k.providerExecuted!==!0){const A=Bte();d.add(A),Bs({name:"ai.toolCall",attributes:fn({telemetry:n,attributes:{...Fs({operationId:"ai.toolCall",telemetry:n}),"ai.toolCall.name":k.toolName,"ai.toolCall.id":k.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(k.input)}}}),tracer:r,fn:async P=>{let D;try{const $=A8({execute:C.execute.bind(C),input:k.input,options:{toolCallId:k.toolCallId,messages:i,abortSignal:s,experimental_context:u}});for await(const F of $)l.enqueue({...k,type:"tool-result",output:F.output,...F.type==="preliminary"&&{preliminary:!0}}),F.type==="final"&&(D=F.output)}catch($){P1(P,$),l.enqueue({...k,type:"tool-error",error:$}),d.delete(A),g();return}d.delete(A),g();try{P.setAttributes(fn({telemetry:n,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(D)}}}))}catch{}}})}}catch(k){l.enqueue({type:"error",error:k})}break}case"tool-result":{const k=y.toolName;y.isError?l.enqueue({type:"tool-error",toolCallId:y.toolCallId,toolName:k,input:h.get(y.toolCallId),providerExecuted:y.providerExecuted,error:y.result}):x.enqueue({type:"tool-result",toolCallId:y.toolCallId,toolName:k,input:h.get(y.toolCallId),output:y.result,providerExecuted:y.providerExecuted});break}default:{const k=_;throw new Error(`Unhandled chunk type: ${k}`)}}},flush(){f=!0,g()}});return new ReadableStream({async start(y){return Promise.all([t.pipeThrough(T).pipeTo(new WritableStream({write(x){y.enqueue(x)},close(){}})),c.pipeTo(new WritableStream({write(x){y.enqueue(x)},close(){y.close()}}))])}})}var Fae=Qu({prefix:"aitxt",size:24});function Bae({model:e,tools:t,toolChoice:r,system:n,prompt:a,messages:i,maxRetries:s,abortSignal:o,headers:u,stopWhen:l=O9(1),experimental_output:c,experimental_telemetry:d,prepareStep:h,providerOptions:f,experimental_activeTools:p,activeTools:g=p,experimental_repairToolCall:T,experimental_transform:y,experimental_download:x,includeRawChunks:_=!1,onChunk:k,onError:C=({error:Z})=>{console.error(Z)},onFinish:A,onAbort:P,onStepFinish:D,experimental_context:$,_internal:{now:F=Dae,generateId:q=Fae,currentDate:U=()=>new Date}={},...ee}){return new $ae({model:Jc(e),telemetry:d,headers:u,settings:ee,maxRetries:s,abortSignal:o,system:n,prompt:a,messages:i,tools:t,toolChoice:r,transforms:pp(y),activeTools:g,repairToolCall:T,stopConditions:pp(l),output:c,providerOptions:f,prepareStep:h,includeRawChunks:_,onChunk:k,onError:C,onFinish:A,onAbort:P,onStepFinish:D,now:F,currentDate:U,generateId:q,experimental_context:$,download:x})}function jae(e){if(!e)return new TransformStream({transform(s,o){o.enqueue({part:s,partialOutput:void 0})}});let t,r="",n="",a="";function i({controller:s,partialOutput:o=void 0}){s.enqueue({part:{type:"text-delta",id:t,text:n},partialOutput:o}),n=""}return new TransformStream({async transform(s,o){if(s.type==="finish-step"&&n.length>0&&i({controller:o}),s.type!=="text-delta"&&s.type!=="text-start"&&s.type!=="text-end"){o.enqueue({part:s,partialOutput:void 0});return}if(t==null)t=s.id;else if(s.id!==t){o.enqueue({part:s,partialOutput:void 0});return}if(s.type==="text-start"){o.enqueue({part:s,partialOutput:void 0});return}if(s.type==="text-end"){n.length>0&&i({controller:o}),o.enqueue({part:s,partialOutput:void 0});return}r+=s.text,n+=s.text;const u=await e.parsePartial({text:r});if(u!=null){const l=JSON.stringify(u.partial);l!==a&&(i({controller:o,partialOutput:u.partial}),a=l)}}})}var $ae=class{constructor({model:e,telemetry:t,headers:r,settings:n,maxRetries:a,abortSignal:i,system:s,prompt:o,messages:u,tools:l,toolChoice:c,transforms:d,activeTools:h,repairToolCall:f,stopConditions:p,output:g,providerOptions:T,prepareStep:y,includeRawChunks:x,now:_,currentDate:k,generateId:C,onChunk:A,onError:P,onFinish:D,onAbort:$,onStepFinish:F,experimental_context:q,download:U}){this._totalUsage=new Ll,this._finishReason=new Ll,this._steps=new Ll,this.output=g,this.includeRawChunks=x,this.tools=l;let ee,Z=[];const J=[];let be,Te,ye={},ne=[];const R=[];let pe,W={},O={};const Ie=new TransformStream({async transform(We,it){var At,Ze,Vt,sr;it.enqueue(We);const{part:Ee}=We;if((Ee.type==="text-delta"||Ee.type==="reasoning-delta"||Ee.type==="source"||Ee.type==="tool-call"||Ee.type==="tool-result"||Ee.type==="tool-input-start"||Ee.type==="tool-input-delta"||Ee.type==="raw")&&await A?.({chunk:Ee}),Ee.type==="error"&&await P({error:T9(Ee.error)}),Ee.type==="text-start"&&(W[Ee.id]={type:"text",text:"",providerMetadata:Ee.providerMetadata},Z.push(W[Ee.id])),Ee.type==="text-delta"){const vt=W[Ee.id];if(vt==null){it.enqueue({part:{type:"error",error:`text part ${Ee.id} not found`},partialOutput:void 0});return}vt.text+=Ee.text,vt.providerMetadata=(At=Ee.providerMetadata)!=null?At:vt.providerMetadata}if(Ee.type==="text-end"){const vt=W[Ee.id];if(vt==null){it.enqueue({part:{type:"error",error:`text part ${Ee.id} not found`},partialOutput:void 0});return}vt.providerMetadata=(Ze=Ee.providerMetadata)!=null?Ze:vt.providerMetadata,delete W[Ee.id]}if(Ee.type==="reasoning-start"&&(O[Ee.id]={type:"reasoning",text:"",providerMetadata:Ee.providerMetadata},Z.push(O[Ee.id])),Ee.type==="reasoning-delta"){const vt=O[Ee.id];if(vt==null){it.enqueue({part:{type:"error",error:`reasoning part ${Ee.id} not found`},partialOutput:void 0});return}vt.text+=Ee.text,vt.providerMetadata=(Vt=Ee.providerMetadata)!=null?Vt:vt.providerMetadata}if(Ee.type==="reasoning-end"){const vt=O[Ee.id];if(vt==null){it.enqueue({part:{type:"error",error:`reasoning part ${Ee.id} not found`},partialOutput:void 0});return}vt.providerMetadata=(sr=Ee.providerMetadata)!=null?sr:vt.providerMetadata,delete O[Ee.id]}if(Ee.type==="file"&&Z.push({type:"file",file:Ee.file}),Ee.type==="source"&&Z.push(Ee),Ee.type==="tool-call"&&Z.push(Ee),Ee.type==="tool-result"&&!Ee.preliminary&&Z.push(Ee),Ee.type==="tool-error"&&Z.push(Ee),Ee.type==="start-step"&&(ye=Ee.request,ne=Ee.warnings),Ee.type==="finish-step"){const vt=mp({content:Z,tools:l}),Fn=new R9({content:Z,finishReason:Ee.finishReason,usage:Ee.usage,warnings:ne,request:ye,response:{...Ee.response,messages:[...J,...vt]},providerMetadata:Ee.providerMetadata});await F?.(Fn),B8(ne),R.push(Fn),Z=[],O={},W={},J.push(...vt),ee.resolve()}Ee.type==="finish"&&(Te=Ee.totalUsage,be=Ee.finishReason)},async flush(We){try{if(R.length===0){const Vt=new Lne({message:"No output generated. Check the stream for errors."});kt._finishReason.reject(Vt),kt._totalUsage.reject(Vt),kt._steps.reject(Vt);return}const it=be??"unknown",At=Te??{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};kt._finishReason.resolve(it),kt._totalUsage.resolve(At),kt._steps.resolve(R);const Ze=R[R.length-1];await D?.({finishReason:it,totalUsage:At,usage:Ze.usage,content:Ze.content,text:Ze.text,reasoningText:Ze.reasoningText,reasoning:Ze.reasoning,files:Ze.files,sources:Ze.sources,toolCalls:Ze.toolCalls,staticToolCalls:Ze.staticToolCalls,dynamicToolCalls:Ze.dynamicToolCalls,toolResults:Ze.toolResults,staticToolResults:Ze.staticToolResults,dynamicToolResults:Ze.dynamicToolResults,request:Ze.request,response:Ze.response,warnings:Ze.warnings,providerMetadata:Ze.providerMetadata,steps:R}),pe.setAttributes(fn({telemetry:t,attributes:{"ai.response.finishReason":it,"ai.response.text":{output:()=>Ze.text},"ai.response.toolCalls":{output:()=>{var Vt;return(Vt=Ze.toolCalls)!=null&&Vt.length?JSON.stringify(Ze.toolCalls):void 0}},"ai.response.providerMetadata":JSON.stringify(Ze.providerMetadata),"ai.usage.inputTokens":At.inputTokens,"ai.usage.outputTokens":At.outputTokens,"ai.usage.totalTokens":At.totalTokens,"ai.usage.reasoningTokens":At.reasoningTokens,"ai.usage.cachedInputTokens":At.cachedInputTokens}}))}catch(it){We.error(it)}finally{pe.end()}}}),me=Pae();this.addStream=me.addStream,this.closeStream=me.close;const ge=me.stream.getReader();let ae=new ReadableStream({async start(We){We.enqueue({type:"start"})},async pull(We){function it(){$?.({steps:R}),We.enqueue({type:"abort"}),We.close()}try{const{done:At,value:Ze}=await ge.read();if(At){We.close();return}if(i?.aborted){it();return}We.enqueue(Ze)}catch(At){w8(At)&&i?.aborted?it():We.error(At)}},cancel(We){return me.stream.cancel(We)}});for(const We of d)ae=ae.pipeThrough(We({tools:l,stopStream(){me.terminate()}}));this.baseStream=ae.pipeThrough(jae(g)).pipeThrough(Ie);const{maxRetries:Me,retry:Ue}=C9({maxRetries:a,abortSignal:i}),at=k9(t),Ot=fp(n),Wr=E9({model:e,telemetry:t,headers:r,settings:{...Ot,maxRetries:Me}}),kt=this;Bs({name:"ai.streamText",attributes:fn({telemetry:t,attributes:{...Fs({operationId:"ai.streamText",telemetry:t}),...Wr,"ai.prompt":{input:()=>JSON.stringify({system:s,prompt:o,messages:u})}}}),tracer:at,endWhenDone:!1,fn:async We=>{pe=We;async function it({currentStep:At,responseMessages:Ze,usage:Vt}){var sr,Ee,vt,Fn,xt;const an=kt.includeRawChunks;ee=new Ll;const gi=await w9({system:s,prompt:o,messages:u}),K=[...gi.messages,...Ze],oe=await y?.({model:e,steps:R,stepNumber:R.length,messages:K}),Pe=Jc((sr=oe?.model)!=null?sr:e),Ge=await g9({prompt:{system:(Ee=oe?.system)!=null?Ee:gi.system,messages:(vt=oe?.messages)!=null?vt:K},supportedUrls:await Pe.supportedUrls,download:U}),{toolChoice:st,tools:or}=y9({tools:l,toolChoice:(Fn=oe?.toolChoice)!=null?Fn:c,activeTools:(xt=oe?.activeTools)!=null?xt:h}),{result:{stream:sn,response:wt,request:wr},doStreamSpan:Tr,startTimestampMs:mr}=await Ue(()=>Bs({name:"ai.streamText.doStream",attributes:fn({telemetry:t,attributes:{...Fs({operationId:"ai.streamText.doStream",telemetry:t}),...Wr,"ai.model.provider":Pe.provider,"ai.model.id":Pe.modelId,"ai.prompt.messages":{input:()=>_9(Ge)},"ai.prompt.tools":{input:()=>or?.map(Fe=>JSON.stringify(Fe))},"ai.prompt.toolChoice":{input:()=>st!=null?JSON.stringify(st):void 0},"gen_ai.system":Pe.provider,"gen_ai.request.model":Pe.modelId,"gen_ai.request.frequency_penalty":Ot.frequencyPenalty,"gen_ai.request.max_tokens":Ot.maxOutputTokens,"gen_ai.request.presence_penalty":Ot.presencePenalty,"gen_ai.request.stop_sequences":Ot.stopSequences,"gen_ai.request.temperature":Ot.temperature,"gen_ai.request.top_k":Ot.topK,"gen_ai.request.top_p":Ot.topP}}),tracer:at,endWhenDone:!1,fn:async Fe=>({startTimestampMs:_(),doStreamSpan:Fe,result:await Pe.doStream({...Ot,tools:or,toolChoice:st,responseFormat:g?.responseFormat,prompt:Ge,providerOptions:T,abortSignal:i,headers:r,includeRawChunks:an})})})),Ba=Lae({tools:l,generatorStream:sn,tracer:at,telemetry:t,system:s,messages:K,repairToolCall:f,abortSignal:i,experimental_context:q}),xn=wr??{},ll=[],Z0=[];let G0;const Y0={};let Qi="unknown",wn={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},K0,G1=!0,Bn={id:C(),timestamp:k(),modelId:e.modelId},Y1="";kt.addStream(Ba.pipeThrough(new TransformStream({async transform(Fe,cr){var oo,uo,cl,fa;if(Fe.type==="stream-start"){G0=Fe.warnings;return}if(G1){const Er=_()-mr;G1=!1,Tr.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":Er}),Tr.setAttributes({"ai.response.msToFirstChunk":Er}),cr.enqueue({type:"start-step",request:xn,warnings:G0??[]})}const K1=Fe.type;switch(K1){case"text-start":case"text-end":{cr.enqueue(Fe);break}case"text-delta":{Fe.delta.length>0&&(cr.enqueue({type:"text-delta",id:Fe.id,text:Fe.delta,providerMetadata:Fe.providerMetadata}),Y1+=Fe.delta);break}case"reasoning-start":case"reasoning-end":{cr.enqueue(Fe);break}case"reasoning-delta":{cr.enqueue({type:"reasoning-delta",id:Fe.id,text:Fe.delta,providerMetadata:Fe.providerMetadata});break}case"tool-call":{cr.enqueue(Fe),ll.push(Fe);break}case"tool-result":{cr.enqueue(Fe),Fe.preliminary||Z0.push(Fe);break}case"tool-error":{cr.enqueue(Fe),Z0.push(Fe);break}case"response-metadata":{Bn={id:(oo=Fe.id)!=null?oo:Bn.id,timestamp:(uo=Fe.timestamp)!=null?uo:Bn.timestamp,modelId:(cl=Fe.modelId)!=null?cl:Bn.modelId};break}case"finish":{wn=Fe.usage,Qi=Fe.finishReason,K0=Fe.providerMetadata;const Er=_()-mr;Tr.addEvent("ai.stream.finish"),Tr.setAttributes({"ai.response.msToFinish":Er,"ai.response.avgOutputTokensPerSecond":1e3*((fa=wn.outputTokens)!=null?fa:0)/Er});break}case"file":{cr.enqueue(Fe);break}case"source":{cr.enqueue(Fe);break}case"tool-input-start":{Y0[Fe.id]=Fe.toolName;const Er=l?.[Fe.toolName];Er?.onInputStart!=null&&await Er.onInputStart({toolCallId:Fe.id,messages:K,abortSignal:i,experimental_context:q}),cr.enqueue({...Fe,dynamic:Er?.type==="dynamic"});break}case"tool-input-end":{delete Y0[Fe.id],cr.enqueue(Fe);break}case"tool-input-delta":{const Er=Y0[Fe.id],X0=l?.[Er];X0?.onInputDelta!=null&&await X0.onInputDelta({inputTextDelta:Fe.delta,toolCallId:Fe.id,messages:K,abortSignal:i,experimental_context:q}),cr.enqueue(Fe);break}case"error":{cr.enqueue(Fe),Qi="error";break}case"raw":{an&&cr.enqueue(Fe);break}default:{const Er=K1;throw new Error(`Unknown chunk type: ${Er}`)}}},async flush(Fe){const cr=ll.length>0?JSON.stringify(ll):void 0;try{Tr.setAttributes(fn({telemetry:t,attributes:{"ai.response.finishReason":Qi,"ai.response.text":{output:()=>Y1},"ai.response.toolCalls":{output:()=>cr},"ai.response.id":Bn.id,"ai.response.model":Bn.modelId,"ai.response.timestamp":Bn.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(K0),"ai.usage.inputTokens":wn.inputTokens,"ai.usage.outputTokens":wn.outputTokens,"ai.usage.totalTokens":wn.totalTokens,"ai.usage.reasoningTokens":wn.reasoningTokens,"ai.usage.cachedInputTokens":wn.cachedInputTokens,"gen_ai.response.finish_reasons":[Qi],"gen_ai.response.id":Bn.id,"gen_ai.response.model":Bn.modelId,"gen_ai.usage.input_tokens":wn.inputTokens,"gen_ai.usage.output_tokens":wn.outputTokens}}))}catch{}finally{Tr.end()}Fe.enqueue({type:"finish-step",finishReason:Qi,usage:wn,providerMetadata:K0,response:{...Bn,headers:wt?.headers}});const oo=S9(Vt,wn);await ee.promise;const uo=ll.filter(fa=>fa.providerExecuted!==!0),cl=Z0.filter(fa=>fa.providerExecuted!==!0);if(uo.length>0&&cl.length===uo.length&&!await M9({stopConditions:p,steps:R})){Ze.push(...mp({content:R[R.length-1].content,tools:l}));try{await it({currentStep:At+1,responseMessages:Ze,usage:oo})}catch(fa){Fe.enqueue({type:"error",error:fa}),kt.closeStream()}}else Fe.enqueue({type:"finish",finishReason:Qi,totalUsage:oo}),kt.closeStream()}})))}await it({currentStep:0,responseMessages:[],usage:{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0}})}}).catch(We=>{kt.addStream(new ReadableStream({start(it){it.enqueue({type:"error",error:We}),it.close()}})),kt.closeStream()})}get steps(){return this.consumeStream(),this._steps.promise}get finalStep(){return this.steps.then(e=>e[e.length-1])}get content(){return this.finalStep.then(e=>e.content)}get warnings(){return this.finalStep.then(e=>e.warnings)}get providerMetadata(){return this.finalStep.then(e=>e.providerMetadata)}get text(){return this.finalStep.then(e=>e.text)}get reasoningText(){return this.finalStep.then(e=>e.reasoningText)}get reasoning(){return this.finalStep.then(e=>e.reasoning)}get sources(){return this.finalStep.then(e=>e.sources)}get files(){return this.finalStep.then(e=>e.files)}get toolCalls(){return this.finalStep.then(e=>e.toolCalls)}get staticToolCalls(){return this.finalStep.then(e=>e.staticToolCalls)}get dynamicToolCalls(){return this.finalStep.then(e=>e.dynamicToolCalls)}get toolResults(){return this.finalStep.then(e=>e.toolResults)}get staticToolResults(){return this.finalStep.then(e=>e.staticToolResults)}get dynamicToolResults(){return this.finalStep.then(e=>e.dynamicToolResults)}get usage(){return this.finalStep.then(e=>e.usage)}get request(){return this.finalStep.then(e=>e.request)}get response(){return this.finalStep.then(e=>e.response)}get totalUsage(){return this.consumeStream(),this._totalUsage.promise}get finishReason(){return this.consumeStream(),this._finishReason.promise}teeStream(){const[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return Bl(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){e.type==="text-delta"&&t.enqueue(e.text)}})))}get fullStream(){return Bl(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(e){var t;try{await Mae({stream:this.fullStream,onError:e?.onError})}catch(r){(t=e?.onError)==null||t.call(e,r)}}get experimental_partialOutputStream(){if(this.output==null)throw new F8;return Bl(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){e!=null&&t.enqueue(e)}})))}toUIMessageStream({originalMessages:e,generateMessageId:t,onFinish:r,messageMetadata:n,sendReasoning:a=!0,sendSources:i=!1,sendStart:s=!0,sendFinish:o=!0,onError:u=ro}={}){const l=t!=null?Sae({originalMessages:e,responseMessageId:t}):void 0,c={},d=f=>{var p,g;const T=c[f];return((g=(p=this.tools)==null?void 0:p[T])==null?void 0:g.type)==="dynamic"?!0:void 0},h=this.fullStream.pipeThrough(new TransformStream({transform:async(f,p)=>{const g=n?.({part:f}),T=f.type;switch(T){case"text-start":{p.enqueue({type:"text-start",id:f.id,...f.providerMetadata!=null?{providerMetadata:f.providerMetadata}:{}});break}case"text-delta":{p.enqueue({type:"text-delta",id:f.id,delta:f.text,...f.providerMetadata!=null?{providerMetadata:f.providerMetadata}:{}});break}case"text-end":{p.enqueue({type:"text-end",id:f.id,...f.providerMetadata!=null?{providerMetadata:f.providerMetadata}:{}});break}case"reasoning-start":{p.enqueue({type:"reasoning-start",id:f.id,...f.providerMetadata!=null?{providerMetadata:f.providerMetadata}:{}});break}case"reasoning-delta":{a&&p.enqueue({type:"reasoning-delta",id:f.id,delta:f.text,...f.providerMetadata!=null?{providerMetadata:f.providerMetadata}:{}});break}case"reasoning-end":{p.enqueue({type:"reasoning-end",id:f.id,...f.providerMetadata!=null?{providerMetadata:f.providerMetadata}:{}});break}case"file":{p.enqueue({type:"file",mediaType:f.file.mediaType,url:`data:${f.file.mediaType};base64,${f.file.base64}`});break}case"source":{i&&f.sourceType==="url"&&p.enqueue({type:"source-url",sourceId:f.id,url:f.url,title:f.title,...f.providerMetadata!=null?{providerMetadata:f.providerMetadata}:{}}),i&&f.sourceType==="document"&&p.enqueue({type:"source-document",sourceId:f.id,mediaType:f.mediaType,title:f.title,filename:f.filename,...f.providerMetadata!=null?{providerMetadata:f.providerMetadata}:{}});break}case"tool-input-start":{c[f.id]=f.toolName;const y=d(f.id);p.enqueue({type:"tool-input-start",toolCallId:f.id,toolName:f.toolName,...f.providerExecuted!=null?{providerExecuted:f.providerExecuted}:{},...y!=null?{dynamic:y}:{}});break}case"tool-input-delta":{p.enqueue({type:"tool-input-delta",toolCallId:f.id,inputTextDelta:f.delta});break}case"tool-call":{c[f.toolCallId]=f.toolName;const y=d(f.toolCallId);f.invalid?p.enqueue({type:"tool-input-error",toolCallId:f.toolCallId,toolName:f.toolName,input:f.input,...f.providerExecuted!=null?{providerExecuted:f.providerExecuted}:{},...f.providerMetadata!=null?{providerMetadata:f.providerMetadata}:{},...y!=null?{dynamic:y}:{},errorText:u(f.error)}):p.enqueue({type:"tool-input-available",toolCallId:f.toolCallId,toolName:f.toolName,input:f.input,...f.providerExecuted!=null?{providerExecuted:f.providerExecuted}:{},...f.providerMetadata!=null?{providerMetadata:f.providerMetadata}:{},...y!=null?{dynamic:y}:{}});break}case"tool-result":{const y=d(f.toolCallId);p.enqueue({type:"tool-output-available",toolCallId:f.toolCallId,output:f.output,...f.providerExecuted!=null?{providerExecuted:f.providerExecuted}:{},...f.preliminary!=null?{preliminary:f.preliminary}:{},...y!=null?{dynamic:y}:{}});break}case"tool-error":{const y=d(f.toolCallId);p.enqueue({type:"tool-output-error",toolCallId:f.toolCallId,errorText:u(f.error),...f.providerExecuted!=null?{providerExecuted:f.providerExecuted}:{},...y!=null?{dynamic:y}:{}});break}case"error":{p.enqueue({type:"error",errorText:u(f.error)});break}case"start-step":{p.enqueue({type:"start-step"});break}case"finish-step":{p.enqueue({type:"finish-step"});break}case"start":{s&&p.enqueue({type:"start",...g!=null?{messageMetadata:g}:{},...l!=null?{messageId:l}:{}});break}case"finish":{o&&p.enqueue({type:"finish",finishReason:f.finishReason,...g!=null?{messageMetadata:g}:{}});break}case"abort":{p.enqueue(f);break}case"tool-input-end":break;case"raw":break;default:{const y=T;throw new Error(`Unknown chunk type: ${y}`)}}g!=null&&T!=="start"&&T!=="finish"&&p.enqueue({type:"message-metadata",messageMetadata:g})}}));return Bl(Rae({stream:h,messageId:l??t?.(),originalMessages:e,onFinish:r,onError:u}))}pipeUIMessageStreamToResponse(e,{originalMessages:t,generateMessageId:r,onFinish:n,messageMetadata:a,sendReasoning:i,sendSources:s,sendFinish:o,sendStart:u,onError:l,...c}={}){Oae({response:e,stream:this.toUIMessageStream({originalMessages:t,generateMessageId:r,onFinish:n,messageMetadata:a,sendReasoning:i,sendSources:s,sendFinish:o,sendStart:u,onError:l}),...c})}pipeTextStreamToResponse(e,t){kae({response:e,textStream:this.textStream,...t})}toUIMessageStreamResponse({originalMessages:e,generateMessageId:t,onFinish:r,messageMetadata:n,sendReasoning:a,sendSources:i,sendFinish:s,sendStart:o,onError:u,...l}={}){return _ae({stream:this.toUIMessageStream({originalMessages:e,generateMessageId:t,onFinish:r,messageMetadata:n,sendReasoning:a,sendSources:i,sendFinish:s,sendStart:o,onError:u}),...l})}toTextStreamResponse(e){return Eae({textStream:this.textStream,...e})}};Qu({prefix:"aiobj",size:24});Qu({prefix:"aiobj",size:24});var zae={};Cne(zae,{object:()=>Hae,text:()=>Uae});var Uae=()=>({type:"text",responseFormat:{type:"text"},async parsePartial({text:e}){return{partial:e}},async parseOutput({text:e}){return e}}),Hae=({schema:e})=>{const t=U0(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:r}){const n=await B9(r);switch(n.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:n.value};default:{const a=n.state;throw new Error(`Unsupported parse state: ${a}`)}}},async parseOutput({text:r},n){const a=await Eu({text:r});if(!a.success)throw new t4({message:"No object generated: could not parse the response.",cause:a.error,text:r,response:n.response,usage:n.usage,finishReason:n.finishReason});const i=await el({value:a.value,schema:t});if(!i.success)throw new t4({message:"No object generated: response did not match schema.",cause:i.error,text:r,response:n.response,usage:n.usage,finishReason:n.finishReason});return i.value}}},j9="vercel.ai.error",Vae=Symbol.for(j9),$9,qae=class z9 extends Error{constructor({name:t,message:r,cause:n}){super(r),this[$9]=!0,this.name=t,this.cause=n}static isInstance(t){return z9.hasMarker(t,j9)}static hasMarker(t,r){const n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}};$9=Vae;var tr=qae,U9="AI_APICallError",H9=`vercel.ai.error.${U9}`,Wae=Symbol.for(H9),V9,cn=class extends tr{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:a,responseBody:i,cause:s,isRetryable:o=n!=null&&(n===408||n===409||n===429||n>=500),data:u}){super({name:U9,message:e,cause:s}),this[V9]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=a,this.responseBody=i,this.isRetryable=o,this.data=u}static isInstance(e){return tr.hasMarker(e,H9)}};V9=Wae;var q9="AI_EmptyResponseBodyError",W9=`vercel.ai.error.${q9}`,Zae=Symbol.for(W9),Z9,Gae=class extends tr{constructor({message:e="Empty response body"}={}){super({name:q9,message:e}),this[Z9]=!0}static isInstance(e){return tr.hasMarker(e,W9)}};Z9=Zae;function G9(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var Y9="AI_InvalidArgumentError",K9=`vercel.ai.error.${Y9}`,Yae=Symbol.for(K9),X9,J9=class extends tr{constructor({message:e,cause:t,argument:r}){super({name:Y9,message:e,cause:t}),this[X9]=!0,this.argument=r}static isInstance(e){return tr.hasMarker(e,K9)}};X9=Yae;var Q9="AI_InvalidPromptError",ek=`vercel.ai.error.${Q9}`,Kae=Symbol.for(ek),tk,Xae=class extends tr{constructor({prompt:e,message:t,cause:r}){super({name:Q9,message:`Invalid prompt: ${t}`,cause:r}),this[tk]=!0,this.prompt=e}static isInstance(e){return tr.hasMarker(e,ek)}};tk=Kae;var rk="AI_InvalidResponseDataError",nk=`vercel.ai.error.${rk}`,Jae=Symbol.for(nk),ak,Eh=class extends tr{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:rk,message:t}),this[ak]=!0,this.data=e}static isInstance(e){return tr.hasMarker(e,nk)}};ak=Jae;var ik="AI_JSONParseError",sk=`vercel.ai.error.${ik}`,Qae=Symbol.for(sk),ok,Qc=class extends tr{constructor({text:e,cause:t}){super({name:ik,message:`JSON parsing failed: Text: ${e}.
Error message: ${G9(t)}`,cause:t}),this[ok]=!0,this.text=e}static isInstance(e){return tr.hasMarker(e,sk)}};ok=Qae;var uk="AI_LoadAPIKeyError",lk=`vercel.ai.error.${uk}`,eie=Symbol.for(lk),ck,jl=class extends tr{constructor({message:e}){super({name:uk,message:e}),this[ck]=!0}static isInstance(e){return tr.hasMarker(e,lk)}};ck=eie;var dk="AI_TooManyEmbeddingValuesForCallError",hk=`vercel.ai.error.${dk}`,tie=Symbol.for(hk),fk,rie=class extends tr{constructor(e){super({name:dk,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[fk]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return tr.hasMarker(e,hk)}};fk=tie;var pk="AI_TypeValidationError",mk=`vercel.ai.error.${pk}`,nie=Symbol.for(mk),gk,aie=class gp extends tr{constructor({value:t,cause:r}){super({name:pk,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${G9(r)}`,cause:r}),this[gk]=!0,this.value=t}static isInstance(t){return tr.hasMarker(t,mk)}static wrap({value:t,cause:r}){return gp.isInstance(r)&&r.value===t?r:new gp({value:t,cause:r})}};gk=nie;var e0=aie,yk="AI_UnsupportedFunctionalityError",bk=`vercel.ai.error.${yk}`,iie=Symbol.for(bk),vk,fr=class extends tr{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:yk,message:t}),this[vk]=!0,this.functionality=e}static isInstance(e){return tr.hasMarker(e,bk)}};vk=iie;let sie=(e,t=21)=>(r=t)=>{let n="",a=r|0;for(;a--;)n+=e[Math.random()*e.length|0];return n};var wi={exports:{}},l4;function oie(){if(l4)return wi.exports;l4=1;const e=typeof Buffer<"u",t=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,r=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function n(o,u,l){l==null&&u!==null&&typeof u=="object"&&(l=u,u=void 0),e&&Buffer.isBuffer(o)&&(o=o.toString()),o&&o.charCodeAt(0)===65279&&(o=o.slice(1));const c=JSON.parse(o,u);if(c===null||typeof c!="object")return c;const d=l&&l.protoAction||"error",h=l&&l.constructorAction||"error";if(d==="ignore"&&h==="ignore")return c;if(d!=="ignore"&&h!=="ignore"){if(t.test(o)===!1&&r.test(o)===!1)return c}else if(d!=="ignore"&&h==="ignore"){if(t.test(o)===!1)return c}else if(r.test(o)===!1)return c;return a(c,{protoAction:d,constructorAction:h,safe:l&&l.safe})}function a(o,{protoAction:u="error",constructorAction:l="error",safe:c}={}){let d=[o];for(;d.length;){const h=d;d=[];for(const f of h){if(u!=="ignore"&&Object.prototype.hasOwnProperty.call(f,"__proto__")){if(c===!0)return null;if(u==="error")throw new SyntaxError("Object contains forbidden prototype property");delete f.__proto__}if(l!=="ignore"&&Object.prototype.hasOwnProperty.call(f,"constructor")&&Object.prototype.hasOwnProperty.call(f.constructor,"prototype")){if(c===!0)return null;if(l==="error")throw new SyntaxError("Object contains forbidden prototype property");delete f.constructor}for(const p in f){const g=f[p];g&&typeof g=="object"&&d.push(g)}}}return o}function i(o,u,l){const c=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return n(o,u,l)}finally{Error.stackTraceLimit=c}}function s(o,u){const l=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return n(o,u,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=l}}return wi.exports=i,wi.exports.default=i,wi.exports.parse=i,wi.exports.safeParse=s,wi.exports.scan=a,wi.exports}var uie=oie();const D1=Pa(uie);var lie={};function aa(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}function cie(){let e="",t,r=[],n,a;function i(u,l){if(u===""){s(l);return}if(u.startsWith(":"))return;const c=u.indexOf(":");if(c===-1){o(u,"");return}const d=u.slice(0,c),h=c+1,f=h<u.length&&u[h]===" "?u.slice(h+1):u.slice(h);o(d,f)}function s(u){r.length>0&&(u.enqueue({event:t,data:r.join(`
`),id:n,retry:a}),r=[],t=void 0,a=void 0)}function o(u,l){switch(u){case"event":t=l;break;case"data":r.push(l);break;case"id":n=l;break;case"retry":const c=parseInt(l,10);isNaN(c)||(a=c);break}}return new TransformStream({transform(u,l){const{lines:c,incompleteLine:d}=die(e,u);e=d;for(let h=0;h<c.length;h++)i(c[h],l)},flush(u){i(e,u),s(u)}})}function die(e,t){const r=[];let n=e;for(let a=0;a<t.length;){const i=t[a++];i===`
`?(r.push(n),n=""):i==="\r"?(r.push(n),n="",t[a]===`
`&&a++):n+=i}return{lines:r,incompleteLine:n}}function tl(e){const t={};return e.headers.forEach((r,n)=>{t[n]=r}),t}var hie=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{const a=sie(r,t);if(e==null)return a;if(r.includes(n))throw new J9({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return i=>`${e}${n}${a(i)}`},Ei=hie();function fie(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>r!=null))}function kh(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}function pie({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new jl({message:`${n} API key must be a string.`});if(typeof process>"u")throw new jl({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=lie[t],e==null)throw new jl({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new jl({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var yp=Symbol.for("vercel.ai.validator");function mie(e){return{[yp]:!0,validate:e}}function gie(e){return typeof e=="object"&&e!==null&&yp in e&&e[yp]===!0&&"validate"in e}function yie(e){return gie(e)?e:bie(e)}function bie(e){return mie(t=>{const r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function vie({value:e,schema:t}){const r=L1({value:e,schema:t});if(!r.success)throw e0.wrap({value:e,cause:r.error});return r.value}function L1({value:e,schema:t}){const r=yie(t);try{if(r.validate==null)return{success:!0,value:e};const n=r.validate(e);return n.success?n:{success:!1,error:e0.wrap({value:e,cause:n.error})}}catch(n){return{success:!1,error:e0.wrap({value:e,cause:n})}}}function xie({text:e,schema:t}){try{const r=D1.parse(e);return t==null?r:vie({value:r,schema:t})}catch(r){throw Qc.isInstance(r)||e0.isInstance(r)?r:new Qc({text:e,cause:r})}}function xk({text:e,schema:t}){try{const r=D1.parse(e);if(t==null)return{success:!0,value:r,rawValue:r};const n=L1({value:r,schema:t});return n.success?{...n,rawValue:r}:n}catch(r){return{success:!1,error:Qc.isInstance(r)?r:new Qc({text:e,cause:r})}}}function c4(e){try{return D1.parse(e),!0}catch{return!1}}function F1({provider:e,providerOptions:t,schema:r}){if(t?.[e]==null)return;const n=L1({value:t[e],schema:r});if(!n.success)throw new J9({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}var wie=()=>globalThis.fetch,Ma=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:s})=>wk({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:s}),Tie=async({url:e,headers:t,formData:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:s})=>wk({url:e,headers:t,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:s}),wk=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:i,fetch:s=wie()})=>{try{const o=await s(e,{method:"POST",headers:fie(t),body:r.content,signal:i}),u=tl(o);if(!o.ok){let l;try{l=await a({response:o,url:e,requestBodyValues:r.values})}catch(c){throw kh(c)||cn.isInstance(c)?c:new cn({message:"Failed to process error response",cause:c,statusCode:o.status,url:e,responseHeaders:u,requestBodyValues:r.values})}throw l.value}try{return await n({response:o,url:e,requestBodyValues:r.values})}catch(l){throw l instanceof Error&&(kh(l)||cn.isInstance(l))?l:new cn({message:"Failed to process successful response",cause:l,statusCode:o.status,url:e,responseHeaders:u,requestBodyValues:r.values})}}catch(o){if(kh(o))throw o;if(o instanceof TypeError&&o.message==="fetch failed"){const u=o.cause;if(u!=null)throw new cn({message:`Cannot connect to API: ${u.message}`,cause:u,url:e,requestBodyValues:r.values,isRetryable:!0})}throw o}},Eie=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:i})=>{const s=await n.text(),o=tl(n);if(s.trim()==="")return{responseHeaders:o,value:new cn({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:o,responseBody:s,isRetryable:r?.(n)})};try{const u=xie({text:s,schema:e});return{responseHeaders:o,value:new cn({message:t(u),url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:o,responseBody:s,data:u,isRetryable:r?.(n,u)})}}catch{return{responseHeaders:o,value:new cn({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:o,responseBody:s,isRetryable:r?.(n)})}}},B1=e=>async({response:t})=>{const r=tl(t);if(t.body==null)throw new Gae({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(cie()).pipeThrough(new TransformStream({transform({data:n},a){n!=="[DONE]"&&a.enqueue(xk({text:n,schema:e}))}}))}},no=e=>async({response:t,url:r,requestBodyValues:n})=>{const a=await t.text(),i=xk({text:a,schema:e}),s=tl(t);if(!i.success)throw new cn({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:s,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:s,value:i.value,rawValue:i.rawValue}},kie=()=>async({response:e,url:t,requestBodyValues:r})=>{const n=tl(e);if(!e.body)throw new cn({message:"Response body is empty",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0});try{const a=await e.arrayBuffer();return{responseHeaders:n,value:new Uint8Array(a)}}catch(a){throw new cn({message:"Failed to read response as array buffer",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0,cause:a})}},{btoa:_ie,atob:Sie}=globalThis;function Aie(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=Sie(t);return Uint8Array.from(r,n=>n.codePointAt(0))}function Tk(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return _ie(t)}function Cie(e){return e?.replace(/\/$/,"")}function Iie({prompt:e,useLegacyFunctionCalling:t=!1,systemMessageMode:r="system"}){const n=[],a=[];for(const{role:i,content:s}of e)switch(i){case"system":{switch(r){case"system":{n.push({role:"system",content:s});break}case"developer":{n.push({role:"developer",content:s});break}case"remove":{a.push({type:"other",message:"system messages are removed for this model"});break}default:{const o=r;throw new Error(`Unsupported system message mode: ${o}`)}}break}case"user":{if(s.length===1&&s[0].type==="text"){n.push({role:"user",content:s[0].text});break}n.push({role:"user",content:s.map((o,u)=>{var l,c,d,h;switch(o.type){case"text":return{type:"text",text:o.text};case"image":return{type:"image_url",image_url:{url:o.image instanceof URL?o.image.toString():`data:${(l=o.mimeType)!=null?l:"image/jpeg"};base64,${Tk(o.image)}`,detail:(d=(c=o.providerMetadata)==null?void 0:c.openai)==null?void 0:d.imageDetail}};case"file":{if(o.data instanceof URL)throw new fr({functionality:"'File content parts with URL data' functionality not supported."});switch(o.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:o.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:o.data,format:"mp3"}};case"application/pdf":return{type:"file",file:{filename:(h=o.filename)!=null?h:`part-${u}.pdf`,file_data:`data:application/pdf;base64,${o.data}`}};default:throw new fr({functionality:`File content part type ${o.mimeType} in user messages`})}}}})});break}case"assistant":{let o="";const u=[];for(const l of s)switch(l.type){case"text":{o+=l.text;break}case"tool-call":{u.push({id:l.toolCallId,type:"function",function:{name:l.toolName,arguments:JSON.stringify(l.args)}});break}}if(t){if(u.length>1)throw new fr({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});n.push({role:"assistant",content:o,function_call:u.length>0?u[0].function:void 0})}else n.push({role:"assistant",content:o,tool_calls:u.length>0?u:void 0});break}case"tool":{for(const o of s)t?n.push({role:"function",name:o.toolName,content:JSON.stringify(o.result)}):n.push({role:"tool",tool_call_id:o.toolCallId,content:JSON.stringify(o.result)});break}default:{const o=i;throw new Error(`Unsupported role: ${o}`)}}return{messages:n,warnings:a}}function d4(e){var t,r;return(r=(t=e?.content)==null?void 0:t.map(({token:n,logprob:a,top_logprobs:i})=>({token:n,logprob:a,topLogprobs:i?i.map(({token:s,logprob:o})=>({token:s,logprob:o})):[]})))!=null?r:void 0}function t0(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var j1=ve({error:ve({message:he(),type:he().nullish(),param:D7().nullish(),code:z0([he(),$e()]).nullish()})}),ia=Eie({errorSchema:j1,errorToMessage:e=>e.error.message});function r0({id:e,model:t,created:r}){return{id:e??void 0,modelId:t??void 0,timestamp:r!=null?new Date(r*1e3):void 0}}function Nie({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:r}){var n;const a=(n=e.tools)!=null&&n.length?e.tools:void 0,i=[];if(a==null)return{tools:void 0,tool_choice:void 0,toolWarnings:i};const s=e.toolChoice;if(t){const l=[];for(const d of a)d.type==="provider-defined"?i.push({type:"unsupported-tool",tool:d}):l.push({name:d.name,description:d.description,parameters:d.parameters});if(s==null)return{functions:l,function_call:void 0,toolWarnings:i};switch(s.type){case"auto":case"none":case void 0:return{functions:l,function_call:void 0,toolWarnings:i};case"required":throw new fr({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:l,function_call:{name:s.toolName},toolWarnings:i}}}const o=[];for(const l of a)l.type==="provider-defined"?i.push({type:"unsupported-tool",tool:l}):o.push({type:"function",function:{name:l.name,description:l.description,parameters:l.parameters,strict:r?!0:void 0}});if(s==null)return{tools:o,tool_choice:void 0,toolWarnings:i};const u=s.type;switch(u){case"auto":case"none":case"required":return{tools:o,tool_choice:u,toolWarnings:i};case"tool":return{tools:o,tool_choice:{type:"function",function:{name:s.toolName}},toolWarnings:i};default:{const l=u;throw new fr({functionality:`Unsupported tool choice type: ${l}`})}}}var Rie=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:bp(this.modelId)}get defaultObjectGenerationMode(){return Pie(this.modelId)?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:a,topK:i,frequencyPenalty:s,presencePenalty:o,stopSequences:u,responseFormat:l,seed:c,providerMetadata:d}){var h,f,p,g,T,y,x,_;const k=e.type,C=[];i!=null&&C.push({type:"unsupported-setting",setting:"topK"}),l?.type==="json"&&l.schema!=null&&!this.supportsStructuredOutputs&&C.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const A=this.settings.useLegacyFunctionCalling;if(A&&this.settings.parallelToolCalls===!0)throw new fr({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(A&&this.supportsStructuredOutputs)throw new fr({functionality:"structuredOutputs with useLegacyFunctionCalling"});const{messages:P,warnings:D}=Iie({prompt:t,useLegacyFunctionCalling:A,systemMessageMode:Die(this.modelId)});C.push(...D);const $={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:this.settings.logprobs===!0||typeof this.settings.logprobs=="number"?!0:void 0,top_logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:r,temperature:n,top_p:a,frequency_penalty:s,presence_penalty:o,response_format:l?.type==="json"?this.supportsStructuredOutputs&&l.schema!=null?{type:"json_schema",json_schema:{schema:l.schema,strict:!0,name:(h=l.name)!=null?h:"response",description:l.description}}:{type:"json_object"}:void 0,stop:u,seed:c,max_completion_tokens:(f=d?.openai)==null?void 0:f.maxCompletionTokens,store:(p=d?.openai)==null?void 0:p.store,metadata:(g=d?.openai)==null?void 0:g.metadata,prediction:(T=d?.openai)==null?void 0:T.prediction,reasoning_effort:(x=(y=d?.openai)==null?void 0:y.reasoningEffort)!=null?x:this.settings.reasoningEffort,messages:P};switch(bp(this.modelId)?($.temperature!=null&&($.temperature=void 0,C.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),$.top_p!=null&&($.top_p=void 0,C.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),$.frequency_penalty!=null&&($.frequency_penalty=void 0,C.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),$.presence_penalty!=null&&($.presence_penalty=void 0,C.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),$.logit_bias!=null&&($.logit_bias=void 0,C.push({type:"other",message:"logitBias is not supported for reasoning models"})),$.logprobs!=null&&($.logprobs=void 0,C.push({type:"other",message:"logprobs is not supported for reasoning models"})),$.top_logprobs!=null&&($.top_logprobs=void 0,C.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),$.max_tokens!=null&&($.max_completion_tokens==null&&($.max_completion_tokens=$.max_tokens),$.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&$.temperature!=null&&($.temperature=void 0,C.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),k){case"regular":{const{tools:F,tool_choice:q,functions:U,function_call:ee,toolWarnings:Z}=Nie({mode:e,useLegacyFunctionCalling:A,structuredOutputs:this.supportsStructuredOutputs});return{args:{...$,tools:F,tool_choice:q,functions:U,function_call:ee},warnings:[...C,...Z]}}case"object-json":return{args:{...$,response_format:this.supportsStructuredOutputs&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:(_=e.name)!=null?_:"response",description:e.description}}:{type:"json_object"}},warnings:C};case"object-tool":return{args:A?{...$,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...$,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:this.supportsStructuredOutputs?!0:void 0}}]},warnings:C};default:{const F=k;throw new Error(`Unsupported type: ${F}`)}}}async doGenerate(e){var t,r,n,a,i,s,o,u;const{args:l,warnings:c}=this.getArgs(e),{responseHeaders:d,value:h,rawValue:f}=await Ma({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:aa(this.config.headers(),e.headers),body:l,failedResponseHandler:ia,successfulResponseHandler:no(Oie),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:p,...g}=l,T=h.choices[0],y=(t=h.usage)==null?void 0:t.completion_tokens_details,x=(r=h.usage)==null?void 0:r.prompt_tokens_details,_={openai:{}};return y?.reasoning_tokens!=null&&(_.openai.reasoningTokens=y?.reasoning_tokens),y?.accepted_prediction_tokens!=null&&(_.openai.acceptedPredictionTokens=y?.accepted_prediction_tokens),y?.rejected_prediction_tokens!=null&&(_.openai.rejectedPredictionTokens=y?.rejected_prediction_tokens),x?.cached_tokens!=null&&(_.openai.cachedPromptTokens=x?.cached_tokens),{text:(n=T.message.content)!=null?n:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&T.message.function_call?[{toolCallType:"function",toolCallId:Ei(),toolName:T.message.function_call.name,args:T.message.function_call.arguments}]:(a=T.message.tool_calls)==null?void 0:a.map(k=>{var C;return{toolCallType:"function",toolCallId:(C=k.id)!=null?C:Ei(),toolName:k.function.name,args:k.function.arguments}}),finishReason:t0(T.finish_reason),usage:{promptTokens:(s=(i=h.usage)==null?void 0:i.prompt_tokens)!=null?s:NaN,completionTokens:(u=(o=h.usage)==null?void 0:o.completion_tokens)!=null?u:NaN},rawCall:{rawPrompt:p,rawSettings:g},rawResponse:{headers:d,body:f},request:{body:JSON.stringify(l)},response:r0(h),warnings:c,logprobs:d4(T.logprobs),providerMetadata:_}}async doStream(e){if(this.settings.simulateStreaming){const g=await this.doGenerate(e);return{stream:new ReadableStream({start(y){if(y.enqueue({type:"response-metadata",...g.response}),g.text&&y.enqueue({type:"text-delta",textDelta:g.text}),g.toolCalls)for(const x of g.toolCalls)y.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:x.toolCallId,toolName:x.toolName,argsTextDelta:x.args}),y.enqueue({type:"tool-call",...x});y.enqueue({type:"finish",finishReason:g.finishReason,usage:g.usage,logprobs:g.logprobs,providerMetadata:g.providerMetadata}),y.close()}}),rawCall:g.rawCall,rawResponse:g.rawResponse,warnings:g.warnings}}const{args:t,warnings:r}=this.getArgs(e),n={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:a,value:i}=await Ma({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:aa(this.config.headers(),e.headers),body:n,failedResponseHandler:ia,successfulResponseHandler:B1(Mie),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:s,...o}=t,u=[];let l="unknown",c={promptTokens:void 0,completionTokens:void 0},d,h=!0;const{useLegacyFunctionCalling:f}=this.settings,p={openai:{}};return{stream:i.pipeThrough(new TransformStream({transform(g,T){var y,x,_,k,C,A,P,D,$,F,q,U;if(!g.success){l="error",T.enqueue({type:"error",error:g.error});return}const ee=g.value;if("error"in ee){l="error",T.enqueue({type:"error",error:ee.error});return}if(h&&(h=!1,T.enqueue({type:"response-metadata",...r0(ee)})),ee.usage!=null){const{prompt_tokens:ye,completion_tokens:ne,prompt_tokens_details:R,completion_tokens_details:pe}=ee.usage;c={promptTokens:ye??void 0,completionTokens:ne??void 0},pe?.reasoning_tokens!=null&&(p.openai.reasoningTokens=pe?.reasoning_tokens),pe?.accepted_prediction_tokens!=null&&(p.openai.acceptedPredictionTokens=pe?.accepted_prediction_tokens),pe?.rejected_prediction_tokens!=null&&(p.openai.rejectedPredictionTokens=pe?.rejected_prediction_tokens),R?.cached_tokens!=null&&(p.openai.cachedPromptTokens=R?.cached_tokens)}const Z=ee.choices[0];if(Z?.finish_reason!=null&&(l=t0(Z.finish_reason)),Z?.delta==null)return;const J=Z.delta;J.content!=null&&T.enqueue({type:"text-delta",textDelta:J.content});const be=d4(Z?.logprobs);be?.length&&(d===void 0&&(d=[]),d.push(...be));const Te=f&&J.function_call!=null?[{type:"function",id:Ei(),function:J.function_call,index:0}]:J.tool_calls;if(Te!=null)for(const ye of Te){const ne=ye.index;if(u[ne]==null){if(ye.type!=="function")throw new Eh({data:ye,message:"Expected 'function' type."});if(ye.id==null)throw new Eh({data:ye,message:"Expected 'id' to be a string."});if(((y=ye.function)==null?void 0:y.name)==null)throw new Eh({data:ye,message:"Expected 'function.name' to be a string."});u[ne]={id:ye.id,type:"function",function:{name:ye.function.name,arguments:(x=ye.function.arguments)!=null?x:""},hasFinished:!1};const pe=u[ne];((_=pe.function)==null?void 0:_.name)!=null&&((k=pe.function)==null?void 0:k.arguments)!=null&&(pe.function.arguments.length>0&&T.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:pe.id,toolName:pe.function.name,argsTextDelta:pe.function.arguments}),c4(pe.function.arguments)&&(T.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(C=pe.id)!=null?C:Ei(),toolName:pe.function.name,args:pe.function.arguments}),pe.hasFinished=!0));continue}const R=u[ne];R.hasFinished||(((A=ye.function)==null?void 0:A.arguments)!=null&&(R.function.arguments+=(D=(P=ye.function)==null?void 0:P.arguments)!=null?D:""),T.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:R.id,toolName:R.function.name,argsTextDelta:($=ye.function.arguments)!=null?$:""}),((F=R.function)==null?void 0:F.name)!=null&&((q=R.function)==null?void 0:q.arguments)!=null&&c4(R.function.arguments)&&(T.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(U=R.id)!=null?U:Ei(),toolName:R.function.name,args:R.function.arguments}),R.hasFinished=!0))}},flush(g){var T,y;g.enqueue({type:"finish",finishReason:l,logprobs:d,usage:{promptTokens:(T=c.promptTokens)!=null?T:NaN,completionTokens:(y=c.completionTokens)!=null?y:NaN},...p!=null?{providerMetadata:p}:{}})}})),rawCall:{rawPrompt:s,rawSettings:o},rawResponse:{headers:a},request:{body:JSON.stringify(n)},warnings:r}}},Ek=ve({prompt_tokens:$e().nullish(),completion_tokens:$e().nullish(),prompt_tokens_details:ve({cached_tokens:$e().nullish()}).nullish(),completion_tokens_details:ve({reasoning_tokens:$e().nullish(),accepted_prediction_tokens:$e().nullish(),rejected_prediction_tokens:$e().nullish()}).nullish()}).nullish(),Oie=ve({id:he().nullish(),created:$e().nullish(),model:he().nullish(),choices:Nt(ve({message:ve({role:It("assistant").nullish(),content:he().nullish(),function_call:ve({arguments:he(),name:he()}).nullish(),tool_calls:Nt(ve({id:he().nullish(),type:It("function"),function:ve({name:he(),arguments:he()})})).nullish()}),index:$e(),logprobs:ve({content:Nt(ve({token:he(),logprob:$e(),top_logprobs:Nt(ve({token:he(),logprob:$e()}))})).nullable()}).nullish(),finish_reason:he().nullish()})),usage:Ek}),Mie=z0([ve({id:he().nullish(),created:$e().nullish(),model:he().nullish(),choices:Nt(ve({delta:ve({role:E1(["assistant"]).nullish(),content:he().nullish(),function_call:ve({name:he().optional(),arguments:he().optional()}).nullish(),tool_calls:Nt(ve({index:$e(),id:he().nullish(),type:It("function").nullish(),function:ve({name:he().nullish(),arguments:he().nullish()})})).nullish()}).nullish(),logprobs:ve({content:Nt(ve({token:he(),logprob:$e(),top_logprobs:Nt(ve({token:he(),logprob:$e()}))})).nullable()}).nullish(),finish_reason:he().nullish(),index:$e()})),usage:Ek}),j1]);function bp(e){return e.startsWith("o")||e.startsWith("gpt-5")}function Pie(e){return e.startsWith("gpt-4o-audio-preview")}function Die(e){var t,r;return bp(e)?(r=(t=Lie[e])==null?void 0:t.systemMessageMode)!=null?r:"developer":"system"}var Lie={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function Fie({prompt:e,inputFormat:t,user:r="user",assistant:n="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let a="";e[0].role==="system"&&(a+=`${e[0].content}

`,e=e.slice(1));for(const{role:i,content:s}of e)switch(i){case"system":throw new Xae({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{const o=s.map(u=>{switch(u.type){case"text":return u.text;case"image":throw new fr({functionality:"images"})}}).join("");a+=`${r}:
${o}

`;break}case"assistant":{const o=s.map(u=>{switch(u.type){case"text":return u.text;case"tool-call":throw new fr({functionality:"tool-call messages"})}}).join("");a+=`${n}:
${o}

`;break}case"tool":throw new fr({functionality:"tool messages"});default:{const o=i;throw new Error(`Unsupported role: ${o}`)}}return a+=`${n}:
`,{prompt:a,stopSequences:[`
${r}:`]}}function h4(e){return e?.tokens.map((t,r)=>({token:t,logprob:e.token_logprobs[r],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[r]).map(([n,a])=>({token:n,logprob:a})):[]}))}var Bie=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:r,maxTokens:n,temperature:a,topP:i,topK:s,frequencyPenalty:o,presencePenalty:u,stopSequences:l,responseFormat:c,seed:d}){var h;const f=e.type,p=[];s!=null&&p.push({type:"unsupported-setting",setting:"topK"}),c!=null&&c.type!=="text"&&p.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:g,stopSequences:T}=Fie({prompt:r,inputFormat:t}),y=[...T??[],...l??[]],x={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:n,temperature:a,top_p:i,frequency_penalty:o,presence_penalty:u,seed:d,prompt:g,stop:y.length>0?y:void 0};switch(f){case"regular":{if((h=e.tools)!=null&&h.length)throw new fr({functionality:"tools"});if(e.toolChoice)throw new fr({functionality:"toolChoice"});return{args:x,warnings:p}}case"object-json":throw new fr({functionality:"object-json mode"});case"object-tool":throw new fr({functionality:"object-tool mode"});default:{const _=f;throw new Error(`Unsupported type: ${_}`)}}}async doGenerate(e){const{args:t,warnings:r}=this.getArgs(e),{responseHeaders:n,value:a,rawValue:i}=await Ma({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:aa(this.config.headers(),e.headers),body:t,failedResponseHandler:ia,successfulResponseHandler:no(jie),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:s,...o}=t,u=a.choices[0];return{text:u.text,usage:{promptTokens:a.usage.prompt_tokens,completionTokens:a.usage.completion_tokens},finishReason:t0(u.finish_reason),logprobs:h4(u.logprobs),rawCall:{rawPrompt:s,rawSettings:o},rawResponse:{headers:n,body:i},response:r0(a),warnings:r,request:{body:JSON.stringify(t)}}}async doStream(e){const{args:t,warnings:r}=this.getArgs(e),n={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:a,value:i}=await Ma({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:aa(this.config.headers(),e.headers),body:n,failedResponseHandler:ia,successfulResponseHandler:B1($ie),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:s,...o}=t;let u="unknown",l={promptTokens:Number.NaN,completionTokens:Number.NaN},c,d=!0;return{stream:i.pipeThrough(new TransformStream({transform(h,f){if(!h.success){u="error",f.enqueue({type:"error",error:h.error});return}const p=h.value;if("error"in p){u="error",f.enqueue({type:"error",error:p.error});return}d&&(d=!1,f.enqueue({type:"response-metadata",...r0(p)})),p.usage!=null&&(l={promptTokens:p.usage.prompt_tokens,completionTokens:p.usage.completion_tokens});const g=p.choices[0];g?.finish_reason!=null&&(u=t0(g.finish_reason)),g?.text!=null&&f.enqueue({type:"text-delta",textDelta:g.text});const T=h4(g?.logprobs);T?.length&&(c===void 0&&(c=[]),c.push(...T))},flush(h){h.enqueue({type:"finish",finishReason:u,logprobs:c,usage:l})}})),rawCall:{rawPrompt:s,rawSettings:o},rawResponse:{headers:a},warnings:r,request:{body:JSON.stringify(n)}}}},jie=ve({id:he().nullish(),created:$e().nullish(),model:he().nullish(),choices:Nt(ve({text:he(),finish_reason:he(),logprobs:ve({tokens:Nt(he()),token_logprobs:Nt($e()),top_logprobs:Nt(L7(he(),$e())).nullable()}).nullish()})),usage:ve({prompt_tokens:$e(),completion_tokens:$e()})}),$ie=z0([ve({id:he().nullish(),created:$e().nullish(),model:he().nullish(),choices:Nt(ve({text:he(),finish_reason:he().nullish(),index:$e(),logprobs:ve({tokens:Nt(he()),token_logprobs:Nt($e()),top_logprobs:Nt(L7(he(),$e())).nullable()}).nullish()})),usage:ve({prompt_tokens:$e(),completion_tokens:$e()}).nullish()}),j1]),zie=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:r}){if(e.length>this.maxEmbeddingsPerCall)throw new rie({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:n,value:a}=await Ma({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:aa(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:ia,successfulResponseHandler:no(Uie),abortSignal:r,fetch:this.config.fetch});return{embeddings:a.data.map(i=>i.embedding),usage:a.usage?{tokens:a.usage.prompt_tokens}:void 0,rawResponse:{headers:n}}}},Uie=ve({data:Nt(ve({embedding:Nt($e())})),usage:ve({prompt_tokens:$e()}).nullish()}),Hie={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10},Vie=new Set(["gpt-image-1"]),qie=class{constructor(e,t,r){this.modelId=e,this.settings=t,this.config=r,this.specificationVersion="v1"}get maxImagesPerCall(){var e,t;return(t=(e=this.settings.maxImagesPerCall)!=null?e:Hie[this.modelId])!=null?t:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:r,aspectRatio:n,seed:a,providerOptions:i,headers:s,abortSignal:o}){var u,l,c,d;const h=[];n!=null&&h.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),a!=null&&h.push({type:"unsupported-setting",setting:"seed"});const f=(c=(l=(u=this.config._internal)==null?void 0:u.currentDate)==null?void 0:l.call(u))!=null?c:new Date,{value:p,responseHeaders:g}=await Ma({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:aa(this.config.headers(),s),body:{model:this.modelId,prompt:e,n:t,size:r,...(d=i.openai)!=null?d:{},...Vie.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:ia,successfulResponseHandler:no(Wie),abortSignal:o,fetch:this.config.fetch});return{images:p.data.map(T=>T.b64_json),warnings:h,response:{timestamp:f,modelId:this.modelId,headers:g}}}},Wie=ve({data:Nt(ve({b64_json:he()}))}),Zie=ve({include:Nt(he()).nullish(),language:he().nullish(),prompt:he().nullish(),temperature:$e().min(0).max(1).nullish().default(0),timestampGranularities:Nt(E1(["word","segment"])).nullish().default(["segment"])}),f4={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},Gie=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({audio:e,mediaType:t,providerOptions:r}){var n,a,i,s,o;const u=[],l=F1({provider:"openai",providerOptions:r,schema:Zie}),c=new FormData,d=e instanceof Uint8Array?new Blob([e]):new Blob([Aie(e)]);if(c.append("model",this.modelId),c.append("file",new File([d],"audio",{type:t})),l){const h={include:(n=l.include)!=null?n:void 0,language:(a=l.language)!=null?a:void 0,prompt:(i=l.prompt)!=null?i:void 0,temperature:(s=l.temperature)!=null?s:void 0,timestamp_granularities:(o=l.timestampGranularities)!=null?o:void 0};for(const f in h){const p=h[f];p!==void 0&&c.append(f,String(p))}}return{formData:c,warnings:u}}async doGenerate(e){var t,r,n,a,i,s;const o=(n=(r=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:r.call(t))!=null?n:new Date,{formData:u,warnings:l}=this.getArgs(e),{value:c,responseHeaders:d,rawValue:h}=await Tie({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:aa(this.config.headers(),e.headers),formData:u,failedResponseHandler:ia,successfulResponseHandler:no(Yie),abortSignal:e.abortSignal,fetch:this.config.fetch}),f=c.language!=null&&c.language in f4?f4[c.language]:void 0;return{text:c.text,segments:(i=(a=c.words)==null?void 0:a.map(p=>({text:p.word,startSecond:p.start,endSecond:p.end})))!=null?i:[],language:f,durationInSeconds:(s=c.duration)!=null?s:void 0,warnings:l,response:{timestamp:o,modelId:this.modelId,headers:d,body:h}}}},Yie=ve({text:he(),language:he().nullish(),duration:$e().nullish(),words:Nt(ve({word:he(),start:$e(),end:$e()})).nullish()});function Kie({prompt:e,systemMessageMode:t}){const r=[],n=[];for(const{role:a,content:i}of e)switch(a){case"system":{switch(t){case"system":{r.push({role:"system",content:i});break}case"developer":{r.push({role:"developer",content:i});break}case"remove":{n.push({type:"other",message:"system messages are removed for this model"});break}default:{const s=t;throw new Error(`Unsupported system message mode: ${s}`)}}break}case"user":{r.push({role:"user",content:i.map((s,o)=>{var u,l,c,d;switch(s.type){case"text":return{type:"input_text",text:s.text};case"image":return{type:"input_image",image_url:s.image instanceof URL?s.image.toString():`data:${(u=s.mimeType)!=null?u:"image/jpeg"};base64,${Tk(s.image)}`,detail:(c=(l=s.providerMetadata)==null?void 0:l.openai)==null?void 0:c.imageDetail};case"file":{if(s.data instanceof URL)throw new fr({functionality:"File URLs in user messages"});if(s.mimeType==="application/pdf")return{type:"input_file",filename:(d=s.filename)!=null?d:`part-${o}.pdf`,file_data:`data:application/pdf;base64,${s.data}`};throw new fr({functionality:"Only PDF files are supported in user messages"})}}})});break}case"assistant":{for(const s of i)switch(s.type){case"text":{r.push({role:"assistant",content:[{type:"output_text",text:s.text}]});break}case"tool-call":{r.push({type:"function_call",call_id:s.toolCallId,name:s.toolName,arguments:JSON.stringify(s.args)});break}}break}case"tool":{for(const s of i)r.push({type:"function_call_output",call_id:s.toolCallId,output:JSON.stringify(s.result)});break}default:{const s=a;throw new Error(`Unsupported role: ${s}`)}}return{messages:r,warnings:n}}function p4({finishReason:e,hasToolCalls:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}function Xie({mode:e,strict:t}){var r;const n=(r=e.tools)!=null&&r.length?e.tools:void 0,a=[];if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:a};const i=e.toolChoice,s=[];for(const u of n)switch(u.type){case"function":s.push({type:"function",name:u.name,description:u.description,parameters:u.parameters,strict:t?!0:void 0});break;case"provider-defined":u.id==="openai.web_search_preview"?s.push({type:"web_search_preview",search_context_size:u.args.searchContextSize,user_location:u.args.userLocation}):a.push({type:"unsupported-tool",tool:u});break;default:a.push({type:"unsupported-tool",tool:u});break}if(i==null)return{tools:s,tool_choice:void 0,toolWarnings:a};const o=i.type;switch(o){case"auto":case"none":case"required":return{tools:s,tool_choice:o,toolWarnings:a};case"tool":return i.toolName==="web_search_preview"?{tools:s,tool_choice:{type:"web_search_preview"},toolWarnings:a}:{tools:s,tool_choice:{type:"function",name:i.toolName},toolWarnings:a};default:{const u=o;throw new fr({functionality:`Unsupported tool choice type: ${u}`})}}}var Jie=class{constructor(e,t){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsStructuredOutputs=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}getArgs({mode:e,maxTokens:t,temperature:r,stopSequences:n,topP:a,topK:i,presencePenalty:s,frequencyPenalty:o,seed:u,prompt:l,providerMetadata:c,responseFormat:d}){var h,f,p;const g=[],T=bse(this.modelId),y=e.type;i!=null&&g.push({type:"unsupported-setting",setting:"topK"}),u!=null&&g.push({type:"unsupported-setting",setting:"seed"}),s!=null&&g.push({type:"unsupported-setting",setting:"presencePenalty"}),o!=null&&g.push({type:"unsupported-setting",setting:"frequencyPenalty"}),n!=null&&g.push({type:"unsupported-setting",setting:"stopSequences"});const{messages:x,warnings:_}=Kie({prompt:l,systemMessageMode:T.systemMessageMode});g.push(..._);const k=F1({provider:"openai",providerOptions:c,schema:vse}),C=(h=k?.strictSchemas)!=null?h:!0,A={model:this.modelId,input:x,temperature:r,top_p:a,max_output_tokens:t,...d?.type==="json"&&{text:{format:d.schema!=null?{type:"json_schema",strict:C,name:(f=d.name)!=null?f:"response",description:d.description,schema:d.schema}:{type:"json_object"}}},metadata:k?.metadata,parallel_tool_calls:k?.parallelToolCalls,previous_response_id:k?.previousResponseId,store:k?.store,user:k?.user,instructions:k?.instructions,...T.isReasoningModel&&(k?.reasoningEffort!=null||k?.reasoningSummary!=null)&&{reasoning:{...k?.reasoningEffort!=null&&{effort:k.reasoningEffort},...k?.reasoningSummary!=null&&{summary:k.reasoningSummary}}},...T.requiredAutoTruncation&&{truncation:"auto"}};switch(T.isReasoningModel&&(A.temperature!=null&&(A.temperature=void 0,g.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),A.top_p!=null&&(A.top_p=void 0,g.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))),y){case"regular":{const{tools:P,tool_choice:D,toolWarnings:$}=Xie({mode:e,strict:C});return{args:{...A,tools:P,tool_choice:D},warnings:[...g,...$]}}case"object-json":return{args:{...A,text:{format:e.schema!=null?{type:"json_schema",strict:C,name:(p=e.name)!=null?p:"response",description:e.description,schema:e.schema}:{type:"json_object"}}},warnings:g};case"object-tool":return{args:{...A,tool_choice:{type:"function",name:e.tool.name},tools:[{type:"function",name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:C}]},warnings:g};default:{const P=y;throw new Error(`Unsupported type: ${P}`)}}}async doGenerate(e){var t,r,n,a,i,s,o;const{args:u,warnings:l}=this.getArgs(e),c=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:d,value:h,rawValue:f}=await Ma({url:c,headers:aa(this.config.headers(),e.headers),body:u,failedResponseHandler:ia,successfulResponseHandler:no(ve({id:he(),created_at:$e(),error:ve({message:he(),code:he()}).nullish(),model:he(),output:Nt(T1("type",[ve({type:It("message"),role:It("assistant"),content:Nt(ve({type:It("output_text"),text:he(),annotations:Nt(ve({type:It("url_citation"),start_index:$e(),end_index:$e(),url:he(),title:he()}))}))}),ve({type:It("function_call"),call_id:he(),name:he(),arguments:he()}),ve({type:It("web_search_call")}),ve({type:It("computer_call")}),ve({type:It("reasoning"),summary:Nt(ve({type:It("summary_text"),text:he()}))})])),incomplete_details:ve({reason:he()}).nullable(),usage:kk})),abortSignal:e.abortSignal,fetch:this.config.fetch});if(h.error)throw new cn({message:h.error.message,url:c,requestBodyValues:u,statusCode:400,responseHeaders:d,responseBody:f,isRetryable:!1});const p=h.output.filter(y=>y.type==="message").flatMap(y=>y.content).filter(y=>y.type==="output_text"),g=h.output.filter(y=>y.type==="function_call").map(y=>({toolCallType:"function",toolCallId:y.call_id,toolName:y.name,args:y.arguments})),T=(r=(t=h.output.find(y=>y.type==="reasoning"))==null?void 0:t.summary)!=null?r:null;return{text:p.map(y=>y.text).join(`
`),sources:p.flatMap(y=>y.annotations.map(x=>{var _,k,C;return{sourceType:"url",id:(C=(k=(_=this.config).generateId)==null?void 0:k.call(_))!=null?C:Ei(),url:x.url,title:x.title}})),finishReason:p4({finishReason:(n=h.incomplete_details)==null?void 0:n.reason,hasToolCalls:g.length>0}),toolCalls:g.length>0?g:void 0,reasoning:T?T.map(y=>({type:"text",text:y.text})):void 0,usage:{promptTokens:h.usage.input_tokens,completionTokens:h.usage.output_tokens},rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:d,body:f},request:{body:JSON.stringify(u)},response:{id:h.id,timestamp:new Date(h.created_at*1e3),modelId:h.model},providerMetadata:{openai:{responseId:h.id,cachedPromptTokens:(i=(a=h.usage.input_tokens_details)==null?void 0:a.cached_tokens)!=null?i:null,reasoningTokens:(o=(s=h.usage.output_tokens_details)==null?void 0:s.reasoning_tokens)!=null?o:null}},warnings:l}}async doStream(e){const{args:t,warnings:r}=this.getArgs(e),{responseHeaders:n,value:a}=await Ma({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:aa(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:ia,successfulResponseHandler:B1(use),abortSignal:e.abortSignal,fetch:this.config.fetch}),i=this;let s="unknown",o=NaN,u=NaN,l=null,c=null,d=null;const h={};let f=!1;return{stream:a.pipeThrough(new TransformStream({transform(p,g){var T,y,x,_,k,C,A,P;if(!p.success){s="error",g.enqueue({type:"error",error:p.error});return}const D=p.value;if(pse(D))D.item.type==="function_call"&&(h[D.output_index]={toolName:D.item.name,toolCallId:D.item.call_id},g.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:D.item.call_id,toolName:D.item.name,argsTextDelta:D.item.arguments}));else if(fse(D)){const $=h[D.output_index];$!=null&&g.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:$.toolCallId,toolName:$.toolName,argsTextDelta:D.delta})}else hse(D)?(d=D.response.id,g.enqueue({type:"response-metadata",id:D.response.id,timestamp:new Date(D.response.created_at*1e3),modelId:D.response.model})):lse(D)?g.enqueue({type:"text-delta",textDelta:D.delta}):gse(D)?g.enqueue({type:"reasoning",textDelta:D.delta}):cse(D)&&D.item.type==="function_call"?(h[D.output_index]=void 0,f=!0,g.enqueue({type:"tool-call",toolCallType:"function",toolCallId:D.item.call_id,toolName:D.item.name,args:D.item.arguments})):dse(D)?(s=p4({finishReason:(T=D.response.incomplete_details)==null?void 0:T.reason,hasToolCalls:f}),o=D.response.usage.input_tokens,u=D.response.usage.output_tokens,l=(x=(y=D.response.usage.input_tokens_details)==null?void 0:y.cached_tokens)!=null?x:l,c=(k=(_=D.response.usage.output_tokens_details)==null?void 0:_.reasoning_tokens)!=null?k:c):mse(D)?g.enqueue({type:"source",source:{sourceType:"url",id:(P=(A=(C=i.config).generateId)==null?void 0:A.call(C))!=null?P:Ei(),url:D.annotation.url,title:D.annotation.title}}):yse(D)&&g.enqueue({type:"error",error:D})},flush(p){p.enqueue({type:"finish",finishReason:s,usage:{promptTokens:o,completionTokens:u},...(l!=null||c!=null)&&{providerMetadata:{openai:{responseId:d,cachedPromptTokens:l,reasoningTokens:c}}}})}})),rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:n},request:{body:JSON.stringify(t)},warnings:r}}},kk=ve({input_tokens:$e(),input_tokens_details:ve({cached_tokens:$e().nullish()}).nullish(),output_tokens:$e(),output_tokens_details:ve({reasoning_tokens:$e().nullish()}).nullish()}),Qie=ve({type:It("response.output_text.delta"),delta:he()}),ese=ve({type:E1(["response.completed","response.incomplete"]),response:ve({incomplete_details:ve({reason:he()}).nullish(),usage:kk})}),tse=ve({type:It("response.created"),response:ve({id:he(),created_at:$e(),model:he()})}),rse=ve({type:It("response.output_item.done"),output_index:$e(),item:T1("type",[ve({type:It("message")}),ve({type:It("function_call"),id:he(),call_id:he(),name:he(),arguments:he(),status:It("completed")})])}),nse=ve({type:It("response.function_call_arguments.delta"),item_id:he(),output_index:$e(),delta:he()}),ase=ve({type:It("response.output_item.added"),output_index:$e(),item:T1("type",[ve({type:It("message")}),ve({type:It("function_call"),id:he(),call_id:he(),name:he(),arguments:he()})])}),ise=ve({type:It("response.output_text.annotation.added"),annotation:ve({type:It("url_citation"),url:he(),title:he()})}),sse=ve({type:It("response.reasoning_summary_text.delta"),item_id:he(),output_index:$e(),summary_index:$e(),delta:he()}),ose=ve({type:It("error"),code:he(),message:he(),param:he().nullish(),sequence_number:$e()}),use=z0([Qie,ese,tse,rse,nse,ase,ise,sse,ose,ve({type:he()}).passthrough()]);function lse(e){return e.type==="response.output_text.delta"}function cse(e){return e.type==="response.output_item.done"}function dse(e){return e.type==="response.completed"||e.type==="response.incomplete"}function hse(e){return e.type==="response.created"}function fse(e){return e.type==="response.function_call_arguments.delta"}function pse(e){return e.type==="response.output_item.added"}function mse(e){return e.type==="response.output_text.annotation.added"}function gse(e){return e.type==="response.reasoning_summary_text.delta"}function yse(e){return e.type==="error"}function bse(e){return e.startsWith("o")||e.startsWith("gpt-5")?e.startsWith("o1-mini")||e.startsWith("o1-preview")?{isReasoningModel:!0,systemMessageMode:"remove",requiredAutoTruncation:!1}:{isReasoningModel:!0,systemMessageMode:"developer",requiredAutoTruncation:!1}:{isReasoningModel:!1,systemMessageMode:"system",requiredAutoTruncation:!1}}var vse=ve({metadata:D7().nullish(),parallelToolCalls:lh().nullish(),previousResponseId:he().nullish(),store:lh().nullish(),user:he().nullish(),reasoningEffort:he().nullish(),strictSchemas:lh().nullish(),instructions:he().nullish(),reasoningSummary:he().nullish()}),xse=ve({});function wse({searchContextSize:e,userLocation:t}={}){return{type:"provider-defined",id:"openai.web_search_preview",args:{searchContextSize:e,userLocation:t},parameters:xse}}var Tse={webSearchPreview:wse},Ese=ve({instructions:he().nullish(),speed:$e().min(.25).max(4).default(1).nullish()}),kse=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({text:e,voice:t="alloy",outputFormat:r="mp3",speed:n,instructions:a,providerOptions:i}){const s=[],o=F1({provider:"openai",providerOptions:i,schema:Ese}),u={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:n,instructions:a};if(r&&(["mp3","opus","aac","flac","wav","pcm"].includes(r)?u.response_format=r:s.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${r}. Using mp3 instead.`})),o){const l={};for(const c in l){const d=l[c];d!==void 0&&(u[c]=d)}}return{requestBody:u,warnings:s}}async doGenerate(e){var t,r,n;const a=(n=(r=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:r.call(t))!=null?n:new Date,{requestBody:i,warnings:s}=this.getArgs(e),{value:o,responseHeaders:u,rawValue:l}=await Ma({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:aa(this.config.headers(),e.headers),body:i,failedResponseHandler:ia,successfulResponseHandler:kie(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:o,warnings:s,request:{body:JSON.stringify(i)},response:{timestamp:a,modelId:this.modelId,headers:u,body:l}}}};function _k(e={}){var t,r,n;const a=(t=Cie(e.baseURL))!=null?t:"https://api.openai.com/v1",i=(r=e.compatibility)!=null?r:"compatible",s=(n=e.name)!=null?n:"openai",o=()=>({Authorization:`Bearer ${pie({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),u=(y,x={})=>new Rie(y,x,{provider:`${s}.chat`,url:({path:_})=>`${a}${_}`,headers:o,compatibility:i,fetch:e.fetch}),l=(y,x={})=>new Bie(y,x,{provider:`${s}.completion`,url:({path:_})=>`${a}${_}`,headers:o,compatibility:i,fetch:e.fetch}),c=(y,x={})=>new zie(y,x,{provider:`${s}.embedding`,url:({path:_})=>`${a}${_}`,headers:o,fetch:e.fetch}),d=(y,x={})=>new qie(y,x,{provider:`${s}.image`,url:({path:_})=>`${a}${_}`,headers:o,fetch:e.fetch}),h=y=>new Gie(y,{provider:`${s}.transcription`,url:({path:x})=>`${a}${x}`,headers:o,fetch:e.fetch}),f=y=>new kse(y,{provider:`${s}.speech`,url:({path:x})=>`${a}${x}`,headers:o,fetch:e.fetch}),p=(y,x)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return y==="gpt-3.5-turbo-instruct"?l(y,x):u(y,x)},g=y=>new Jie(y,{provider:`${s}.responses`,url:({path:x})=>`${a}${x}`,headers:o,fetch:e.fetch}),T=function(y,x){return p(y,x)};return T.languageModel=p,T.chat=u,T.completion=l,T.responses=g,T.embedding=c,T.textEmbedding=c,T.textEmbeddingModel=c,T.image=d,T.imageModel=d,T.transcription=h,T.transcriptionModel=h,T.speech=f,T.speechModel=f,T.tools=Tse,T}_k({compatibility:"strict"});var _se={};class Sse{constructor(t,r){this.providerInstance=null,this.abortController=null,this.apiKey=t||"server-side-key",this.baseURL=_se.AI_API_URL||"https://api.siliconflow.cn/v1",this.model=r||"MiniMaxAI/MiniMax-M2",this.initializeProvider()}initializeProvider(){this.apiKey&&(this.providerInstance=_k({baseURL:this.baseURL,apiKey:this.apiKey}))}setApiKey(t){this.apiKey=t,this.initializeProvider()}getApiKey(){return this.apiKey}hasApiKey(){return!!this.apiKey}convertMessages(t){return t.map(r=>({role:r.role,content:r.content}))}async chat(t,r={}){if(!this.providerInstance)throw new Error("");const n=this.convertMessages(t),a=this.providerInstance(r.model||"MiniMaxAI/MiniMax-M2"),{text:i}=await vae({model:a,messages:n,temperature:r.temperature,maxOutputTokens:r.maxTokens??5e4,topP:r.topP});return i}async*chatStream(t,r={}){if(!this.providerInstance)throw new Error("");this.abortController=new AbortController;try{const n=this.convertMessages(t),a=this.providerInstance(r.model||"MiniMaxAI/MiniMax-M2"),i=await Bae({model:a,messages:n,temperature:r.temperature,maxOutputTokens:r.maxTokens??5e4,topP:r.topP,abortSignal:this.abortController.signal});for await(const s of i.textStream)yield s}finally{this.abortController=null}}stopStream(){this.abortController&&(this.abortController.abort(),this.abortController=null)}getAvailableModels(){return["MiniMaxAI/MiniMax-M2"]}async*chatCompletionStream(t,r={}){console.log(" AI "),console.log(" :",t.filter(i=>i.role==="user").map(i=>i.content)),console.log(" :",{useKnowledge:r.useKnowledge,useWebSearch:r.useWebSearch,useThinking:r.useThinking});let n=t;r.systemPrompt&&(t.some(s=>s.role==="system")||(n=[{role:"system",content:r.systemPrompt},...t],console.log(" ")));const a={messages:n,stream:!0};this.model&&(a.model=this.model),r.temperature!==void 0&&(a.temperature=r.temperature),r.maxTokens!==void 0&&(a.max_tokens=r.maxTokens),r.useThinking&&(a.thinking={type:"enabled"}),this.abortController=new AbortController,console.log(" :",JSON.stringify(a,null,2));try{const i=await fetch("/api/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify(a),signal:this.abortController.signal});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.error||` (${i.status})`)}const s=i.body?.getReader();if(!s)throw new Error("");const o=new TextDecoder;let u="";for(;;){const{done:l,value:c}=await s.read();if(l)break;u+=o.decode(c,{stream:!0});const d=u.split(`
`);u=d.pop()||"";for(const h of d){if(!h.trim()||!h.startsWith("data:"))continue;const f=h.slice(5).trim();if(f==="[DONE]")return;try{const p=JSON.parse(f);for(const g of p.choices)g.finish_reason&&(yield{finishReason:g.finish_reason}),g.delta&&(g.delta.reasoning_content&&(yield{thinking:g.delta.reasoning_content}),g.delta.content&&(yield{content:g.delta.content}));p.usage&&(yield{usage:p.usage})}catch(p){console.error(" SSE:",p,":",f)}}}}finally{this.abortController=null}}getHeaders(){return{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"}}}const m4=new Sse,Ase=`[]/[/]

****

1. ****  
2. ****  
3. ****  ****
4. ****  ****

****
1. ****
2. ****
3. ****Mermaid
4. ****
5. ****
6. ****
7. ****

****

### 1. 
- /

### 2. 
- **Mermaid**
- 
    - ****
    - ****
    - ****
    - ****

### 3. 
- /
- /

### 4. 
- 
- 
- 

### 5. 
- 

****
- ""
- 

**** 
[]`;var Cse={};function Ise(){const[e,t]=E.useState([]),[r,n]=E.useState(!1),a=E.useRef(null),i=E.useRef([]),s=E.useCallback(async(f,p,g,T)=>{console.log(" ========== =========="),console.log(" :",f),console.log(" :",p.length,"");const y=Cse.KNOWLEDGE_IDS?.split(",")||[],x=T||y[0],_=[];g?.knowledgeContext&&(console.log(" :",g.knowledgeContext.length),_.push(g.knowledgeContext)),g?.webContext&&(console.log(" :",g.webContext.length),_.push(g.webContext));const k=_.length>0?`${_.join(`

`)}


${p}`:p;console.log(" API");const C=await fetch("/api/analysis/stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:k,knowledgeId:x})});if(!C.ok)throw new Error(` (${C.status})`);const A=C.body?.getReader(),P=new TextDecoder;let D="";if(A)try{for(;;){const{done:U,value:ee}=await A.read();if(U)break;const J=P.decode(ee,{stream:!0}).split(`
`);for(const be of J)if(be.startsWith("data: ")){const Te=be.slice(6);if(Te==="[DONE]")continue;try{const ne=JSON.parse(Te).choices?.[0]?.delta?.content;ne&&a.current&&(D+=ne,a.current.content+=ne,a.current.isStreaming=!0,t(R=>{const pe=[...R],W=pe.length-1;return W>=0&&pe[W].id===a.current?.id&&(pe[W]={...a.current}),pe}))}catch{}}}}finally{A.releaseLock()}console.log(" :",D.length),console.log(" ");let $=!1,F=0;const q=3;for(;!$&&F<q;)try{F>0&&(console.log(`  ${F}/${q}`),await new Promise(Z=>setTimeout(Z,1e3*F)));const U=await fetch("/api/analysis/summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:D})});if(!U.ok)throw new Error(` (${U.status})`);const ee=await U.json();if(ee.success&&ee.results&&a.current)console.log(" :",ee.results.length),a.current.analysisResults=ee.results,a.current.content+=`

---

 ${ee.results.length} `,a.current.isStreaming=!1,t(Z=>{const J=[...Z],be=J.length-1;return be>=0&&J[be].id===a.current?.id&&(J[be]={...a.current}),J}),$=!0;else throw new Error("")}catch(U){F++,console.error(`  ( ${F}/${q}):`,U),F>=q&&(console.log(" "),a.current&&(a.current.content+=`

---

`,a.current.isStreaming=!1,t(ee=>{const Z=[...ee],J=Z.length-1;return J>=0&&Z[J].id===a.current?.id&&(Z[J]={...a.current}),Z})))}console.log(`==========  ==========
`),a.current&&(a.current.isStreaming=!1,t(U=>{const ee=[...U],Z=ee.length-1;return Z>=0&&ee[Z].id===a.current?.id&&(ee[Z]={...a.current}),ee}))},[]),o=E.useCallback((f,p)=>{const g=[...i.current],T=[];if(p?.knowledgeContext&&(console.log(" :",p.knowledgeContext.length),T.push(p.knowledgeContext)),p?.webContext&&(console.log(" :",p.webContext.length),T.push(p.webContext)),T.length>0){const y=`${T.join(`

`)}

${f.trim()}`;console.log(" :",y.length),console.log(" :",y.substring(0,300)+"..."),g.push({role:"user",content:y})}else console.log(" "),g.push({role:"user",content:f.trim()});return i.current.push({role:"user",content:f.trim()}),g},[]),u=E.useCallback(async(f,p)=>{const g=m4.chatCompletionStream(f,{useKnowledge:!1,useWebSearch:!1,useThinking:!0,systemPrompt:p.systemPrompt});for await(const T of g){if(!a.current)break;if(T.thinking!==void 0&&(p.showThinking??!0)&&(a.current.thinking=(a.current.thinking||"")+T.thinking),T.content!==void 0&&(a.current.content+=T.content),T.references&&(p.showReferences??!0)){a.current.references||(a.current.references=[]);for(const y of T.references)a.current.references.some(_=>_.content===y.content)||a.current.references.push(y)}T.finishReason&&((T.finishReason==="sensitive"||T.finishReason==="network_error")&&(a.current.error=T.finishReason==="sensitive"?"":""),a.current.isStreaming=!1),t(y=>{const x=[...y],_=x.length-1;return _>=0&&x[_].id===a.current?.id&&(x[_]={...a.current}),x})}a.current&&(a.current.isStreaming=!1,i.current.push({role:"assistant",content:a.current.content}),t(T=>{const y=[...T],x=y.length-1;return x>=0&&y[x].id===a.current?.id&&(y[x]={...a.current}),y}))},[]),l=E.useCallback(async(f,p={},g)=>{if(!f.trim()||r)return;const T=!!p.fileContent,y={id:`user-${Date.now()}`,role:"user",content:f.trim(),timestamp:Date.now(),uploadedFileName:p.uploadedFile?.name};t(_=>[..._,y]);const x={id:`assistant-${Date.now()}`,role:"assistant",content:"",timestamp:Date.now(),isStreaming:!0,isLoading:!1,thinking:"",references:g?.references||[],analysisResults:[]};a.current=x,t(_=>[..._,x]);try{if(T&&p.fileContent){await s(f,p.fileContent,g,p.knowledgeId),a.current&&(a.current.isStreaming=!1),n(!1),a.current=null;return}const _=o(f,g);await u(_,{...p,systemPrompt:Ase})}catch(_){console.error(":",_),a.current&&(a.current.error=_ instanceof Error?_.message:"",a.current.isStreaming=!1,t(k=>{const C=[...k],A=C.length-1;return A>=0&&C[A].id===a.current?.id&&(C[A]={...a.current}),C}))}finally{n(!1),a.current=null}},[r,s,o,u]),c=E.useCallback(()=>{m4.stopStream(),a.current&&(a.current.isStreaming=!1,t(f=>{const p=[...f],g=p.length-1;return g>=0&&p[g].id===a.current?.id&&(p[g]={...a.current}),p})),n(!1),a.current=null},[]),d=E.useCallback(()=>{t([]),i.current=[],a.current=null},[]),h=E.useCallback(()=>{d()},[d]);return{messages:e,isGenerating:r,sendMessage:l,stopGenerating:c,clearMessages:d,startNewConversation:h}}var Nse={};class Rse{constructor(t){this.apiKey=t?.apiKey||Nse.AI_API_KEY||""}async retrieve(t){if(!t.query||t.query.length>1e3)throw new Error("1-1000");console.log(" :",{query:t.query,knowledge_ids:t.knowledge_ids||"",top_k:t.top_k||8,recall_method:t.recall_method||"embedding"});const r=this.apiKey||"client-key";try{const n=await fetch("/api/knowledge/retrieve",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({request_id:t.request_id||`retrieve-${Date.now()}`,query:t.query,knowledge_ids:t.knowledge_ids,document_ids:t.document_ids,top_k:t.top_k||8,top_n:t.top_n||10,recall_method:t.recall_method||"embedding",recall_ratio:t.recall_ratio||80,rerank_status:t.rerank_status||0,rerank_model:t.rerank_model,fractional_threshold:t.fractional_threshold})});if(!n.ok){const i=await n.json().catch(()=>({})),s=i.message||i.error||` (${n.status})`;throw new Error(s)}const a=await n.json();if(console.log(" API :",{code:a.code,message:a.message,dataLength:a.data?.length,hasData:!!a.data}),a.code!==200){const i=a.message||"";throw new Error(`[${a.code}] ${i}`)}if(!a.data||!Array.isArray(a.data))throw new Error("");return console.log(" :",{count:a.data.length,sources:[...new Set(a.data.map(i=>i.metadata?.doc_name||""))]}),a}catch(n){throw console.error(" :",n),n}}formatAsContext(t){return!t||t.length===0?"":`

${t.map((n,a)=>{const i=n.metadata.doc_name||"",s=n.text,o=(n.score*100).toFixed(1);return`[${a+1}] ${i} (: ${o}%)
${s}`}).join(`

`)}

`}updateConfig(t){t.apiKey&&(this.apiKey=t.apiKey)}isConfigured(){return!!this.apiKey}}const g4=new Rse;var Ose={};class Mse{constructor(){this.apiKey=Ose.SEARCH_API_KEY||""}async search(t,r={}){const{count:n=10}=r,a=await fetch("/api/web-search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t,count:n})});if(!a.ok){const i=await a.json().catch(()=>({}));throw new Error(i.error||` (${a.status})`)}return await a.json()}hasApiKey(){return!!this.apiKey}formatAsReferences(t){return t.map(r=>({content:r.content,source:r.media,link:r.link,title:r.title,refer:r.refer,publishDate:r.publish_date,type:"web_search"}))}formatAsContext(t){return t.length===0?"":`

${t.map((n,a)=>{const i=[`[${n.refer}] ${n.title}`,`${n.media}`,`${n.link}`];return n.publish_date&&i.push(`${n.publish_date}`),i.push(`${n.content}`),i.join(`
`)}).join(`

---

`)}`}}const _h=new Mse,y4=5e3,Sh=3,Pse=e=>new Promise(t=>setTimeout(t,e));function Dse(){const e=E.useCallback(async(i,s)=>{for(let o=1;o<=Sh;o++)try{console.log(` ${s}  ${o} ...`);const u=await i();return console.log(` ${s} `),u}catch(u){if(console.error(` ${s}  ${o} :`,u),o<Sh)console.log(`  ${y4/1e3} ...`),await Pse(y4);else return console.error(` ${s}  ${Sh} `),null}return null},[]),t=E.useCallback(async(i,s)=>{const o=s?s.split(",").map(c=>c.trim()):[""],l=(await g4.retrieve({query:i.trim(),knowledge_ids:o,top_k:10,recall_method:"mixed"})).data;return console.log(" :",l.length,":",o.join(",")),l},[]),r=E.useCallback(async i=>{const o=(await _h.search(i.trim(),{searchEngine:"search_std",count:10})).search_result||[];return console.log(" :",o.length,""),o},[]),n=E.useCallback(i=>i.length===0?[]:i.map(s=>({content:s.text.replace(/\s+/g," ").trim(),source:s.metadata.doc_name,score:s.score,type:"knowledge"})),[]);return{performRetrieval:E.useCallback(async(i,s)=>{const o={knowledgeSlices:[],webResults:[],references:[]};if(console.log("  ( ->  -> )"),console.log(" :",{knowledgeId:s.knowledgeId||"",enableKnowledge:s.showReferences,enableWebSearch:s.useWebSearch}),s.showReferences){console.log(`
 ========== 1:  ==========`);const u=await e(()=>t(i,s.knowledgeId),"");if(u&&u.length>0){o.knowledgeSlices=u;const l=n(u);o.references=[...o.references,...l],o.knowledgeContext=g4.formatAsContext(u),console.log(" ",u.length,"")}else console.log(" ")}else console.log(`
 `);if(s.useWebSearch){console.log(`
 ========== 2:  ==========`);const u=await e(()=>r(i),"");if(u&&u.length>0){o.webResults=u;const l=_h.formatAsReferences(u);o.references=[...o.references,...l],o.webContext=_h.formatAsContext(u),console.log(" ",u.length,"")}else console.log(" ")}else console.log(`
 `);return console.log(`
 ========== 3:  ==========`),console.log(" :",{:o.knowledgeSlices.length,:o.webResults.length,:o.references.length}),o},[e,t,r,n]),retrieveFromKnowledge:t,searchWeb:r,formatKnowledgeReferences:n}}const Lse={sliceLength:100,maxSlices:10,random:!0};function Fse(e,t={}){const{sliceLength:r,maxSlices:n,random:a}={...Lse,...t};if(!e||e.trim().length===0)return[];const i=e.trim(),s=i.length;if(s<=r)return[i];const o=[];for(let u=0;u<s;u+=r)o.push(i.slice(u,u+r));return a&&o.length>n?[...o].sort(()=>Math.random()-.5).slice(0,n):o.slice(0,n)}function Bse(e,t=" ",r=1e3){const n=e.filter(i=>i&&i.trim().length>0);let a="";for(const i of n){const s=a?a+t+i:i;if(s.length<=r)a=s;else break}return a.length>r&&(a=a.slice(0,r)),a}function Sk(e){return t=>typeof t===e}var jse=Sk("function"),$se=e=>e===null,b4=e=>Object.prototype.toString.call(e).slice(8,-1)==="RegExp",v4=e=>!zse(e)&&!$se(e)&&(jse(e)||typeof e=="object"),zse=Sk("undefined");function Use(e,t){const{length:r}=e;if(r!==t.length)return!1;for(let n=r;n--!==0;)if(!Rr(e[n],t[n]))return!1;return!0}function Hse(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e.buffer),n=new DataView(t.buffer);let a=e.byteLength;for(;a--;)if(r.getUint8(a)!==n.getUint8(a))return!1;return!0}function Vse(e,t){if(e.size!==t.size)return!1;for(const r of e.entries())if(!t.has(r[0]))return!1;for(const r of e.entries())if(!Rr(r[1],t.get(r[0])))return!1;return!0}function qse(e,t){if(e.size!==t.size)return!1;for(const r of e.entries())if(!t.has(r[0]))return!1;return!0}function Rr(e,t){if(e===t)return!0;if(e&&v4(e)&&t&&v4(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return Use(e,t);if(e instanceof Map&&t instanceof Map)return Vse(e,t);if(e instanceof Set&&t instanceof Set)return qse(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return Hse(e,t);if(b4(e)&&b4(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=r.length;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[a]))return!1;for(let a=r.length;a--!==0;){const i=r[a];if(!(i==="_owner"&&e.$$typeof)&&!Rr(e[i],t[i]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}var Wse=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],Zse=["bigint","boolean","null","number","string","symbol","undefined"];function V0(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(Gse(t))return t}function Dn(e){return t=>V0(t)===e}function Gse(e){return Wse.includes(e)}function ao(e){return t=>typeof t===e}function Yse(e){return Zse.includes(e)}var Kse=["innerHTML","ownerDocument","style","attributes","nodeValue"];function _e(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(_e.array(e))return"Array";if(_e.plainFunction(e))return"Function";const t=V0(e);return t||"Object"}_e.array=Array.isArray;_e.arrayOf=(e,t)=>!_e.array(e)&&!_e.function(t)?!1:e.every(r=>t(r));_e.asyncGeneratorFunction=e=>V0(e)==="AsyncGeneratorFunction";_e.asyncFunction=Dn("AsyncFunction");_e.bigint=ao("bigint");_e.boolean=e=>e===!0||e===!1;_e.date=Dn("Date");_e.defined=e=>!_e.undefined(e);_e.domElement=e=>_e.object(e)&&!_e.plainObject(e)&&e.nodeType===1&&_e.string(e.nodeName)&&Kse.every(t=>t in e);_e.empty=e=>_e.string(e)&&e.length===0||_e.array(e)&&e.length===0||_e.object(e)&&!_e.map(e)&&!_e.set(e)&&Object.keys(e).length===0||_e.set(e)&&e.size===0||_e.map(e)&&e.size===0;_e.error=Dn("Error");_e.function=ao("function");_e.generator=e=>_e.iterable(e)&&_e.function(e.next)&&_e.function(e.throw);_e.generatorFunction=Dn("GeneratorFunction");_e.instanceOf=(e,t)=>!e||!t?!1:Object.getPrototypeOf(e)===t.prototype;_e.iterable=e=>!_e.nullOrUndefined(e)&&_e.function(e[Symbol.iterator]);_e.map=Dn("Map");_e.nan=e=>Number.isNaN(e);_e.null=e=>e===null;_e.nullOrUndefined=e=>_e.null(e)||_e.undefined(e);_e.number=e=>ao("number")(e)&&!_e.nan(e);_e.numericString=e=>_e.string(e)&&e.length>0&&!Number.isNaN(Number(e));_e.object=e=>!_e.nullOrUndefined(e)&&(_e.function(e)||typeof e=="object");_e.oneOf=(e,t)=>_e.array(e)?e.indexOf(t)>-1:!1;_e.plainFunction=Dn("Function");_e.plainObject=e=>{if(V0(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};_e.primitive=e=>_e.null(e)||Yse(typeof e);_e.promise=Dn("Promise");_e.propertyOf=(e,t,r)=>{if(!_e.object(e)||!t)return!1;const n=e[t];return _e.function(r)?r(n):_e.defined(n)};_e.regexp=Dn("RegExp");_e.set=Dn("Set");_e.string=ao("string");_e.symbol=ao("symbol");_e.undefined=ao("undefined");_e.weakMap=Dn("WeakMap");_e.weakSet=Dn("WeakSet");var Ae=_e;function Xse(...e){return e.every(t=>Ae.string(t)||Ae.array(t)||Ae.plainObject(t))}function Jse(e,t,r){return Ak(e,t)?[e,t].every(Ae.array)?!e.some(k4(r))&&t.some(k4(r)):[e,t].every(Ae.plainObject)?!Object.entries(e).some(E4(r))&&Object.entries(t).some(E4(r)):t===r:!1}function x4(e,t,r){const{actual:n,key:a,previous:i,type:s}=r,o=Xn(e,a),u=Xn(t,a);let l=[o,u].every(Ae.number)&&(s==="increased"?o<u:o>u);return Ae.undefined(n)||(l=l&&u===n),Ae.undefined(i)||(l=l&&o===i),l}function w4(e,t,r){const{key:n,type:a,value:i}=r,s=Xn(e,n),o=Xn(t,n),u=a==="added"?s:o,l=a==="added"?o:s;if(!Ae.nullOrUndefined(i)){if(Ae.defined(u)){if(Ae.array(u)||Ae.plainObject(u))return Jse(u,l,i)}else return Rr(l,i);return!1}return[s,o].every(Ae.array)?!l.every($1(u)):[s,o].every(Ae.plainObject)?Qse(Object.keys(u),Object.keys(l)):![s,o].every(c=>Ae.primitive(c)&&Ae.defined(c))&&(a==="added"?!Ae.defined(s)&&Ae.defined(o):Ae.defined(s)&&!Ae.defined(o))}function T4(e,t,{key:r}={}){let n=Xn(e,r),a=Xn(t,r);if(!Ak(n,a))throw new TypeError("Inputs have different types");if(!Xse(n,a))throw new TypeError("Inputs don't have length");return[n,a].every(Ae.plainObject)&&(n=Object.keys(n),a=Object.keys(a)),[n,a]}function E4(e){return([t,r])=>Ae.array(e)?Rr(e,r)||e.some(n=>Rr(n,r)||Ae.array(r)&&$1(r)(n)):Ae.plainObject(e)&&e[t]?!!e[t]&&Rr(e[t],r):Rr(e,r)}function Qse(e,t){return t.some(r=>!e.includes(r))}function k4(e){return t=>Ae.array(e)?e.some(r=>Rr(r,t)||Ae.array(t)&&$1(t)(r)):Rr(e,t)}function Eo(e,t){return Ae.array(e)?e.some(r=>Rr(r,t)):Rr(e,t)}function $1(e){return t=>e.some(r=>Rr(r,t))}function Ak(...e){return e.every(Ae.array)||e.every(Ae.number)||e.every(Ae.plainObject)||e.every(Ae.string)}function Xn(e,t){return Ae.plainObject(e)||Ae.array(e)?Ae.string(t)?t.split(".").reduce((n,a)=>n&&n[a],e):Ae.number(t)?e[t]:e:e}function n0(e,t){if([e,t].some(Ae.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(c=>Ae.plainObject(c)||Ae.array(c)))throw new Error("Expected plain objects or array");return{added:(c,d)=>{try{return w4(e,t,{key:c,type:"added",value:d})}catch{return!1}},changed:(c,d,h)=>{try{const f=Xn(e,c),p=Xn(t,c),g=Ae.defined(d),T=Ae.defined(h);if(g||T){const y=T?Eo(h,f):!Eo(d,f),x=Eo(d,p);return y&&x}return[f,p].every(Ae.array)||[f,p].every(Ae.plainObject)?!Rr(f,p):f!==p}catch{return!1}},changedFrom:(c,d,h)=>{if(!Ae.defined(c))return!1;try{const f=Xn(e,c),p=Xn(t,c),g=Ae.defined(h);return Eo(d,f)&&(g?Eo(h,p):!g)}catch{return!1}},decreased:(c,d,h)=>{if(!Ae.defined(c))return!1;try{return x4(e,t,{key:c,actual:d,previous:h,type:"decreased"})}catch{return!1}},emptied:c=>{try{const[d,h]=T4(e,t,{key:c});return!!d.length&&!h.length}catch{return!1}},filled:c=>{try{const[d,h]=T4(e,t,{key:c});return!d.length&&!!h.length}catch{return!1}},increased:(c,d,h)=>{if(!Ae.defined(c))return!1;try{return x4(e,t,{key:c,actual:d,previous:h,type:"increased"})}catch{return!1}},removed:(c,d)=>{try{return w4(e,t,{key:c,type:"removed",value:d})}catch{return!1}}}}var Ah,_4;function eoe(){if(_4)return Ah;_4=1;var e=new Error("Element already at target scroll position"),t=new Error("Scroll cancelled"),r=Math.min,n=Date.now;Ah={left:a("scrollLeft"),top:a("scrollTop")};function a(o){return function(l,c,d,h){d=d||{},typeof d=="function"&&(h=d,d={}),typeof h!="function"&&(h=s);var f=n(),p=l[o],g=d.ease||i,T=isNaN(d.duration)?350:+d.duration,y=!1;return p===c?h(e,l[o]):requestAnimationFrame(_),x;function x(){y=!0}function _(k){if(y)return h(t,l[o]);var C=n(),A=r(1,(C-f)/T),P=g(A);l[o]=P*(c-p)+p,A<1?requestAnimationFrame(_):requestAnimationFrame(function(){h(null,l[o])})}}}function i(o){return .5*(1-Math.cos(Math.PI*o))}function s(){}return Ah}var toe=eoe();const roe=Pa(toe);var ec={exports:{}},noe=ec.exports,S4;function aoe(){return S4||(S4=1,(function(e){(function(t,r){e.exports?e.exports=r():t.Scrollparent=r()})(noe,function(){function t(n){var a=getComputedStyle(n,null).getPropertyValue("overflow");return a.indexOf("scroll")>-1||a.indexOf("auto")>-1}function r(n){if(n instanceof HTMLElement||n instanceof SVGElement){for(var a=n.parentNode;a.parentNode;){if(t(a))return a;a=a.parentNode}return document.scrollingElement||document.documentElement}}return r})})(ec)),ec.exports}var ioe=aoe();const Ck=Pa(ioe);var Ch,A4;function soe(){if(A4)return Ch;A4=1;var e=function(n){return Object.prototype.hasOwnProperty.call(n,"props")},t=function(n,a){return n+r(a)},r=function(n){return n===null||typeof n=="boolean"||typeof n>"u"?"":typeof n=="number"?n.toString():typeof n=="string"?n:Array.isArray(n)?n.reduce(t,""):e(n)&&Object.prototype.hasOwnProperty.call(n.props,"children")?r(n.props.children):""};return r.default=r,Ch=r,Ch}var ooe=soe();const C4=Pa(ooe);var Ih,I4;function uoe(){if(I4)return Ih;I4=1;var e=function(x){return t(x)&&!r(x)};function t(y){return!!y&&typeof y=="object"}function r(y){var x=Object.prototype.toString.call(y);return x==="[object RegExp]"||x==="[object Date]"||i(y)}var n=typeof Symbol=="function"&&Symbol.for,a=n?Symbol.for("react.element"):60103;function i(y){return y.$$typeof===a}function s(y){return Array.isArray(y)?[]:{}}function o(y,x){return x.clone!==!1&&x.isMergeableObject(y)?g(s(y),y,x):y}function u(y,x,_){return y.concat(x).map(function(k){return o(k,_)})}function l(y,x){if(!x.customMerge)return g;var _=x.customMerge(y);return typeof _=="function"?_:g}function c(y){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(y).filter(function(x){return Object.propertyIsEnumerable.call(y,x)}):[]}function d(y){return Object.keys(y).concat(c(y))}function h(y,x){try{return x in y}catch{return!1}}function f(y,x){return h(y,x)&&!(Object.hasOwnProperty.call(y,x)&&Object.propertyIsEnumerable.call(y,x))}function p(y,x,_){var k={};return _.isMergeableObject(y)&&d(y).forEach(function(C){k[C]=o(y[C],_)}),d(x).forEach(function(C){f(y,C)||(h(y,C)&&_.isMergeableObject(x[C])?k[C]=l(C,_)(y[C],x[C],_):k[C]=o(x[C],_))}),k}function g(y,x,_){_=_||{},_.arrayMerge=_.arrayMerge||u,_.isMergeableObject=_.isMergeableObject||e,_.cloneUnlessOtherwiseSpecified=o;var k=Array.isArray(x),C=Array.isArray(y),A=k===C;return A?k?_.arrayMerge(y,x,_):p(y,x,_):o(x,_)}g.all=function(x,_){if(!Array.isArray(x))throw new Error("first argument should be an array");return x.reduce(function(k,C){return g(k,C,_)},{})};var T=g;return Ih=T,Ih}var loe=uoe();const Rn=Pa(loe);var Nh={exports:{}},Rh,N4;function coe(){if(N4)return Rh;N4=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Rh=e,Rh}var Oh,R4;function doe(){if(R4)return Oh;R4=1;var e=coe();function t(){}function r(){}return r.resetWarningCache=t,Oh=function(){function n(s,o,u,l,c,d){if(d!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},Oh}var O4;function hoe(){return O4||(O4=1,Nh.exports=doe()()),Nh.exports}var foe=hoe();const de=Pa(foe);var rl=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",poe=(function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(rl&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0})();function moe(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function goe(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},poe))}}var yoe=rl&&window.Promise,boe=yoe?moe:goe;function Ik(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function Ji(e,t){if(e.nodeType!==1)return[];var r=e.ownerDocument.defaultView,n=r.getComputedStyle(e,null);return t?n[t]:n}function z1(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function nl(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Ji(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/(auto|scroll|overlay)/.test(r+a+n)?e:nl(z1(e))}function Nk(e){return e&&e.referenceNode?e.referenceNode:e}var M4=rl&&!!(window.MSInputMethodContext&&document.documentMode),P4=rl&&/MSIE 10/.test(navigator.userAgent);function io(e){return e===11?M4:e===10?P4:M4||P4}function js(e){if(!e)return document.documentElement;for(var t=io(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return!n||n==="BODY"||n==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(r.nodeName)!==-1&&Ji(r,"position")==="static"?js(r):r}function voe(e){var t=e.nodeName;return t==="BODY"?!1:t==="HTML"||js(e.firstElementChild)===e}function vp(e){return e.parentNode!==null?vp(e.parentNode):e}function a0(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,a=r?t:e,i=document.createRange();i.setStart(n,0),i.setEnd(a,0);var s=i.commonAncestorContainer;if(e!==s&&t!==s||n.contains(a))return voe(s)?s:js(s);var o=vp(e);return o.host?a0(o.host,t):a0(e,vp(t).host)}function $s(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",r=t==="top"?"scrollTop":"scrollLeft",n=e.nodeName;if(n==="BODY"||n==="HTML"){var a=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||a;return i[r]}return e[r]}function xoe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=$s(t,"top"),a=$s(t,"left"),i=r?-1:1;return e.top+=n*i,e.bottom+=n*i,e.left+=a*i,e.right+=a*i,e}function D4(e,t){var r=t==="x"?"Left":"Top",n=r==="Left"?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+n+"Width"])}function L4(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],io(10)?parseInt(r["offset"+e])+parseInt(n["margin"+(e==="Height"?"Top":"Left")])+parseInt(n["margin"+(e==="Height"?"Bottom":"Right")]):0)}function Rk(e){var t=e.body,r=e.documentElement,n=io(10)&&getComputedStyle(r);return{height:L4("Height",t,r,n),width:L4("Width",t,r,n)}}var woe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Toe=(function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}})(),zs=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function ci(e){return pn({},e,{right:e.left+e.width,bottom:e.top+e.height})}function xp(e){var t={};try{if(io(10)){t=e.getBoundingClientRect();var r=$s(e,"top"),n=$s(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch{}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i=e.nodeName==="HTML"?Rk(e.ownerDocument):{},s=i.width||e.clientWidth||a.width,o=i.height||e.clientHeight||a.height,u=e.offsetWidth-s,l=e.offsetHeight-o;if(u||l){var c=Ji(e);u-=D4(c,"x"),l-=D4(c,"y"),a.width-=u,a.height-=l}return ci(a)}function U1(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=io(10),a=t.nodeName==="HTML",i=xp(e),s=xp(t),o=nl(e),u=Ji(t),l=parseFloat(u.borderTopWidth),c=parseFloat(u.borderLeftWidth);r&&a&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=ci({top:i.top-s.top-l,left:i.left-s.left-c,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!n&&a){var h=parseFloat(u.marginTop),f=parseFloat(u.marginLeft);d.top-=l-h,d.bottom-=l-h,d.left-=c-f,d.right-=c-f,d.marginTop=h,d.marginLeft=f}return(n&&!r?t.contains(o):t===o&&o.nodeName!=="BODY")&&(d=xoe(d,t)),d}function Eoe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.ownerDocument.documentElement,n=U1(e,r),a=Math.max(r.clientWidth,window.innerWidth||0),i=Math.max(r.clientHeight,window.innerHeight||0),s=t?0:$s(r),o=t?0:$s(r,"left"),u={top:s-n.top+n.marginTop,left:o-n.left+n.marginLeft,width:a,height:i};return ci(u)}function Ok(e){var t=e.nodeName;if(t==="BODY"||t==="HTML")return!1;if(Ji(e,"position")==="fixed")return!0;var r=z1(e);return r?Ok(r):!1}function Mk(e){if(!e||!e.parentElement||io())return document.documentElement;for(var t=e.parentElement;t&&Ji(t,"transform")==="none";)t=t.parentElement;return t||document.documentElement}function H1(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,i={top:0,left:0},s=a?Mk(e):a0(e,Nk(t));if(n==="viewport")i=Eoe(s,a);else{var o=void 0;n==="scrollParent"?(o=nl(z1(t)),o.nodeName==="BODY"&&(o=e.ownerDocument.documentElement)):n==="window"?o=e.ownerDocument.documentElement:o=n;var u=U1(o,s,a);if(o.nodeName==="HTML"&&!Ok(s)){var l=Rk(e.ownerDocument),c=l.height,d=l.width;i.top+=u.top-u.marginTop,i.bottom=c+u.top,i.left+=u.left-u.marginLeft,i.right=d+u.left}else i=u}r=r||0;var h=typeof r=="number";return i.left+=h?r:r.left||0,i.top+=h?r:r.top||0,i.right-=h?r:r.right||0,i.bottom-=h?r:r.bottom||0,i}function koe(e){var t=e.width,r=e.height;return t*r}function Pk(e,t,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var s=H1(r,n,i,a),o={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},u=Object.keys(o).map(function(h){return pn({key:h},o[h],{area:koe(o[h])})}).sort(function(h,f){return f.area-h.area}),l=u.filter(function(h){var f=h.width,p=h.height;return f>=r.clientWidth&&p>=r.clientHeight}),c=l.length>0?l[0].key:u[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function Dk(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=n?Mk(t):a0(t,Nk(r));return U1(r,a,n)}function Lk(e){var t=e.ownerDocument.defaultView,r=t.getComputedStyle(e),n=parseFloat(r.marginTop||0)+parseFloat(r.marginBottom||0),a=parseFloat(r.marginLeft||0)+parseFloat(r.marginRight||0),i={width:e.offsetWidth+a,height:e.offsetHeight+n};return i}function i0(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(r){return t[r]})}function Fk(e,t,r){r=r.split("-")[0];var n=Lk(e),a={width:n.width,height:n.height},i=["right","left"].indexOf(r)!==-1,s=i?"top":"left",o=i?"left":"top",u=i?"height":"width",l=i?"width":"height";return a[s]=t[s]+t[u]/2-n[u]/2,r===o?a[o]=t[o]-n[l]:a[o]=t[i0(o)],a}function al(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function _oe(e,t,r){if(Array.prototype.findIndex)return e.findIndex(function(a){return a[t]===r});var n=al(e,function(a){return a[t]===r});return e.indexOf(n)}function Bk(e,t,r){var n=r===void 0?e:e.slice(0,_oe(e,"name",r));return n.forEach(function(a){a.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=a.function||a.fn;a.enabled&&Ik(i)&&(t.offsets.popper=ci(t.offsets.popper),t.offsets.reference=ci(t.offsets.reference),t=i(t,a))}),t}function Soe(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Dk(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Pk(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Fk(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Bk(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function jk(e,t){return e.some(function(r){var n=r.name,a=r.enabled;return a&&n===t})}function V1(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var a=t[n],i=a?""+a+r:e;if(typeof document.body.style[i]<"u")return i}return null}function Aoe(){return this.state.isDestroyed=!0,jk(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[V1("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function $k(e){var t=e.ownerDocument;return t?t.defaultView:window}function zk(e,t,r,n){var a=e.nodeName==="BODY",i=a?e.ownerDocument.defaultView:e;i.addEventListener(t,r,{passive:!0}),a||zk(nl(i.parentNode),t,r,n),n.push(i)}function Coe(e,t,r,n){r.updateBound=n,$k(e).addEventListener("resize",r.updateBound,{passive:!0});var a=nl(e);return zk(a,"scroll",r.updateBound,r.scrollParents),r.scrollElement=a,r.eventsEnabled=!0,r}function Ioe(){this.state.eventsEnabled||(this.state=Coe(this.reference,this.options,this.state,this.scheduleUpdate))}function Noe(e,t){return $k(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(r){r.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function Roe(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=Noe(this.reference,this.state))}function q1(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function wp(e,t){Object.keys(t).forEach(function(r){var n="";["width","height","top","right","bottom","left"].indexOf(r)!==-1&&q1(t[r])&&(n="px"),e.style[r]=t[r]+n})}function Ooe(e,t){Object.keys(t).forEach(function(r){var n=t[r];n!==!1?e.setAttribute(r,t[r]):e.removeAttribute(r)})}function Moe(e){return wp(e.instance.popper,e.styles),Ooe(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&wp(e.arrowElement,e.arrowStyles),e}function Poe(e,t,r,n,a){var i=Dk(a,t,e,r.positionFixed),s=Pk(r.placement,i,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",s),wp(t,{position:r.positionFixed?"fixed":"absolute"}),r}function Doe(e,t){var r=e.offsets,n=r.popper,a=r.reference,i=Math.round,s=Math.floor,o=function(y){return y},u=i(a.width),l=i(n.width),c=["left","right"].indexOf(e.placement)!==-1,d=e.placement.indexOf("-")!==-1,h=u%2===l%2,f=u%2===1&&l%2===1,p=t?c||d||h?i:s:o,g=t?i:o;return{left:p(f&&!d&&t?n.left-1:n.left),top:g(n.top),bottom:g(n.bottom),right:p(n.right)}}var Loe=rl&&/Firefox/i.test(navigator.userAgent);function Foe(e,t){var r=t.x,n=t.y,a=e.offsets.popper,i=al(e.instance.modifiers,function(_){return _.name==="applyStyle"}).gpuAcceleration;i!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=i!==void 0?i:t.gpuAcceleration,o=js(e.instance.popper),u=xp(o),l={position:a.position},c=Doe(e,window.devicePixelRatio<2||!Loe),d=r==="bottom"?"top":"bottom",h=n==="right"?"left":"right",f=V1("transform"),p=void 0,g=void 0;if(d==="bottom"?o.nodeName==="HTML"?g=-o.clientHeight+c.bottom:g=-u.height+c.bottom:g=c.top,h==="right"?o.nodeName==="HTML"?p=-o.clientWidth+c.right:p=-u.width+c.right:p=c.left,s&&f)l[f]="translate3d("+p+"px, "+g+"px, 0)",l[d]=0,l[h]=0,l.willChange="transform";else{var T=d==="bottom"?-1:1,y=h==="right"?-1:1;l[d]=g*T,l[h]=p*y,l.willChange=d+", "+h}var x={"x-placement":e.placement};return e.attributes=pn({},x,e.attributes),e.styles=pn({},l,e.styles),e.arrowStyles=pn({},e.offsets.arrow,e.arrowStyles),e}function Uk(e,t,r){var n=al(e,function(o){var u=o.name;return u===t}),a=!!n&&e.some(function(o){return o.name===r&&o.enabled&&o.order<n.order});if(!a){var i="`"+t+"`",s="`"+r+"`";console.warn(s+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return a}function Boe(e,t){var r;if(!Uk(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if(typeof n=="string"){if(n=e.instance.popper.querySelector(n),!n)return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],i=e.offsets,s=i.popper,o=i.reference,u=["left","right"].indexOf(a)!==-1,l=u?"height":"width",c=u?"Top":"Left",d=c.toLowerCase(),h=u?"left":"top",f=u?"bottom":"right",p=Lk(n)[l];o[f]-p<s[d]&&(e.offsets.popper[d]-=s[d]-(o[f]-p)),o[d]+p>s[f]&&(e.offsets.popper[d]+=o[d]+p-s[f]),e.offsets.popper=ci(e.offsets.popper);var g=o[d]+o[l]/2-p/2,T=Ji(e.instance.popper),y=parseFloat(T["margin"+c]),x=parseFloat(T["border"+c+"Width"]),_=g-e.offsets.popper[d]-y-x;return _=Math.max(Math.min(s[l]-p,_),0),e.arrowElement=n,e.offsets.arrow=(r={},zs(r,d,Math.round(_)),zs(r,h,""),r),e}function joe(e){return e==="end"?"start":e==="start"?"end":e}var Hk=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Mh=Hk.slice(3);function F4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=Mh.indexOf(e),n=Mh.slice(r+1).concat(Mh.slice(0,r));return t?n.reverse():n}var Ph={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function $oe(e,t){if(jk(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var r=H1(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],a=i0(n),i=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case Ph.FLIP:s=[n,a];break;case Ph.CLOCKWISE:s=F4(n);break;case Ph.COUNTERCLOCKWISE:s=F4(n,!0);break;default:s=t.behavior}return s.forEach(function(o,u){if(n!==o||s.length===u+1)return e;n=e.placement.split("-")[0],a=i0(n);var l=e.offsets.popper,c=e.offsets.reference,d=Math.floor,h=n==="left"&&d(l.right)>d(c.left)||n==="right"&&d(l.left)<d(c.right)||n==="top"&&d(l.bottom)>d(c.top)||n==="bottom"&&d(l.top)<d(c.bottom),f=d(l.left)<d(r.left),p=d(l.right)>d(r.right),g=d(l.top)<d(r.top),T=d(l.bottom)>d(r.bottom),y=n==="left"&&f||n==="right"&&p||n==="top"&&g||n==="bottom"&&T,x=["top","bottom"].indexOf(n)!==-1,_=!!t.flipVariations&&(x&&i==="start"&&f||x&&i==="end"&&p||!x&&i==="start"&&g||!x&&i==="end"&&T),k=!!t.flipVariationsByContent&&(x&&i==="start"&&p||x&&i==="end"&&f||!x&&i==="start"&&T||!x&&i==="end"&&g),C=_||k;(h||y||C)&&(e.flipped=!0,(h||y)&&(n=s[u+1]),C&&(i=joe(i)),e.placement=n+(i?"-"+i:""),e.offsets.popper=pn({},e.offsets.popper,Fk(e.instance.popper,e.offsets.reference,e.placement)),e=Bk(e.instance.modifiers,e,"flip"))}),e}function zoe(e){var t=e.offsets,r=t.popper,n=t.reference,a=e.placement.split("-")[0],i=Math.floor,s=["top","bottom"].indexOf(a)!==-1,o=s?"right":"bottom",u=s?"left":"top",l=s?"width":"height";return r[o]<i(n[u])&&(e.offsets.popper[u]=i(n[u])-r[l]),r[u]>i(n[o])&&(e.offsets.popper[u]=i(n[o])),e}function Uoe(e,t,r,n){var a=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+a[1],s=a[2];if(!i)return e;if(s.indexOf("%")===0){var o=void 0;s==="%p"?o=r:o=n;var u=ci(o);return u[t]/100*i}else if(s==="vh"||s==="vw"){var l=void 0;return s==="vh"?l=Math.max(document.documentElement.clientHeight,window.innerHeight||0):l=Math.max(document.documentElement.clientWidth,window.innerWidth||0),l/100*i}else return i}function Hoe(e,t,r,n){var a=[0,0],i=["right","left"].indexOf(n)!==-1,s=e.split(/(\+|\-)/).map(function(c){return c.trim()}),o=s.indexOf(al(s,function(c){return c.search(/,|\s/)!==-1}));s[o]&&s[o].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=o!==-1?[s.slice(0,o).concat([s[o].split(u)[0]]),[s[o].split(u)[1]].concat(s.slice(o+1))]:[s];return l=l.map(function(c,d){var h=(d===1?!i:i)?"height":"width",f=!1;return c.reduce(function(p,g){return p[p.length-1]===""&&["+","-"].indexOf(g)!==-1?(p[p.length-1]=g,f=!0,p):f?(p[p.length-1]+=g,f=!1,p):p.concat(g)},[]).map(function(p){return Uoe(p,h,t,r)})}),l.forEach(function(c,d){c.forEach(function(h,f){q1(h)&&(a[d]+=h*(c[f-1]==="-"?-1:1))})}),a}function Voe(e,t){var r=t.offset,n=e.placement,a=e.offsets,i=a.popper,s=a.reference,o=n.split("-")[0],u=void 0;return q1(+r)?u=[+r,0]:u=Hoe(r,i,s,o),o==="left"?(i.top+=u[0],i.left-=u[1]):o==="right"?(i.top+=u[0],i.left+=u[1]):o==="top"?(i.left+=u[0],i.top-=u[1]):o==="bottom"&&(i.left+=u[0],i.top+=u[1]),e.popper=i,e}function qoe(e,t){var r=t.boundariesElement||js(e.instance.popper);e.instance.reference===r&&(r=js(r));var n=V1("transform"),a=e.instance.popper.style,i=a.top,s=a.left,o=a[n];a.top="",a.left="",a[n]="";var u=H1(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);a.top=i,a.left=s,a[n]=o,t.boundaries=u;var l=t.priority,c=e.offsets.popper,d={primary:function(f){var p=c[f];return c[f]<u[f]&&!t.escapeWithReference&&(p=Math.max(c[f],u[f])),zs({},f,p)},secondary:function(f){var p=f==="right"?"left":"top",g=c[p];return c[f]>u[f]&&!t.escapeWithReference&&(g=Math.min(c[p],u[f]-(f==="right"?c.width:c.height))),zs({},p,g)}};return l.forEach(function(h){var f=["left","top"].indexOf(h)!==-1?"primary":"secondary";c=pn({},c,d[f](h))}),e.offsets.popper=c,e}function Woe(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var a=e.offsets,i=a.reference,s=a.popper,o=["bottom","top"].indexOf(r)!==-1,u=o?"left":"top",l=o?"width":"height",c={start:zs({},u,i[u]),end:zs({},u,i[u]+i[l]-s[l])};e.offsets.popper=pn({},s,c[n])}return e}function Zoe(e){if(!Uk(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=al(e.instance.modifiers,function(n){return n.name==="preventOverflow"}).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function Goe(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,a=n.popper,i=n.reference,s=["left","right"].indexOf(r)!==-1,o=["top","left"].indexOf(r)===-1;return a[s?"left":"top"]=i[r]-(o?a[s?"width":"height"]:0),e.placement=i0(t),e.offsets.popper=ci(a),e}var Yoe={shift:{order:100,enabled:!0,fn:Woe},offset:{order:200,enabled:!0,fn:Voe,offset:0},preventOverflow:{order:300,enabled:!0,fn:qoe,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:zoe},arrow:{order:500,enabled:!0,fn:Boe,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:$oe,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:Goe},hide:{order:800,enabled:!0,fn:Zoe},computeStyle:{order:850,enabled:!0,fn:Foe,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:Moe,onLoad:Poe,gpuAcceleration:void 0}},Koe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Yoe},Cu=(function(){function e(t,r){var n=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};woe(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=boe(this.update.bind(this)),this.options=pn({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(pn({},e.Defaults.modifiers,a.modifiers)).forEach(function(s){n.options.modifiers[s]=pn({},e.Defaults.modifiers[s]||{},a.modifiers?a.modifiers[s]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(s){return pn({name:s},n.options.modifiers[s])}).sort(function(s,o){return s.order-o.order}),this.modifiers.forEach(function(s){s.enabled&&Ik(s.onLoad)&&s.onLoad(n.reference,n.popper,n.options,s,n.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return Toe(e,[{key:"update",value:function(){return Soe.call(this)}},{key:"destroy",value:function(){return Aoe.call(this)}},{key:"enableEventListeners",value:function(){return Ioe.call(this)}},{key:"disableEventListeners",value:function(){return Roe.call(this)}}]),e})();Cu.Utils=(typeof window<"u"?window:global).PopperUtils;Cu.placements=Hk;Cu.Defaults=Koe;var Xoe=["innerHTML","ownerDocument","style","attributes","nodeValue"],Joe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],Qoe=["bigint","boolean","null","number","string","symbol","undefined"];function q0(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(eue(t))return t}function Ln(e){return function(t){return q0(t)===e}}function eue(e){return Joe.includes(e)}function so(e){return function(t){return typeof t===e}}function tue(e){return Qoe.includes(e)}function X(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(X.array(e))return"Array";if(X.plainFunction(e))return"Function";var t=q0(e);return t||"Object"}X.array=Array.isArray;X.arrayOf=function(e,t){return!X.array(e)&&!X.function(t)?!1:e.every(function(r){return t(r)})};X.asyncGeneratorFunction=function(e){return q0(e)==="AsyncGeneratorFunction"};X.asyncFunction=Ln("AsyncFunction");X.bigint=so("bigint");X.boolean=function(e){return e===!0||e===!1};X.date=Ln("Date");X.defined=function(e){return!X.undefined(e)};X.domElement=function(e){return X.object(e)&&!X.plainObject(e)&&e.nodeType===1&&X.string(e.nodeName)&&Xoe.every(function(t){return t in e})};X.empty=function(e){return X.string(e)&&e.length===0||X.array(e)&&e.length===0||X.object(e)&&!X.map(e)&&!X.set(e)&&Object.keys(e).length===0||X.set(e)&&e.size===0||X.map(e)&&e.size===0};X.error=Ln("Error");X.function=so("function");X.generator=function(e){return X.iterable(e)&&X.function(e.next)&&X.function(e.throw)};X.generatorFunction=Ln("GeneratorFunction");X.instanceOf=function(e,t){return!e||!t?!1:Object.getPrototypeOf(e)===t.prototype};X.iterable=function(e){return!X.nullOrUndefined(e)&&X.function(e[Symbol.iterator])};X.map=Ln("Map");X.nan=function(e){return Number.isNaN(e)};X.null=function(e){return e===null};X.nullOrUndefined=function(e){return X.null(e)||X.undefined(e)};X.number=function(e){return so("number")(e)&&!X.nan(e)};X.numericString=function(e){return X.string(e)&&e.length>0&&!Number.isNaN(Number(e))};X.object=function(e){return!X.nullOrUndefined(e)&&(X.function(e)||typeof e=="object")};X.oneOf=function(e,t){return X.array(e)?e.indexOf(t)>-1:!1};X.plainFunction=Ln("Function");X.plainObject=function(e){if(q0(e)!=="Object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};X.primitive=function(e){return X.null(e)||tue(typeof e)};X.promise=Ln("Promise");X.propertyOf=function(e,t,r){if(!X.object(e)||!t)return!1;var n=e[t];return X.function(r)?r(n):X.defined(n)};X.regexp=Ln("RegExp");X.set=Ln("Set");X.string=so("string");X.symbol=so("symbol");X.undefined=so("undefined");X.weakMap=Ln("WeakMap");X.weakSet=Ln("WeakSet");function Vk(e){return function(t){return typeof t===e}}var rue=Vk("function"),nue=function(e){return e===null},B4=function(e){return Object.prototype.toString.call(e).slice(8,-1)==="RegExp"},j4=function(e){return!aue(e)&&!nue(e)&&(rue(e)||typeof e=="object")},aue=Vk("undefined"),Tp=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function iue(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=r;n--!==0;)if(!zr(e[n],t[n]))return!1;return!0}function sue(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=new DataView(e.buffer),n=new DataView(t.buffer),a=e.byteLength;a--;)if(r.getUint8(a)!==n.getUint8(a))return!1;return!0}function oue(e,t){var r,n,a,i;if(e.size!==t.size)return!1;try{for(var s=Tp(e.entries()),o=s.next();!o.done;o=s.next()){var u=o.value;if(!t.has(u[0]))return!1}}catch(d){r={error:d}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}try{for(var l=Tp(e.entries()),c=l.next();!c.done;c=l.next()){var u=c.value;if(!zr(u[1],t.get(u[0])))return!1}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return!0}function uue(e,t){var r,n;if(e.size!==t.size)return!1;try{for(var a=Tp(e.entries()),i=a.next();!i.done;i=a.next()){var s=i.value;if(!t.has(s[0]))return!1}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return!0}function zr(e,t){if(e===t)return!0;if(e&&j4(e)&&t&&j4(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return iue(e,t);if(e instanceof Map&&t instanceof Map)return oue(e,t);if(e instanceof Set&&t instanceof Set)return uue(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return sue(e,t);if(B4(e)&&B4(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=r.length;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[a]))return!1;for(var a=r.length;a--!==0;){var i=r[a];if(!(i==="_owner"&&e.$$typeof)&&!zr(e[i],t[i]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}function lue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(function(r){return X.string(r)||X.array(r)||X.plainObject(r)})}function cue(e,t,r){return qk(e,t)?[e,t].every(X.array)?!e.some(V4(r))&&t.some(V4(r)):[e,t].every(X.plainObject)?!Object.entries(e).some(H4(r))&&Object.entries(t).some(H4(r)):t===r:!1}function $4(e,t,r){var n=r.actual,a=r.key,i=r.previous,s=r.type,o=Jn(e,a),u=Jn(t,a),l=[o,u].every(X.number)&&(s==="increased"?o<u:o>u);return X.undefined(n)||(l=l&&u===n),X.undefined(i)||(l=l&&o===i),l}function z4(e,t,r){var n=r.key,a=r.type,i=r.value,s=Jn(e,n),o=Jn(t,n),u=a==="added"?s:o,l=a==="added"?o:s;if(!X.nullOrUndefined(i)){if(X.defined(u)){if(X.array(u)||X.plainObject(u))return cue(u,l,i)}else return zr(l,i);return!1}return[s,o].every(X.array)?!l.every(W1(u)):[s,o].every(X.plainObject)?due(Object.keys(u),Object.keys(l)):![s,o].every(function(c){return X.primitive(c)&&X.defined(c)})&&(a==="added"?!X.defined(s)&&X.defined(o):X.defined(s)&&!X.defined(o))}function U4(e,t,r){var n=r===void 0?{}:r,a=n.key,i=Jn(e,a),s=Jn(t,a);if(!qk(i,s))throw new TypeError("Inputs have different types");if(!lue(i,s))throw new TypeError("Inputs don't have length");return[i,s].every(X.plainObject)&&(i=Object.keys(i),s=Object.keys(s)),[i,s]}function H4(e){return function(t){var r=t[0],n=t[1];return X.array(e)?zr(e,n)||e.some(function(a){return zr(a,n)||X.array(n)&&W1(n)(a)}):X.plainObject(e)&&e[r]?!!e[r]&&zr(e[r],n):zr(e,n)}}function due(e,t){return t.some(function(r){return!e.includes(r)})}function V4(e){return function(t){return X.array(e)?e.some(function(r){return zr(r,t)||X.array(t)&&W1(t)(r)}):zr(e,t)}}function ko(e,t){return X.array(e)?e.some(function(r){return zr(r,t)}):zr(e,t)}function W1(e){return function(t){return e.some(function(r){return zr(r,t)})}}function qk(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(X.array)||e.every(X.number)||e.every(X.plainObject)||e.every(X.string)}function Jn(e,t){if(X.plainObject(e)||X.array(e)){if(X.string(t)){var r=t.split(".");return r.reduce(function(n,a){return n&&n[a]},e)}return X.number(t)?e[t]:e}return e}function hue(e,t){if([e,t].some(X.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(function(d){return X.plainObject(d)||X.array(d)}))throw new Error("Expected plain objects or array");var r=function(d,h){try{return z4(e,t,{key:d,type:"added",value:h})}catch{return!1}},n=function(d,h,f){try{var p=Jn(e,d),g=Jn(t,d),T=X.defined(h),y=X.defined(f);if(T||y){var x=y?ko(f,p):!ko(h,p),_=ko(h,g);return x&&_}return[p,g].every(X.array)||[p,g].every(X.plainObject)?!zr(p,g):p!==g}catch{return!1}},a=function(d,h,f){if(!X.defined(d))return!1;try{var p=Jn(e,d),g=Jn(t,d),T=X.defined(f);return ko(h,p)&&(T?ko(f,g):!T)}catch{return!1}},i=function(d,h){return X.defined(d)?n(d,h):!1},s=function(d,h,f){if(!X.defined(d))return!1;try{return $4(e,t,{key:d,actual:h,previous:f,type:"decreased"})}catch{return!1}},o=function(d){try{var h=U4(e,t,{key:d}),f=h[0],p=h[1];return!!f.length&&!p.length}catch{return!1}},u=function(d){try{var h=U4(e,t,{key:d}),f=h[0],p=h[1];return!f.length&&!!p.length}catch{return!1}},l=function(d,h,f){if(!X.defined(d))return!1;try{return $4(e,t,{key:d,actual:h,previous:f,type:"increased"})}catch{return!1}},c=function(d,h){try{return z4(e,t,{key:d,type:"removed",value:h})}catch{return!1}};return{added:r,changed:n,changedFrom:a,changedTo:i,decreased:s,emptied:o,filled:u,increased:l,removed:c}}function q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(r),!0).forEach(function(n){gr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function il(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zk(n.key),n)}}function sl(e,t,r){return t&&fue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gr(e,t,r){return t=Zk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ol(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ep(e,t)}function s0(e){return s0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s0(e)}function Ep(e,t){return Ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ep(e,t)}function pue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mue(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Wk(e,t){if(e==null)return{};var r=mue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ya(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gue(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ya(e)}function ul(e){var t=pue();return function(){var n=s0(e),a;if(t){var i=s0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return gue(this,a)}}function yue(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zk(e){var t=yue(e,"string");return typeof t=="symbol"?t:String(t)}var bue={flip:{padding:20},preventOverflow:{padding:10}},vue="The typeValidator argument must be a function with the signature function(props, propName, componentName).",xue="The error message is optional, but must be a string if provided.";function wue(e,t,r,n){return typeof e=="boolean"?e:typeof e=="function"?e(t,r,n):e?!!e:!1}function Tue(e,t){return Object.hasOwnProperty.call(e,t)}function Eue(e,t,r,n){return new Error("Required ".concat(e[t]," `").concat(t,"` was not specified in `").concat(r,"`."))}function kue(e,t){if(typeof e!="function")throw new TypeError(vue);if(t&&typeof t!="string")throw new TypeError(xue)}function W4(e,t,r){return kue(e,r),function(n,a,i){for(var s=arguments.length,o=new Array(s>3?s-3:0),u=3;u<s;u++)o[u-3]=arguments[u];return wue(t,n,a,i)?Tue(n,a)?e.apply(void 0,[n,a,i].concat(o)):Eue(n,a,i):e.apply(void 0,[n,a,i].concat(o))}}var ot={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},_o=zl.createPortal!==void 0;function qn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Dh(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function $l(e){var t=e.title,r=e.data,n=e.warn,a=n===void 0?!1:n,i=e.debug,s=i===void 0?!1:i,o=a?console.warn||console.error:console.log;s&&t&&r&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(r)?r.forEach(function(u){X.plainObject(u)&&u.key?o.apply(console,[u.key,u.value]):o.apply(console,[u])}):o.apply(console,[r]),console.groupEnd())}function _ue(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.addEventListener(t,r,n)}function Sue(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.removeEventListener(t,r,n)}function Aue(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a;a=function(s){r(s),Sue(e,t,a)},_ue(e,t,a,n)}function Z4(){}var Gk=(function(e){ol(r,e);var t=ul(r);function r(){return il(this,r),t.apply(this,arguments)}return sl(r,[{key:"componentDidMount",value:function(){qn()&&(this.node||this.appendNode(),_o||this.renderPortal())}},{key:"componentDidUpdate",value:function(){qn()&&(_o||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!qn()||!this.node||(_o||zl.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var a=this.props,i=a.id,s=a.zIndex;this.node||(this.node=document.createElement("div"),i&&(this.node.id=i),s&&(this.node.style.zIndex=s),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!qn())return null;var a=this.props,i=a.children,s=a.setRef;if(this.node||this.appendNode(),_o)return zl.createPortal(i,this.node);var o=zl.unstable_renderSubtreeIntoContainer(this,i.length>1?qe.createElement("div",null,i):i[0],this.node);return s(o),null}},{key:"renderReact16",value:function(){var a=this.props,i=a.hasChildren,s=a.placement,o=a.target;return i?this.renderPortal():o||s==="center"?this.renderPortal():null}},{key:"render",value:function(){return _o?this.renderReact16():null}}]),r})(qe.Component);gr(Gk,"propTypes",{children:de.oneOfType([de.element,de.array]),hasChildren:de.bool,id:de.oneOfType([de.string,de.number]),placement:de.string,setRef:de.func.isRequired,target:de.oneOfType([de.object,de.string]),zIndex:de.number});var Yk=(function(e){ol(r,e);var t=ul(r);function r(){return il(this,r),t.apply(this,arguments)}return sl(r,[{key:"parentStyle",get:function(){var a=this.props,i=a.placement,s=a.styles,o=s.arrow.length,u={pointerEvents:"none",position:"absolute",width:"100%"};return i.startsWith("top")?(u.bottom=0,u.left=0,u.right=0,u.height=o):i.startsWith("bottom")?(u.left=0,u.right=0,u.top=0,u.height=o):i.startsWith("left")?(u.right=0,u.top=0,u.bottom=0):i.startsWith("right")&&(u.left=0,u.top=0),u}},{key:"render",value:function(){var a=this.props,i=a.placement,s=a.setArrowRef,o=a.styles,u=o.arrow,l=u.color,c=u.display,d=u.length,h=u.margin,f=u.position,p=u.spread,g={display:c,position:f},T,y=p,x=d;return i.startsWith("top")?(T="0,0 ".concat(y/2,",").concat(x," ").concat(y,",0"),g.bottom=0,g.marginLeft=h,g.marginRight=h):i.startsWith("bottom")?(T="".concat(y,",").concat(x," ").concat(y/2,",0 0,").concat(x),g.top=0,g.marginLeft=h,g.marginRight=h):i.startsWith("left")?(x=p,y=d,T="0,0 ".concat(y,",").concat(x/2," 0,").concat(x),g.right=0,g.marginTop=h,g.marginBottom=h):i.startsWith("right")&&(x=p,y=d,T="".concat(y,",").concat(x," ").concat(y,",0 0,").concat(x/2),g.left=0,g.marginTop=h,g.marginBottom=h),qe.createElement("div",{className:"__floater__arrow",style:this.parentStyle},qe.createElement("span",{ref:s,style:g},qe.createElement("svg",{width:y,height:x,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},qe.createElement("polygon",{points:T,fill:l}))))}}]),r})(qe.Component);gr(Yk,"propTypes",{placement:de.string.isRequired,setArrowRef:de.func.isRequired,styles:de.object.isRequired});var Cue=["color","height","width"];function Kk(e){var t=e.handleClick,r=e.styles,n=r.color,a=r.height,i=r.width,s=Wk(r,Cue);return qe.createElement("button",{"aria-label":"close",onClick:t,style:s,type:"button"},qe.createElement("svg",{width:"".concat(i,"px"),height:"".concat(a,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},qe.createElement("g",null,qe.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}Kk.propTypes={handleClick:de.func.isRequired,styles:de.object.isRequired};function Xk(e){var t=e.content,r=e.footer,n=e.handleClick,a=e.open,i=e.positionWrapper,s=e.showCloseButton,o=e.title,u=e.styles,l={content:qe.isValidElement(t)?t:qe.createElement("div",{className:"__floater__content",style:u.content},t)};return o&&(l.title=qe.isValidElement(o)?o:qe.createElement("div",{className:"__floater__title",style:u.title},o)),r&&(l.footer=qe.isValidElement(r)?r:qe.createElement("div",{className:"__floater__footer",style:u.footer},r)),(s||i)&&!X.boolean(a)&&(l.close=qe.createElement(Kk,{styles:u.close,handleClick:n})),qe.createElement("div",{className:"__floater__container",style:u.container},l.close,l.title,l.content,l.footer)}Xk.propTypes={content:de.node.isRequired,footer:de.node,handleClick:de.func.isRequired,open:de.bool,positionWrapper:de.bool.isRequired,showCloseButton:de.bool.isRequired,styles:de.object.isRequired,title:de.node};var Jk=(function(e){ol(r,e);var t=ul(r);function r(){return il(this,r),t.apply(this,arguments)}return sl(r,[{key:"style",get:function(){var a=this.props,i=a.disableAnimation,s=a.component,o=a.placement,u=a.hideArrow,l=a.status,c=a.styles,d=c.arrow.length,h=c.floater,f=c.floaterCentered,p=c.floaterClosing,g=c.floaterOpening,T=c.floaterWithAnimation,y=c.floaterWithComponent,x={};return u||(o.startsWith("top")?x.padding="0 0 ".concat(d,"px"):o.startsWith("bottom")?x.padding="".concat(d,"px 0 0"):o.startsWith("left")?x.padding="0 ".concat(d,"px 0 0"):o.startsWith("right")&&(x.padding="0 0 0 ".concat(d,"px"))),[ot.OPENING,ot.OPEN].indexOf(l)!==-1&&(x=Lt(Lt({},x),g)),l===ot.CLOSING&&(x=Lt(Lt({},x),p)),l===ot.OPEN&&!i&&(x=Lt(Lt({},x),T)),o==="center"&&(x=Lt(Lt({},x),f)),s&&(x=Lt(Lt({},x),y)),Lt(Lt({},h),x)}},{key:"render",value:function(){var a=this.props,i=a.component,s=a.handleClick,o=a.hideArrow,u=a.setFloaterRef,l=a.status,c={},d=["__floater"];return i?qe.isValidElement(i)?c.content=qe.cloneElement(i,{closeFn:s}):c.content=i({closeFn:s}):c.content=qe.createElement(Xk,this.props),l===ot.OPEN&&d.push("__floater__open"),o||(c.arrow=qe.createElement(Yk,this.props)),qe.createElement("div",{ref:u,className:d.join(" "),style:this.style},qe.createElement("div",{className:"__floater__body"},c.content,c.arrow))}}]),r})(qe.Component);gr(Jk,"propTypes",{component:de.oneOfType([de.func,de.element]),content:de.node,disableAnimation:de.bool.isRequired,footer:de.node,handleClick:de.func.isRequired,hideArrow:de.bool.isRequired,open:de.bool,placement:de.string.isRequired,positionWrapper:de.bool.isRequired,setArrowRef:de.func.isRequired,setFloaterRef:de.func.isRequired,showCloseButton:de.bool,status:de.string.isRequired,styles:de.object.isRequired,title:de.node});var Qk=(function(e){ol(r,e);var t=ul(r);function r(){return il(this,r),t.apply(this,arguments)}return sl(r,[{key:"render",value:function(){var a=this.props,i=a.children,s=a.handleClick,o=a.handleMouseEnter,u=a.handleMouseLeave,l=a.setChildRef,c=a.setWrapperRef,d=a.style,h=a.styles,f;if(i)if(qe.Children.count(i)===1)if(!qe.isValidElement(i))f=qe.createElement("span",null,i);else{var p=X.function(i.type)?"innerRef":"ref";f=qe.cloneElement(qe.Children.only(i),gr({},p,l))}else f=i;return f?qe.createElement("span",{ref:c,style:Lt(Lt({},h),d),onClick:s,onMouseEnter:o,onMouseLeave:u},f):null}}]),r})(qe.Component);gr(Qk,"propTypes",{children:de.node,handleClick:de.func.isRequired,handleMouseEnter:de.func.isRequired,handleMouseLeave:de.func.isRequired,setChildRef:de.func.isRequired,setWrapperRef:de.func.isRequired,style:de.object,styles:de.object.isRequired});var Iue={zIndex:100};function Nue(e){var t=Rn(Iue,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}var Rue=["arrow","flip","offset"],Oue=["position","top","right","bottom","left"],Z1=(function(e){ol(r,e);var t=ul(r);function r(n){var a;return il(this,r),a=t.call(this,n),gr(ya(a),"setArrowRef",function(i){a.arrowRef=i}),gr(ya(a),"setChildRef",function(i){a.childRef=i}),gr(ya(a),"setFloaterRef",function(i){a.floaterRef=i}),gr(ya(a),"setWrapperRef",function(i){a.wrapperRef=i}),gr(ya(a),"handleTransitionEnd",function(){var i=a.state.status,s=a.props.callback;a.wrapperPopper&&a.wrapperPopper.instance.update(),a.setState({status:i===ot.OPENING?ot.OPEN:ot.IDLE},function(){var o=a.state.status;s(o===ot.OPEN?"open":"close",a.props)})}),gr(ya(a),"handleClick",function(){var i=a.props,s=i.event,o=i.open;if(!X.boolean(o)){var u=a.state,l=u.positionWrapper,c=u.status;(a.event==="click"||a.event==="hover"&&l)&&($l({title:"click",data:[{event:s,status:c===ot.OPEN?"closing":"opening"}],debug:a.debug}),a.toggle())}}),gr(ya(a),"handleMouseEnter",function(){var i=a.props,s=i.event,o=i.open;if(!(X.boolean(o)||Dh())){var u=a.state.status;a.event==="hover"&&u===ot.IDLE&&($l({title:"mouseEnter",data:[{key:"originalEvent",value:s}],debug:a.debug}),clearTimeout(a.eventDelayTimeout),a.toggle())}}),gr(ya(a),"handleMouseLeave",function(){var i=a.props,s=i.event,o=i.eventDelay,u=i.open;if(!(X.boolean(u)||Dh())){var l=a.state,c=l.status,d=l.positionWrapper;a.event==="hover"&&($l({title:"mouseLeave",data:[{key:"originalEvent",value:s}],debug:a.debug}),o?[ot.OPENING,ot.OPEN].indexOf(c)!==-1&&!d&&!a.eventDelayTimeout&&(a.eventDelayTimeout=setTimeout(function(){delete a.eventDelayTimeout,a.toggle()},o*1e3)):a.toggle(ot.IDLE))}}),a.state={currentPlacement:n.placement,needsUpdate:!1,positionWrapper:n.wrapperOptions.position&&!!n.target,status:ot.INIT,statusWrapper:ot.INIT},a._isMounted=!1,a.hasMounted=!1,qn()&&window.addEventListener("load",function(){a.popper&&a.popper.instance.update(),a.wrapperPopper&&a.wrapperPopper.instance.update()}),a}return sl(r,[{key:"componentDidMount",value:function(){if(qn()){var a=this.state.positionWrapper,i=this.props,s=i.children,o=i.open,u=i.target;this._isMounted=!0,$l({title:"init",data:{hasChildren:!!s,hasTarget:!!u,isControlled:X.boolean(o),positionWrapper:a,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!s&&u&&X.boolean(o)}}},{key:"componentDidUpdate",value:function(a,i){if(qn()){var s=this.props,o=s.autoOpen,u=s.open,l=s.target,c=s.wrapperOptions,d=hue(i,this.state),h=d.changedFrom,f=d.changed;if(a.open!==u){var p;X.boolean(u)&&(p=u?ot.OPENING:ot.CLOSING),this.toggle(p)}(a.wrapperOptions.position!==c.position||a.target!==l)&&this.changeWrapperPosition(this.props),f("status",ot.IDLE)&&u?this.toggle(ot.OPEN):h("status",ot.INIT,ot.IDLE)&&o&&this.toggle(ot.OPEN),this.popper&&f("status",ot.OPENING)&&this.popper.instance.update(),this.floaterRef&&(f("status",ot.OPENING)||f("status",ot.CLOSING))&&Aue(this.floaterRef,"transitionend",this.handleTransitionEnd),f("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){qn()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,s=this.state.positionWrapper,o=this.props,u=o.disableFlip,l=o.getPopper,c=o.hideArrow,d=o.offset,h=o.placement,f=o.wrapperOptions,p=h==="top"||h==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(h==="center")this.setState({status:ot.IDLE});else if(i&&this.floaterRef){var g=this.options,T=g.arrow,y=g.flip,x=g.offset,_=Wk(g,Rue);new Cu(i,this.floaterRef,{placement:h,modifiers:Lt({arrow:Lt({enabled:!c,element:this.arrowRef},T),flip:Lt({enabled:!u,behavior:p},y),offset:Lt({offset:"0, ".concat(d,"px")},x)},_),onCreate:function(A){var P;if(a.popper=A,!((P=a.floaterRef)!==null&&P!==void 0&&P.isConnected)){a.setState({needsUpdate:!0});return}l(A,"floater"),a._isMounted&&a.setState({currentPlacement:A.placement,status:ot.IDLE}),h!==A.placement&&setTimeout(function(){A.instance.update()},1)},onUpdate:function(A){a.popper=A;var P=a.state.currentPlacement;a._isMounted&&A.placement!==P&&a.setState({currentPlacement:A.placement})}})}if(s){var k=X.undefined(f.offset)?0:f.offset;new Cu(this.target,this.wrapperRef,{placement:f.placement||h,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(k,"px")},flip:{enabled:!1}},onCreate:function(A){a.wrapperPopper=A,a._isMounted&&a.setState({statusWrapper:ot.IDLE}),l(A,"wrapper"),h!==A.placement&&setTimeout(function(){A.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var a=this;this.floaterRefInterval=setInterval(function(){var i;(i=a.floaterRef)!==null&&i!==void 0&&i.isConnected&&(clearInterval(a.floaterRefInterval),a.setState({needsUpdate:!1}),a.initPopper())},50)}},{key:"changeWrapperPosition",value:function(a){var i=a.target,s=a.wrapperOptions;this.setState({positionWrapper:s.position&&!!i})}},{key:"toggle",value:function(a){var i=this.state.status,s=i===ot.OPEN?ot.CLOSING:ot.OPENING;X.undefined(a)||(s=a),this.setState({status:s})}},{key:"debug",get:function(){var a=this.props.debug;return a||qn()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var a=this.props,i=a.disableHoverToClick,s=a.event;return s==="hover"&&Dh()&&!i?"click":s}},{key:"options",get:function(){var a=this.props.options;return Rn(bue,a||{})}},{key:"styles",get:function(){var a=this,i=this.state,s=i.status,o=i.positionWrapper,u=i.statusWrapper,l=this.props.styles,c=Rn(Nue(l),l);if(o){var d;[ot.IDLE].indexOf(s)===-1||[ot.IDLE].indexOf(u)===-1?d=c.wrapperPosition:d=this.wrapperPopper.styles,c.wrapper=Lt(Lt({},c.wrapper),d)}if(this.target){var h=window.getComputedStyle(this.target);this.wrapperStyles?c.wrapper=Lt(Lt({},c.wrapper),this.wrapperStyles):["relative","static"].indexOf(h.position)===-1&&(this.wrapperStyles={},o||(Oue.forEach(function(f){a.wrapperStyles[f]=h[f]}),c.wrapper=Lt(Lt({},c.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return c}},{key:"target",get:function(){if(!qn())return null;var a=this.props.target;return a?X.domElement(a)?a:document.querySelector(a):this.childRef||this.wrapperRef}},{key:"render",value:function(){var a=this.state,i=a.currentPlacement,s=a.positionWrapper,o=a.status,u=this.props,l=u.children,c=u.component,d=u.content,h=u.disableAnimation,f=u.footer,p=u.hideArrow,g=u.id,T=u.open,y=u.showCloseButton,x=u.style,_=u.target,k=u.title,C=qe.createElement(Qk,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:x,styles:this.styles.wrapper},l),A={};return s?A.wrapperInPortal=C:A.wrapperAsChildren=C,qe.createElement("span",null,qe.createElement(Gk,{hasChildren:!!l,id:g,placement:i,setRef:this.setFloaterRef,target:_,zIndex:this.styles.options.zIndex},qe.createElement(Jk,{component:c,content:d,disableAnimation:h,footer:f,handleClick:this.handleClick,hideArrow:p||i==="center",open:T,placement:i,positionWrapper:s,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:y,status:o,styles:this.styles,title:k}),A.wrapperInPortal),A.wrapperAsChildren)}}]),r})(qe.Component);gr(Z1,"propTypes",{autoOpen:de.bool,callback:de.func,children:de.node,component:W4(de.oneOfType([de.func,de.element]),function(e){return!e.content}),content:W4(de.node,function(e){return!e.component}),debug:de.bool,disableAnimation:de.bool,disableFlip:de.bool,disableHoverToClick:de.bool,event:de.oneOf(["hover","click"]),eventDelay:de.number,footer:de.node,getPopper:de.func,hideArrow:de.bool,id:de.oneOfType([de.string,de.number]),offset:de.number,open:de.bool,options:de.object,placement:de.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:de.bool,style:de.object,styles:de.object,target:de.oneOfType([de.object,de.string]),title:de.node,wrapperOptions:de.shape({offset:de.number,placement:de.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:de.bool})});gr(Z1,"defaultProps",{autoOpen:!1,callback:Z4,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:Z4,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var Mue=Object.defineProperty,Pue=(e,t,r)=>t in e?Mue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ce=(e,t,r)=>Pue(e,typeof t!="symbol"?t+"":t,r),pt={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Nn={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},He={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Qe={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function Ga(){var e;return!!(typeof window<"u"&&((e=window.document)!=null&&e.createElement))}function e_(e){return e?e.getBoundingClientRect():null}function Due(e=!1){const{body:t,documentElement:r}=document;if(!t||!r)return 0;if(e){const n=[t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight].sort((i,s)=>i-s),a=Math.floor(n.length/2);return n.length%2===0?(n[a-1]+n[a])/2:n[a]}return Math.max(t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)}function Ta(e){if(typeof e=="string")try{return document.querySelector(e)}catch{return null}return e}function Lue(e){return!e||e.nodeType!==1?null:getComputedStyle(e)}function Iu(e,t,r){if(!e)return Ni();const n=Ck(e);if(n){if(n.isSameNode(Ni()))return r?document:Ni();if(!(n.scrollHeight>n.offsetHeight)&&!t)return n.style.overflow="initial",Ni()}return n}function W0(e,t){if(!e)return!1;const r=Iu(e,t);return r?!r.isSameNode(Ni()):!1}function Fue(e){return e.offsetParent!==document.body}function Us(e,t="fixed"){if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:r}=e,n=Lue(e);return r==="BODY"||r==="HTML"?!1:n&&n.position===t?!0:e.parentNode?Us(e.parentNode,t):!1}function Bue(e){var t;if(!e)return!1;let r=e;for(;r&&r!==document.body;){if(r instanceof HTMLElement){const{display:n,visibility:a}=getComputedStyle(r);if(n==="none"||a==="hidden")return!1}r=(t=r.parentElement)!=null?t:null}return!0}function jue(e,t,r){var n,a,i;const s=e_(e),o=Iu(e,r),u=W0(e,r),l=Us(e);let c=0,d=(n=s?.top)!=null?n:0;if(u&&l){const h=(a=e?.offsetTop)!=null?a:0,f=(i=o?.scrollTop)!=null?i:0;d=h-f}else o instanceof HTMLElement&&(c=o.scrollTop,!u&&!Us(e)&&(d+=c),o.isSameNode(Ni())||(d+=Ni().scrollTop));return Math.floor(d-t)}function $ue(e,t,r){var n;if(!e)return 0;const{offsetTop:a=0,scrollTop:i=0}=(n=Ck(e))!=null?n:{};let s=e.getBoundingClientRect().top+i;a&&(W0(e,r)||Fue(e))&&(s-=a);const o=Math.floor(s-t);return o<0?0:o}function Ni(){var e;return(e=document.scrollingElement)!=null?e:document.documentElement}function zue(e,t){const{duration:r,element:n}=t;return new Promise((a,i)=>{const{scrollTop:s}=n,o=e>s?e-s:s-e;roe.top(n,e,{duration:o<100?50:r},u=>u&&u.message!=="Element already at target scroll position"?i(u):a())})}var So=Lo.createPortal!==void 0;function t_(e=navigator.userAgent){let t=e;return typeof window>"u"?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":window.opera||e.includes(" OPR/")?t="opera":typeof window.InstallTrigger<"u"?t="firefox":window.chrome?t="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function tc(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function Wn(e,t={}){const{defaultValue:r,step:n,steps:a}=t;let i=C4(e);if(i)(i.includes("{step}")||i.includes("{steps}"))&&n&&a&&(i=i.replace("{step}",n.toString()).replace("{steps}",a.toString()));else if(E.isValidElement(e)&&!Object.values(e.props).length&&tc(e.type)==="function"){const s=e.type({});i=Wn(s,t)}else i=C4(r);return i}function Uue(e,t){return!Ae.plainObject(e)||!Ae.array(t)?!1:Object.keys(e).every(r=>t.includes(r))}function Hue(e){const t=/^#?([\da-f])([\da-f])([\da-f])$/i,r=e.replace(t,(a,i,s,o)=>i+i+s+s+o+o),n=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(r);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[]}function G4(e){return e.disableBeacon||e.placement==="center"}function Y4(){return!["chrome","safari","firefox","opera"].includes(t_())}function Ui({data:e,debug:t=!1,title:r,warn:n=!1}){const a=n?console.warn||console.error:console.log;t&&(r&&e?(console.groupCollapsed(`%creact-joyride: ${r}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(e)?e.forEach(i=>{Ae.plainObject(i)&&i.key?a.apply(console,[i.key,i.value]):a.apply(console,[i])}):a.apply(console,[e]),console.groupEnd()):console.error("Missing title or data props"))}function Vue(e){return Object.keys(e)}function r_(e,...t){if(!Ae.plainObject(e))throw new TypeError("Expected an object");const r={};for(const n in e)({}).hasOwnProperty.call(e,n)&&(t.includes(n)||(r[n]=e[n]));return r}function que(e,...t){if(!Ae.plainObject(e))throw new TypeError("Expected an object");if(!t.length)return e;const r={};for(const n in e)({}).hasOwnProperty.call(e,n)&&t.includes(n)&&(r[n]=e[n]);return r}function kp(e,t,r){const n=i=>i.replace("{step}",String(t)).replace("{steps}",String(r));if(tc(e)==="string")return n(e);if(!E.isValidElement(e))return e;const{children:a}=e.props;if(tc(a)==="string"&&a.includes("{step}"))return E.cloneElement(e,{children:n(a)});if(Array.isArray(a))return E.cloneElement(e,{children:a.map(i=>typeof i=="string"?n(i):kp(i,t,r))});if(tc(e.type)==="function"&&!Object.values(e.props).length){const i=e.type({});return kp(i,t,r)}return e}function Wue(e){const{isFirstStep:t,lifecycle:r,previousLifecycle:n,scrollToFirstStep:a,step:i,target:s}=e;return!i.disableScrolling&&(!t||a||r===He.TOOLTIP)&&i.placement!=="center"&&(!i.isFixed||!Us(s))&&n!==r&&[He.BEACON,He.TOOLTIP].includes(r)}var Zue={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},n_={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},Gue={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:n_,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},Yue={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},Kue={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Ao={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},K4={borderRadius:4,position:"absolute"};function Xue(e,t){var r,n,a,i,s;const{floaterProps:o,styles:u}=e,l=Rn((r=t.floaterProps)!=null?r:{},o??{}),c=Rn(u??{},(n=t.styles)!=null?n:{}),d=Rn(Kue,c.options||{}),h=t.placement==="center"||t.disableBeacon;let{width:f}=d;window.innerWidth>480&&(f=380),"width"in d&&(f=typeof d.width=="number"&&window.innerWidth<d.width?window.innerWidth-30:d.width);const p={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:d.zIndex},g={beacon:{...Ao,display:h?"none":"inline-block",height:d.beaconSize,position:"relative",width:d.beaconSize,zIndex:d.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:d.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${Hue(d.primaryColor).join(",")}, 0.2)`,border:`2px solid ${d.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:d.backgroundColor,borderRadius:5,boxSizing:"border-box",color:d.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:f},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Ao,backgroundColor:d.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Ao,color:d.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Ao,color:d.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Ao,color:d.textColor,fontSize:14},overlay:{...p,backgroundColor:d.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...p},overlayLegacyCenter:{...p,backgroundColor:d.overlayColor},spotlight:{...K4,backgroundColor:"gray"},spotlightLegacy:{...K4,boxShadow:`0 0 0 9999px ${d.overlayColor}, ${d.spotlightShadow}`},floaterStyles:{arrow:{color:(s=(i=(a=l?.styles)==null?void 0:a.arrow)==null?void 0:i.color)!=null?s:d.arrowColor},options:{zIndex:d.zIndex+100}},options:d};return Rn(g,c)}function Jue(e){return que(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function as(e,t){var r,n,a,i,s,o;const u=t??{},l=Rn.all([Gue,Jue(e),u],{isMergeableObject:Ae.plainObject}),c=Xue(e,l),d=W0(Ta(l.target),l.disableScrollParentFix),h=Rn.all([Zue,(r=e.floaterProps)!=null?r:{},(n=l.floaterProps)!=null?n:{}]);return h.offset=l.offset,h.styles=Rn((a=h.styles)!=null?a:{},c.floaterStyles),h.offset+=(s=(i=e.spotlightPadding)!=null?i:l.spotlightPadding)!=null?s:0,l.placementBeacon&&h.wrapperOptions&&(h.wrapperOptions.placement=l.placementBeacon),d&&h.options.preventOverflow&&(h.options.preventOverflow.boundariesElement="window"),{...l,locale:Rn.all([n_,(o=e.locale)!=null?o:{},l.locale||{}]),floaterProps:h,styles:r_(c,"floaterStyles")}}function a_(e,t=!1){return Ae.plainObject(e)?e.target?!0:(Ui({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(Ui({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function X4(e,t=!1){return Ae.array(e)?e.every(r=>a_(r,t)):(Ui({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var i_={action:"init",controlled:!1,index:0,lifecycle:He.INIT,origin:null,size:0,status:Qe.IDLE},J4=Vue(r_(i_,"controlled","size")),Que=class{constructor(e){Ce(this,"beaconPopper"),Ce(this,"tooltipPopper"),Ce(this,"data",new Map),Ce(this,"listener"),Ce(this,"store",new Map),Ce(this,"addListener",a=>{this.listener=a}),Ce(this,"setSteps",a=>{const{size:i,status:s}=this.getState(),o={size:a.length,status:s};this.data.set("steps",a),s===Qe.WAITING&&!i&&a.length&&(o.status=Qe.RUNNING),this.setState(o)}),Ce(this,"getPopper",a=>a==="beacon"?this.beaconPopper:this.tooltipPopper),Ce(this,"setPopper",(a,i)=>{a==="beacon"?this.beaconPopper=i:this.tooltipPopper=i}),Ce(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),Ce(this,"close",(a=null)=>{const{index:i,status:s}=this.getState();s===Qe.RUNNING&&this.setState({...this.getNextState({action:pt.CLOSE,index:i+1,origin:a})})}),Ce(this,"go",a=>{const{controlled:i,status:s}=this.getState();if(i||s!==Qe.RUNNING)return;const o=this.getSteps()[a];this.setState({...this.getNextState({action:pt.GO,index:a}),status:o?s:Qe.FINISHED})}),Ce(this,"info",()=>this.getState()),Ce(this,"next",()=>{const{index:a,status:i}=this.getState();i===Qe.RUNNING&&this.setState(this.getNextState({action:pt.NEXT,index:a+1}))}),Ce(this,"open",()=>{const{status:a}=this.getState();a===Qe.RUNNING&&this.setState({...this.getNextState({action:pt.UPDATE,lifecycle:He.TOOLTIP})})}),Ce(this,"prev",()=>{const{index:a,status:i}=this.getState();i===Qe.RUNNING&&this.setState({...this.getNextState({action:pt.PREV,index:a-1})})}),Ce(this,"reset",(a=!1)=>{const{controlled:i}=this.getState();i||this.setState({...this.getNextState({action:pt.RESET,index:0}),status:a?Qe.RUNNING:Qe.READY})}),Ce(this,"skip",()=>{const{status:a}=this.getState();a===Qe.RUNNING&&this.setState({action:pt.SKIP,lifecycle:He.INIT,status:Qe.SKIPPED})}),Ce(this,"start",a=>{const{index:i,size:s}=this.getState();this.setState({...this.getNextState({action:pt.START,index:Ae.number(a)?a:i},!0),status:s?Qe.RUNNING:Qe.WAITING})}),Ce(this,"stop",(a=!1)=>{const{index:i,status:s}=this.getState();[Qe.FINISHED,Qe.SKIPPED].includes(s)||this.setState({...this.getNextState({action:pt.STOP,index:i+(a?1:0)}),status:Qe.PAUSED})}),Ce(this,"update",a=>{var i,s;if(!Uue(a,J4))throw new Error(`State is not valid. Valid keys: ${J4.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...a,action:(i=a.action)!=null?i:pt.UPDATE,origin:(s=a.origin)!=null?s:null},!0)})});const{continuous:t=!1,stepIndex:r,steps:n=[]}=e??{};this.setState({action:pt.INIT,controlled:Ae.number(r),continuous:t,index:Ae.number(r)?r:0,lifecycle:He.INIT,origin:null,status:n.length?Qe.READY:Qe.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(n)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...i_}}getNextState(e,t=!1){var r,n,a,i,s;const{action:o,controlled:u,index:l,size:c,status:d}=this.getState(),h=Ae.number(e.index)?e.index:l,f=u&&!t?l:Math.min(Math.max(h,0),c);return{action:(r=e.action)!=null?r:o,controlled:u,index:f,lifecycle:(n=e.lifecycle)!=null?n:He.INIT,origin:(a=e.origin)!=null?a:null,size:(i=e.size)!=null?i:c,status:f===c?Qe.FINISHED:(s=e.status)!=null?s:d}}getSteps(){const e=this.data.get("steps");return Array.isArray(e)?e:[]}hasUpdatedState(e){const t=JSON.stringify(e),r=JSON.stringify(this.getState());return t!==r}setState(e,t=!1){const r=this.getState(),{action:n,index:a,lifecycle:i,origin:s=null,size:o,status:u}={...r,...e};this.store.set("action",n),this.store.set("index",a),this.store.set("lifecycle",i),this.store.set("origin",s),this.store.set("size",o),this.store.set("status",u),t&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(r)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function ele(e){return new Que(e)}function tle({styles:e}){return E.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:e})}var rle=tle,nle=class extends E.Component{constructor(){super(...arguments),Ce(this,"isActive",!1),Ce(this,"resizeTimeout"),Ce(this,"scrollTimeout"),Ce(this,"scrollParent"),Ce(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),Ce(this,"hideSpotlight",()=>{const{continuous:e,disableOverlay:t,lifecycle:r}=this.props,n=[He.INIT,He.BEACON,He.COMPLETE,He.ERROR];return t||(e?n.includes(r):r!==He.TOOLTIP)}),Ce(this,"handleMouseMove",e=>{const{mouseOverSpotlight:t}=this.state,{height:r,left:n,position:a,top:i,width:s}=this.spotlightStyles,o=a==="fixed"?e.clientY:e.pageY,u=a==="fixed"?e.clientX:e.pageX,l=o>=i&&o<=i+r,d=u>=n&&u<=n+s&&l;d!==t&&this.updateState({mouseOverSpotlight:d})}),Ce(this,"handleScroll",()=>{const{target:e}=this.props,t=Ta(e);if(this.scrollParent!==document){const{isScrolling:r}=this.state;r||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else Us(t,"sticky")&&this.updateState({})}),Ce(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:e,disableScrolling:t,disableScrollParentFix:r=!1,target:n}=this.props,a=Ta(n);this.scrollParent=Iu(a??document.body,r,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;const{disableScrollParentFix:r,lifecycle:n,spotlightClicks:a,target:i}=this.props,{changed:s}=n0(e,this.props);if(s("target")||s("disableScrollParentFix")){const o=Ta(i);this.scrollParent=Iu(o??document.body,r,!0)}s("lifecycle",He.TOOLTIP)&&((t=this.scrollParent)==null||t.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:o}=this.state;o||this.updateState({showSpotlight:!0})},100)),(s("spotlightClicks")||s("disableOverlay")||s("lifecycle"))&&(a&&n===He.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):n!==He.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(e=this.scrollParent)==null||e.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:e}=this.state,{disableOverlayClose:t,placement:r,styles:n}=this.props;let a=n.overlay;return Y4()&&(a=r==="center"?n.overlayLegacyCenter:n.overlayLegacy),{cursor:t?"default":"pointer",height:Due(),pointerEvents:e?"none":"auto",...a}}get spotlightStyles(){var e,t,r;const{showSpotlight:n}=this.state,{disableScrollParentFix:a=!1,spotlightClicks:i,spotlightPadding:s=0,styles:o,target:u}=this.props,l=Ta(u),c=e_(l),d=Us(l),h=jue(l,s,a);return{...Y4()?o.spotlightLegacy:o.spotlight,height:Math.round(((e=c?.height)!=null?e:0)+s*2),left:Math.round(((t=c?.left)!=null?t:0)-s),opacity:n?1:0,pointerEvents:i?"none":"auto",position:d?"fixed":"absolute",top:h,transition:"opacity 0.2s",width:Math.round(((r=c?.width)!=null?r:0)+s*2)}}updateState(e){this.isActive&&this.setState(t=>({...t,...e}))}render(){const{showSpotlight:e}=this.state,{onClickOverlay:t,placement:r}=this.props,{hideSpotlight:n,overlayStyles:a,spotlightStyles:i}=this;if(n())return null;let s=r!=="center"&&e&&E.createElement(rle,{styles:i});if(t_()==="safari"){const{mixBlendMode:o,zIndex:u,...l}=a;s=E.createElement("div",{style:{...l}},s),delete a.backgroundColor}return E.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:t,role:"presentation",style:a},s)}},ale=class extends E.Component{constructor(){super(...arguments),Ce(this,"node",null)}componentDidMount(){const{id:e}=this.props;Ga()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),So||this.renderReact15())}componentDidUpdate(){Ga()&&(So||this.renderReact15())}componentWillUnmount(){!Ga()||!this.node||(So||Lo.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!Ga())return;const{children:e}=this.props;this.node&&Lo.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!Ga()||!So)return null;const{children:e}=this.props;return this.node?Lo.createPortal(e,this.node):null}render(){return So?this.renderReact16():null}},ile=class{constructor(e,t){if(Ce(this,"element"),Ce(this,"options"),Ce(this,"canBeTabbed",r=>{const{tabIndex:n}=r;return n===null||n<0?!1:this.canHaveFocus(r)}),Ce(this,"canHaveFocus",r=>{const n=/input|select|textarea|button|object/,a=r.nodeName.toLowerCase();return(n.test(a)&&!r.getAttribute("disabled")||a==="a"&&!!r.getAttribute("href"))&&this.isVisible(r)}),Ce(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),Ce(this,"handleKeyDown",r=>{const{code:n="Tab"}=this.options;r.code===n&&this.interceptTab(r)}),Ce(this,"interceptTab",r=>{r.preventDefault();const n=this.findValidTabElements(),{shiftKey:a}=r;if(!n.length)return;let i=document.activeElement?n.indexOf(document.activeElement):0;i===-1||!a&&i+1===n.length?i=0:a&&i===0?i=n.length-1:i+=a?-1:1,n[i].focus()}),Ce(this,"isHidden",r=>{const n=r.offsetWidth<=0&&r.offsetHeight<=0,a=window.getComputedStyle(r);return n&&!r.innerHTML?!0:n&&a.getPropertyValue("overflow")!=="visible"||a.getPropertyValue("display")==="none"}),Ce(this,"isVisible",r=>{let n=r;for(;n;)if(n instanceof HTMLElement){if(n===document.body)break;if(this.isHidden(n))return!1;n=n.parentNode}return!0}),Ce(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),Ce(this,"checkFocus",r=>{document.activeElement!==r&&(r.focus(),window.requestAnimationFrame(()=>this.checkFocus(r)))}),Ce(this,"setFocus",()=>{const{selector:r}=this.options;if(!r)return;const n=this.element.querySelector(r);n&&window.requestAnimationFrame(()=>this.checkFocus(n))}),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=t,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},sle=class extends E.Component{constructor(e){if(super(e),Ce(this,"beacon",null),Ce(this,"setBeaconRef",a=>{this.beacon=a}),e.beaconComponent)return;const t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.id="joyride-beacon-animation",e.nonce&&r.setAttribute("nonce",e.nonce),r.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),t.appendChild(r)}componentDidMount(){const{shouldFocus:e}=this.props;setTimeout(()=>{Ae.domElement(this.beacon)&&e&&this.beacon.focus()},0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");e?.parentNode&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:t,index:r,isLastStep:n,locale:a,onClickOrHover:i,size:s,step:o,styles:u}=this.props,l=Wn(a.open),c={"aria-label":l,onClick:i,onMouseEnter:i,ref:this.setBeaconRef,title:l};let d;if(e){const h=e;d=E.createElement(h,{continuous:t,index:r,isLastStep:n,size:s,step:o,...c})}else d=E.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:u.beacon,type:"button",...c},E.createElement("span",{style:u.beaconInner}),E.createElement("span",{style:u.beaconOuter}));return d}};function ole({styles:e,...t}){const{color:r,height:n,width:a,...i}=e;return qe.createElement("button",{style:i,type:"button",...t},qe.createElement("svg",{height:typeof n=="number"?`${n}px`:n,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof a=="number"?`${a}px`:a,xmlns:"http://www.w3.org/2000/svg"},qe.createElement("g",null,qe.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}var ule=ole;function lle(e){const{backProps:t,closeProps:r,index:n,isLastStep:a,primaryProps:i,skipProps:s,step:o,tooltipProps:u}=e,{content:l,hideBackButton:c,hideCloseButton:d,hideFooter:h,showSkipButton:f,styles:p,title:g}=o,T={};return T.primary=E.createElement("button",{"data-test-id":"button-primary",style:p.buttonNext,type:"button",...i}),f&&!a&&(T.skip=E.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:p.buttonSkip,type:"button",...s})),!c&&n>0&&(T.back=E.createElement("button",{"data-test-id":"button-back",style:p.buttonBack,type:"button",...t})),T.close=!d&&E.createElement(ule,{"data-test-id":"button-close",styles:p.buttonClose,...r}),E.createElement("div",{key:"JoyrideTooltip","aria-label":Wn(g??l),className:"react-joyride__tooltip",style:p.tooltip,...u},E.createElement("div",{style:p.tooltipContainer},g&&E.createElement("h1",{"aria-label":Wn(g),style:p.tooltipTitle},g),E.createElement("div",{style:p.tooltipContent},l)),!h&&E.createElement("div",{style:p.tooltipFooter},E.createElement("div",{style:p.tooltipFooterSpacer},T.skip),T.back,T.primary),T.close)}var cle=lle,dle=class extends E.Component{constructor(){super(...arguments),Ce(this,"handleClickBack",e=>{e.preventDefault();const{helpers:t}=this.props;t.prev()}),Ce(this,"handleClickClose",e=>{e.preventDefault();const{helpers:t}=this.props;t.close("button_close")}),Ce(this,"handleClickPrimary",e=>{e.preventDefault();const{continuous:t,helpers:r}=this.props;if(!t){r.close("button_primary");return}r.next()}),Ce(this,"handleClickSkip",e=>{e.preventDefault();const{helpers:t}=this.props;t.skip()}),Ce(this,"getElementsProps",()=>{const{continuous:e,index:t,isLastStep:r,setTooltipRef:n,size:a,step:i}=this.props,{back:s,close:o,last:u,next:l,nextLabelWithProgress:c,skip:d}=i.locale,h=Wn(s),f=Wn(o),p=Wn(u),g=Wn(l),T=Wn(d);let y=o,x=f;if(e){if(y=l,x=g,i.showProgress&&!r){const _=Wn(c,{step:t+1,steps:a});y=kp(c,t+1,a),x=_}r&&(y=u,x=p)}return{backProps:{"aria-label":h,children:s,"data-action":"back",onClick:this.handleClickBack,role:"button",title:h},closeProps:{"aria-label":f,children:o,"data-action":"close",onClick:this.handleClickClose,role:"button",title:f},primaryProps:{"aria-label":x,children:y,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:x},skipProps:{"aria-label":T,children:d,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:T},tooltipProps:{"aria-modal":!0,ref:n,role:"alertdialog"}}})}render(){const{continuous:e,index:t,isLastStep:r,setTooltipRef:n,size:a,step:i}=this.props,{beaconComponent:s,tooltipComponent:o,...u}=i;let l;if(o){const c={...this.getElementsProps(),continuous:e,index:t,isLastStep:r,size:a,step:u,setTooltipRef:n},d=o;l=E.createElement(d,{...c})}else l=E.createElement(cle,{...this.getElementsProps(),continuous:e,index:t,isLastStep:r,size:a,step:i});return l}},hle=class extends E.Component{constructor(){super(...arguments),Ce(this,"scope",null),Ce(this,"tooltip",null),Ce(this,"handleClickHoverBeacon",e=>{const{step:t,store:r}=this.props;e.type==="mouseenter"&&t.event!=="hover"||r.update({lifecycle:He.TOOLTIP})}),Ce(this,"setTooltipRef",e=>{this.tooltip=e}),Ce(this,"setPopper",(e,t)=>{var r;const{action:n,lifecycle:a,step:i,store:s}=this.props;t==="wrapper"?s.setPopper("beacon",e):s.setPopper("tooltip",e),s.getPopper("beacon")&&(s.getPopper("tooltip")||i.placement==="center")&&a===He.INIT&&s.update({action:n,lifecycle:He.READY}),(r=i.floaterProps)!=null&&r.getPopper&&i.floaterProps.getPopper(e,t)}),Ce(this,"renderTooltip",e=>{const{continuous:t,helpers:r,index:n,size:a,step:i}=this.props;return E.createElement(dle,{continuous:t,helpers:r,index:n,isLastStep:n+1===a,setTooltipRef:this.setTooltipRef,size:a,step:i,...e})})}componentDidMount(){const{debug:e,index:t}=this.props;Ui({title:`step:${t}`,data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var t;const{action:r,callback:n,continuous:a,controlled:i,debug:s,helpers:o,index:u,lifecycle:l,shouldScroll:c,status:d,step:h,store:f}=this.props,{changed:p,changedFrom:g}=n0(e,this.props),T=o.info(),y=a&&r!==pt.CLOSE&&(u>0||r===pt.PREV),x=p("action")||p("index")||p("lifecycle")||p("status"),_=g("lifecycle",[He.TOOLTIP,He.INIT],He.INIT),k=p("action",[pt.NEXT,pt.PREV,pt.SKIP,pt.CLOSE]),C=i&&u===e.index;if(k&&(_||C)&&n({...T,index:e.index,lifecycle:He.COMPLETE,step:e.step,type:Nn.STEP_AFTER}),h.placement==="center"&&d===Qe.RUNNING&&p("index")&&r!==pt.START&&l===He.INIT&&f.update({lifecycle:He.READY}),x){const A=Ta(h.target),P=!!A;P&&Bue(A)?(g("status",Qe.READY,Qe.RUNNING)||g("lifecycle",He.INIT,He.READY))&&n({...T,step:h,type:Nn.STEP_BEFORE}):(console.warn(P?"Target not visible":"Target not mounted",h),n({...T,type:Nn.TARGET_NOT_FOUND,step:h}),i||f.update({index:u+(r===pt.PREV?-1:1)}))}g("lifecycle",He.INIT,He.READY)&&f.update({lifecycle:G4(h)||y?He.TOOLTIP:He.BEACON}),p("index")&&Ui({title:`step:${l}`,data:[{key:"props",value:this.props}],debug:s}),p("lifecycle",He.BEACON)&&n({...T,step:h,type:Nn.BEACON}),p("lifecycle",He.TOOLTIP)&&(n({...T,step:h,type:Nn.TOOLTIP}),c&&this.tooltip&&(this.scope=new ile(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),g("lifecycle",[He.TOOLTIP,He.INIT],He.INIT)&&((t=this.scope)==null||t.removeScope(),f.cleanupPoppers())}componentWillUnmount(){var e;(e=this.scope)==null||e.removeScope()}get open(){const{lifecycle:e,step:t}=this.props;return G4(t)||e===He.TOOLTIP}render(){const{continuous:e,debug:t,index:r,nonce:n,shouldScroll:a,size:i,step:s}=this.props,o=Ta(s.target);return!a_(s)||!Ae.domElement(o)?null:E.createElement("div",{key:`JoyrideStep-${r}`,className:"react-joyride__step"},E.createElement(Z1,{...s.floaterProps,component:this.renderTooltip,debug:t,getPopper:this.setPopper,id:`react-joyride-step-${r}`,open:this.open,placement:s.placement,target:s.target},E.createElement(sle,{beaconComponent:s.beaconComponent,continuous:e,index:r,isLastStep:r+1===i,locale:s.locale,nonce:n,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:a,size:i,step:s,styles:s.styles})))}},s_=class extends E.Component{constructor(e){super(e),Ce(this,"helpers"),Ce(this,"store"),Ce(this,"callback",s=>{const{callback:o}=this.props;Ae.function(o)&&o(s)}),Ce(this,"handleKeyboard",s=>{const{index:o,lifecycle:u}=this.state,{steps:l}=this.props,c=l[o];u===He.TOOLTIP&&s.code==="Escape"&&c&&!c.disableCloseOnEsc&&this.store.close("keyboard")}),Ce(this,"handleClickOverlay",()=>{const{index:s}=this.state,{steps:o}=this.props;as(this.props,o[s]).disableOverlayClose||this.helpers.close("overlay")}),Ce(this,"syncState",s=>{this.setState(s)});const{debug:t,getHelpers:r,run:n=!0,stepIndex:a}=e;this.store=ele({...e,controlled:n&&Ae.number(a)}),this.helpers=this.store.getHelpers();const{addListener:i}=this.store;Ui({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:t}),i(this.syncState),r&&r(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!Ga())return;const{debug:e,disableCloseOnEsc:t,run:r,steps:n}=this.props,{start:a}=this.store;X4(n,e)&&r&&a(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,t){if(!Ga())return;const{action:r,controlled:n,index:a,status:i}=this.state,{debug:s,run:o,stepIndex:u,steps:l}=this.props,{stepIndex:c,steps:d}=e,{reset:h,setSteps:f,start:p,stop:g,update:T}=this.store,{changed:y}=n0(e,this.props),{changed:x,changedFrom:_}=n0(t,this.state),k=as(this.props,l[a]),C=!Rr(d,l),A=Ae.number(u)&&y("stepIndex"),P=Ta(k.target);if(C&&(X4(l,s)?f(l):console.warn("Steps are not valid",l)),y("run")&&(o?p(u):g()),A){let F=Ae.number(c)&&c<u?pt.NEXT:pt.PREV;r===pt.STOP&&(F=pt.START),[Qe.FINISHED,Qe.SKIPPED].includes(i)||T({action:r===pt.CLOSE?pt.CLOSE:F,index:u,lifecycle:He.INIT})}!n&&i===Qe.RUNNING&&a===0&&!P&&(this.store.update({index:a+1}),this.callback({...this.state,type:Nn.TARGET_NOT_FOUND,step:k}));const D={...this.state,index:a,step:k};if(x("action",[pt.NEXT,pt.PREV,pt.SKIP,pt.CLOSE])&&x("status",Qe.PAUSED)){const F=as(this.props,l[t.index]);this.callback({...D,index:t.index,lifecycle:He.COMPLETE,step:F,type:Nn.STEP_AFTER})}if(x("status",[Qe.FINISHED,Qe.SKIPPED])){const F=as(this.props,l[t.index]);n||this.callback({...D,index:t.index,lifecycle:He.COMPLETE,step:F,type:Nn.STEP_AFTER}),this.callback({...D,type:Nn.TOUR_END,step:F,index:t.index}),h()}else _("status",[Qe.IDLE,Qe.READY],Qe.RUNNING)?this.callback({...D,type:Nn.TOUR_START}):(x("status")||x("action",pt.RESET))&&this.callback({...D,type:Nn.TOUR_STATUS});this.scrollToStep(t)}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:t,lifecycle:r,status:n}=this.state,{debug:a,disableScrollParentFix:i=!1,scrollDuration:s,scrollOffset:o=20,scrollToFirstStep:u=!1,steps:l}=this.props,c=as(this.props,l[t]),d=Ta(c.target),h=Wue({isFirstStep:t===0,lifecycle:r,previousLifecycle:e.lifecycle,scrollToFirstStep:u,step:c,target:d});if(n===Qe.RUNNING&&h){const f=W0(d,i),p=Iu(d,i);let g=Math.floor($ue(d,o,i))||0;Ui({title:"scrollToStep",data:[{key:"index",value:t},{key:"lifecycle",value:r},{key:"status",value:n}],debug:a});const T=this.store.getPopper("beacon"),y=this.store.getPopper("tooltip");if(r===He.BEACON&&T){const{offsets:x,placement:_}=T;!["bottom"].includes(_)&&!f&&(g=Math.floor(x.popper.top-o))}else if(r===He.TOOLTIP&&y){const{flipped:x,offsets:_,placement:k}=y;["top","right","left"].includes(k)&&!x&&!f?g=Math.floor(_.popper.top-o):g-=c.spotlightPadding}g=g>=0?g:0,n===Qe.RUNNING&&zue(g,{element:p,duration:s}).then(()=>{setTimeout(()=>{var x;(x=this.store.getPopper("tooltip"))==null||x.instance.update()},10)})}}render(){if(!Ga())return null;const{index:e,lifecycle:t,status:r}=this.state,{continuous:n=!1,debug:a=!1,nonce:i,scrollToFirstStep:s=!1,steps:o}=this.props,u=r===Qe.RUNNING,l={};if(u&&o[e]){const c=as(this.props,o[e]);l.step=E.createElement(hle,{...this.state,callback:this.callback,continuous:n,debug:a,helpers:this.helpers,nonce:i,shouldScroll:!c.disableScrolling&&(e!==0||s),step:c,store:this.store}),l.overlay=E.createElement(ale,{id:"react-joyride-portal"},E.createElement(nle,{...c,continuous:n,debug:a,lifecycle:t,onClickOverlay:this.handleClickOverlay}))}return E.createElement("div",{className:"react-joyride"},l.step,l.overlay)}};Ce(s_,"defaultProps",Yue);var fle=s_;function ple({continuous:e,index:t,step:r,backProps:n,closeProps:a,primaryProps:i,skipProps:s,tooltipProps:o,isLastStep:u}){return v.jsxs("div",{...o,style:{backgroundColor:"#ffffff",borderRadius:"var(--radius-lg)",padding:"1.25rem",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3), 0 0 0 2px hsl(var(--primary))",maxWidth:"400px"},children:[r.title&&v.jsx("div",{style:{color:"#1a1a1a",fontSize:"1.125rem",fontWeight:700,marginBottom:"0.5rem"},children:r.title}),v.jsx("div",{style:{color:"#1a1a1a",fontSize:"0.9375rem",lineHeight:"1.6",padding:"0.5rem 0"},children:r.content}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1rem"},children:[v.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[t>0&&v.jsx("button",{...n,style:{color:"#666666",background:"none",border:"none",padding:"0.5rem 1rem",fontSize:"0.9375rem",fontWeight:500,cursor:"pointer"},children:""}),e&&!u&&v.jsx("button",{...i,style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))",border:"none",borderRadius:"var(--radius-md)",padding:"0.625rem 1.25rem",fontSize:"0.9375rem",fontWeight:600,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",cursor:"pointer"},children:""}),u&&v.jsx("button",{...i,style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))",border:"none",borderRadius:"var(--radius-md)",padding:"0.625rem 1.25rem",fontSize:"0.9375rem",fontWeight:600,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",cursor:"pointer"},children:""})]}),v.jsx("button",{...s,style:{color:"#666666",background:"none",border:"none",padding:"0.5rem 1rem",fontSize:"0.9375rem",fontWeight:500,cursor:"pointer"},children:""})]})]})}function mle({onComplete:e}){const[t,r]=E.useState(!1);E.useEffect(()=>{if(!M_()){const i=setTimeout(()=>{r(!0)},500);return()=>clearTimeout(i)}},[]);const n=i=>{const{status:s}=i;[Qe.FINISHED,Qe.SKIPPED].includes(s)&&(P_(),r(!1),e?.())},a=[{target:"body",content:v.jsxs("div",{className:"space-y-2",children:[v.jsx("h2",{className:"text-lg font-bold",style:{color:"#1a1a1a"},children:""}),v.jsx("p",{className:"text-sm",style:{color:"#4a4a4a"},children:""})]}),placement:"center",disableBeacon:!0},{target:'[data-tutorial="sidebar"]',content:v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"font-semibold",style:{color:"#1a1a1a"},children:""}),v.jsx("p",{className:"text-sm",style:{color:"#4a4a4a"},children:""})]}),placement:"right"},{target:'[data-tutorial="new-conversation"]',content:v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"font-semibold",style:{color:"#1a1a1a"},children:""}),v.jsx("p",{className:"text-sm",style:{color:"#4a4a4a"},children:""})]}),placement:"right"},{target:'[data-tutorial="knowledge-base"]',content:v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"font-semibold",style:{color:"#1a1a1a"},children:""}),v.jsx("p",{className:"text-sm",style:{color:"#4a4a4a"},children:""})]}),placement:"right"},{target:'[data-tutorial="input-area"]',content:v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"font-semibold",style:{color:"#1a1a1a"},children:""}),v.jsx("p",{className:"text-sm",style:{color:"#4a4a4a"},children:""})]}),placement:"top"},{target:'[data-tutorial="file-upload"]',content:v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"font-semibold",style:{color:"#1a1a1a"},children:""}),v.jsx("p",{className:"text-sm",style:{color:"#4a4a4a"},children:" TXTMDDOCDOCXPDF "})]}),placement:"top"},{target:'[data-tutorial="voice-input"]',content:v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"font-semibold",style:{color:"#1a1a1a"},children:""}),v.jsx("p",{className:"text-sm",style:{color:"#4a4a4a"},children:""})]}),placement:"top"},{target:'[data-tutorial="web-search"]',content:v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"font-semibold",style:{color:"#1a1a1a"},children:""}),v.jsx("p",{className:"text-sm",style:{color:"#4a4a4a"},children:""})]}),placement:"top"},{target:'[data-tutorial="knowledge-search"]',content:v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"font-semibold",style:{color:"#1a1a1a"},children:""}),v.jsx("p",{className:"text-sm",style:{color:"#4a4a4a"},children:""})]}),placement:"top"},{target:'[data-tutorial="deep-thinking"]',content:v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"font-semibold",style:{color:"#1a1a1a"},children:""}),v.jsx("p",{className:"text-sm",style:{color:"#4a4a4a"},children:""})]}),placement:"top"},{target:"body",content:v.jsxs("div",{className:"space-y-2",children:[v.jsx("h2",{className:"text-lg font-bold",style:{color:"#1a1a1a"},children:""}),v.jsx("p",{className:"text-sm",style:{color:"#4a4a4a"},children:""})]}),placement:"center"}];return v.jsx(fle,{steps:a,run:t,continuous:!0,showProgress:!1,showSkipButton:!0,callback:n,disableOverlayClose:!1,disableCloseOnEsc:!1,hideCloseButton:!0,spotlightClicks:!1,tooltipComponent:ple,styles:{options:{overlayColor:"rgba(0, 0, 0, 0.7)",zIndex:1e4}},floaterProps:{disableAnimation:!1,styles:{arrow:{length:8,spread:16},floater:{filter:"drop-shadow(0 10px 40px rgba(0, 0, 0, 0.3))"}}}})}function gle(){const[e,t]=E.useState([]),[r,n]=E.useState(null),a=g_(),i=X_(),{messages:s,isGenerating:o,sendMessage:u,stopGenerating:l,startNewConversation:c}=Ise(),{performRetrieval:d}=Dse();E.useEffect(()=>{if(e.length===0){const C={id:Date.now().toString(),title:"",messages:[],timestamp:Date.now()};t([C]),n(C.id)}},[e.length]),E.useEffect(()=>{r&&s.length>0&&t(C=>C.map(A=>{if(A.id===r){const P=A.messages.length===0&&s.length>0?s[0].content.slice(0,30)+(s[0].content.length>30?"...":""):A.title;return{...A,messages:s,title:P,timestamp:Date.now(),lastMessage:s[s.length-1]?.content}}return A}))},[s,r]);const h=e.find(C=>C.id===r),f=E.useCallback(()=>{const C={id:Date.now().toString(),title:"",messages:[],timestamp:Date.now()};t(A=>[C,...A]),n(C.id),c()},[c]),p=E.useCallback(C=>{const A=e.filter(P=>P.id!==C);if(t(A),r===C){const P=A[0];n(P?.id||null),P&&c()}},[e,r,c]),g=E.useCallback(C=>{n(C),c()},[c]),T=E.useCallback(async(C,A)=>{!r||o||(i.pathname!=="/chat"?(console.log(" UI: "),a({to:"/chat"}),setTimeout(async()=>{await y(C,A)},100)):await y(C,A))},[r,o,u,d,a,i.pathname]),y=E.useCallback(async(C,A)=>{try{const P=A?.showReferences||A?.useWebSearch;let D;if(P){const $={showReferences:A.showReferences,useWebSearch:A.useWebSearch,knowledgeId:A.knowledgeId},F=!!A?.fileContent;let q;if(F&&A.fileContent){const ee=A.fileContent;if(ee.length>1e3){const Z=Fse(ee,{sliceLength:100,maxSlices:10,random:!0});q=Bse(Z)}else q=ee}else q=C;const U=await d(q,$);D={knowledgeContext:U.knowledgeContext,webContext:U.webContext,references:U.references}}await u(C,A,D)}catch(P){console.error(" :",P)}},[u,d]),x=E.useCallback(()=>{l()},[l]),_=E.useCallback(C=>{if(o)return;const A=s.findIndex(F=>F.id===C);if(A===-1||s[A].role!=="assistant")return;const P=A-1;if(P<0||s[P].role!=="user")return;const D=s[P],$=s.slice(0,P);t(F=>F.map(q=>q.id===r?{...q,messages:$,timestamp:Date.now()}:q)),setTimeout(()=>{T(D.content,{showThinking:!0,showReferences:!0,useWebSearch:!0})},100)},[s,o,r,T]),k=E.useCallback(()=>{window.location.href="/knowledge"},[]);return v.jsxs(CS,{defaultOpen:!0,children:[v.jsx(mle,{}),v.jsx(KG,{conversations:e,currentConversationId:r,onSelectConversation:g,onNewConversation:f,onDeleteConversation:p,onOpenKnowledgeBase:k}),v.jsxs(RS,{className:"flex flex-col h-screen overflow-hidden",children:[v.jsx(MW,{}),v.jsx("div",{className:"flex-1 overflow-hidden",children:v.jsx(OW,{messages:h?.messages||[],onSendMessage:T,isGenerating:o,onStopGenerating:x,onRegenerateMessage:_})})]})]})}function yle(){return v.jsx(K_,{children:v.jsx(gle,{})})}const ace=Object.freeze(Object.defineProperty({__proto__:null,component:yle},Symbol.toStringTag,{value:"Module"})),ble=Object.freeze(Object.defineProperty({__proto__:null,Mermaid:UT},Symbol.toStringTag,{value:"Module"}));export{Mn as C,Zq as D,ex as a,tx as b,j2 as c,UP as d,Hle as e,m0 as f,ace as g,Fu as h,Tt as k,fi as s,Ke as u,rH as w,v5 as z};
