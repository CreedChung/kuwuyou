import{c as L,d as k,r as a,j as e,L as r}from"./main-ARwKK-j-.js";import{B as C}from"./button-Bs-EW9hM.js";import{C as I,a as F,b as T,c as E,d as u,I as g,e as p}from"./input-bDnrxQmw.js";import{L as b}from"./label-gAYxsn89.js";import{T as M,a as S,b as j,c as f}from"./tabs-wB_6phXU.js";import{u as P}from"./useAuth-8jkACfxf.js";import{M as R}from"./mail-DLPs3P3A.js";import{L as B,E as D}from"./lock-CZJyACSn.js";import{E as H}from"./eye-mDg7fqWP.js";import"./index-DXkkxcPR.js";import"./index-B5iswCLf.js";import"./index-iEnRD9Ab.js";const _=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],z=L("log-in",_);function A(){const v=k(),n=a.useId(),c=a.useId(),[d,m]=a.useState(!1),[l,y]=a.useState(!1),[s,x]=a.useState({email:"",password:""}),{signIn:N}=P(),w=async t=>{t.preventDefault();const o=s.email.trim(),h=s.password.trim();if(!o){alert("请输入邮箱");return}if(!h){alert("请输入密码");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){alert("邮箱格式错误");return}m(!0);try{const{error:i}=await N(o,h);i||v.navigate({to:"/chat"})}catch(i){console.error("登录错误:",i)}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:e.jsxs("div",{className:"w-full max-w-md relative z-10",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-cyan-600 to-sky-600 bg-clip-text text-transparent",children:"库无忧助手"})}),e.jsxs(I,{className:"border-white/40 shadow-2xl backdrop-blur-xl bg-white/95 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 to-gray-50/30 pointer-events-none"}),e.jsxs(F,{className:"relative",children:[e.jsxs(r,{to:"/",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-800 mb-4 transition-colors group",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 transition-transform group-hover:-translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[e.jsx("title",{children:"返回箭头"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})]}),e.jsx("span",{className:"font-medium",children:"返回主页"})]}),e.jsx(T,{className:"text-2xl text-center text-gray-800",children:"登录账号"}),e.jsx(E,{className:"text-center text-gray-600",children:"选择登录方式"})]}),e.jsxs(M,{defaultValue:"email",className:"w-full",children:[e.jsxs(S,{className:"grid max-w-sm grid-cols-2 mx-auto mb-6",children:[e.jsx(j,{value:"email",children:"邮箱登录"}),e.jsx(j,{value:"dingtalk",children:"钉钉登录"})]}),e.jsx(f,{value:"email",children:e.jsxs("form",{onSubmit:w,children:[e.jsxs(u,{className:"space-y-4 relative",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:n,className:"text-gray-700",children:"邮箱地址"}),e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-blue-600"}),e.jsx(g,{id:n,type:"email",placeholder:"your@email.com",value:s.email,onChange:t=>x({...s,email:t.target.value}),className:"pl-10 bg-white/80 border-gray-300 text-gray-900 placeholder:text-gray-500 focus:border-blue-600 focus:ring-blue-600/20 transition-all"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:c,className:"text-gray-700",children:"密码"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-blue-600"}),e.jsx(g,{id:c,type:l?"text":"password",placeholder:"••••••••",value:s.password,onChange:t=>x({...s,password:t.target.value}),className:"pl-10 pr-10 bg-white/80 border-gray-300 text-gray-900 placeholder:text-gray-500 focus:border-blue-600 focus:ring-blue-600/20 transition-all"}),e.jsx("button",{type:"button",onClick:()=>y(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-blue-600 hover:text-blue-800 transition-colors",children:l?e.jsx(D,{className:"w-4 h-4"}):e.jsx(H,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex items-center justify-between text-sm",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 bg-white text-blue-600 focus:ring-blue-600/20 transition-all"}),e.jsx("span",{className:"text-gray-600 group-hover:text-gray-800 transition-colors",children:"记住我"})]})})]}),e.jsxs(p,{className:"flex flex-col gap-4 relative",children:[e.jsx(C,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white font-medium shadow-lg shadow-blue-600/30 transition-all transform hover:scale-[1.02] active:scale-[0.98]",disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"登录中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"登录"]})}),e.jsxs("p",{className:"text-sm text-center text-gray-600",children:["还没有账号?"," ",e.jsx(r,{to:"/auth/register",className:"text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors",children:"立即注册"})]})]})]})}),e.jsxs(f,{value:"dingtalk",children:[e.jsx(u,{className:"space-y-4 relative py-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[e.jsx("div",{className:"w-48 h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-400 text-sm",children:"钉钉扫码区域"})}),e.jsx("p",{className:"text-gray-600 text-sm",children:"请使用钉钉扫码登录"})]})}),e.jsx(p,{className:"flex flex-col gap-4 relative",children:e.jsxs("p",{className:"text-sm text-center text-gray-600",children:["还没有账号?"," ",e.jsx(r,{to:"/auth/register",className:"text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors",children:"立即注册"})]})})]})]})]}),e.jsxs("p",{className:"text-center text-xs text-gray-600 mt-6",children:["继续即表示您同意我们的"," ",e.jsx(r,{to:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"服务条款"})," ","和"," ",e.jsx(r,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"隐私政策"})]})]})})}function ee(){return e.jsx(A,{})}export{ee as component};
